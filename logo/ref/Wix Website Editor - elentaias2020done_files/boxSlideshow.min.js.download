define("boxSlideshow",["tslib","lodash","react","constants","stateManagement","baseUI","coreBi","platformEvents"],(function(e,t,o,n,i,l,s,r){return function(e){var t={};function o(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,o),i.l=!0,i.exports}return o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(n,i,function(t){return e[t]}.bind(null,i));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=1191)}({0:function(t,o){t.exports=e},1:function(e,o){e.exports=t},1191:function(e,t,o){var n,i;n=[o,t,o(0),o(1192)],void 0===(i=function(e,t,o,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i={boxSlideShowUtils:(n=o.__importDefault(n)).default};t.utils=i}.apply(t,n))||(e.exports=i)},1192:function(e,t,o){var n,i;n=[o,t,o(0),o(1),o(3),o(12),o(9),o(7),o(29),o(6)],void 0===(i=function(e,t,o,n,i,l,s,r,a,c){"use strict";n=o.__importDefault(n),i=o.__importDefault(i),l=o.__importStar(l),s=o.__importStar(s),r=o.__importDefault(r),a=o.__importStar(a),c=o.__importDefault(c);const d=r.default.editorPlugins.components.selectors,{findCurrentSlide:u}=r.default.boxSlideShow.selectors,p=["SlideVertical","SlideHorizontal"],f=(e,t)=>{let{widgetRef:o,stateBoxRef:n,stateIndex:i}=t;const{applicationId:l}=e.components.data.get(o),{applicationId:s}=e.platform.getAppDataByAppDefId(l),r=e.dsRead.components.getChildren(n)[i];e.platform.notifyApplication(s,a.factory.stateChanged({componentRef:n,selectedStateRef:r}))};function S(e){x(e),e.preventMouseDown(),function(e){e.panelHelpers.isPanelOpen("compPanels.dynamicPanels.mobileBackgroundSettingsPanel")&&e.closeCompPanelIfExists()}(e)}function m(e,t,o){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const{dsRead:i}=e;S(e);const l=u(e.dsRead,t),s=e.components.getContainer(t),r=d.getCompTypeSuffix(s,i),a="AppWidget"===r;e.components.behaviors.execute(t,"changeState",{stateIndex:o},(function(){e.allowMouseDown(),a&&f(e,{widgetRef:s,stateBoxRef:t,stateIndex:o}),g(e,t,l,n)}));const c=d.getCompTypeSuffix(t,i);"StateBox"===c&&a&&!n&&e.selection.selectComponentByCompRef(s)}function g(e,t,o){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];i||e.selection.selectComponentByCompRef(t);const s=u(e.dsRead,t);n.default.isEqual(o,s)||(e.bi.event(l.events.boxSlideShow.SLIDES_NAVIGATION,n.default.assign({origin:"sliderControl"},e.components.getDefaultBiParams(t))),h(e,t))}function h(e,t){const o=e.components.properties.get(t);if(o.shouldHideOverflowContent){const i=e.components.layout.getRelativeToScreen(t),s=u(e,t),r=e.components.getChildren(s,!0);n.default.forEach(r,(function(s){const r=e.components.layout.getRelativeToScreen(s);if(r.y+r.height<i.y||r.y>i.y+i.height||r.x+r.width<i.x||r.x>i.x+i.width)return e.components.properties.update(t,{shouldHideOverflowContent:!1}),n.default.includes(p,o.transition)&&e.components.properties.update(t,{transition:"NoTransition"}),e.bi.event(l.events.boxSlideShow.SLIDESHOW_HIDDEN_ELEMENTS_TOOLTIP_APPEAR),_(e,t),!1}))}}function x(e){e.toolsControl.toggleHalfOpacityTools(!1),e.hideFloatingBubble()}function _(e,t){const o=e.components.layout.getRelativeToScreenConsideringScroll(t),r=i.default.createElement(s.popoverTemplates.quickTip,{text:"ONSTAGE_SLIDESHOW_RESIZE_TOOLTIP",linkActionText:"ONSTAGE_SLIDESHOW_RESIZE_TOOLTIP_LINK",linkAction(){e.bi.event(l.events.boxSlideShow.SLIDESHOW_HIDDEN_ELEMENTS_TOOLTIP_ACTION_CLICKED,{action:"settings"}),function(e,t){e.selection.selectComponentByCompRef(t),x(e);const o={selectedComponent:t,compType:e.components.getType(t)};e.panelManager.openComponentPanel("compPanels.panels.BoxSlideShow.settingsPanel",o)}(e,t)},symbol:"idea-bulb",closeAction(){e.bi.event(l.events.boxSlideShow.SLIDESHOW_HIDDEN_ELEMENTS_TOOLTIP_ACTION_CLICKED,{action:"x"}),x(e)},onOuterClick(o){const i=n.default.head(e.selection.getComponentsUnderClick(o)),l=u(e.dsRead,t),s=e.components.getChildren(l,!0);i&&(n.default.isEqual(i,t)||n.default.some(s,i))||x(e)}}),a={height:1,width:1,top:o.y<0?e.editorConfig.topBarHeight+10:o.y+e.editorConfig.topBarHeight+20,left:o.x+o.width/2},c={noArrow:!0,shake:!1,behindPopUps:!0,hideMethod:e.toolsControl.toggleHalfOpacityTools.bind(this,!1),alignment:"bottom"};e.showFloatingBubble(r,a,c,!0)}return{getSlideShowParent:function(e,t){return e.utils.findAncestorMatchesCondition(t,e.components.is.slidesContainer)},getSlideShowSlideParent:function(e,t){return e.utils.findAncestorMatchesCondition(t,e.components.is.slideContainer)},moveNextSlide:function(e,t){S(e);const o=u(e.dsRead,t);e.components.behaviors.execute(t,"nextSlide",null,(function(){e.allowMouseDown(),g(e,t,o)}))},movePrevSlide:function(e,t){S(e);const o=u(e.dsRead,t);e.components.behaviors.execute(t,"prevSlide",null,(function(){e.allowMouseDown(),g(e,t,o)}))},changeState:m,preNavigationActions:S,identifyComponentsOutOfSlideshow:h,showCompsOutOfSlideshowTooltip:_,hideQuickTip:x,mobileSwitchCallback:function(e){const t=e.pages.getCurrentPage(),o=e.components.get.byType(c.default.COMP_TYPES.STATE_BOX,t).map(t=>({stateBox:t,currentSlideIndex:r.default.boxSlideShow.selectors.getCurrentSlideIndex(e.dsRead,t)})).filter(e=>{let{currentSlideIndex:t}=e;return 0!==t});e.dsActions.waitForChangesApplied(()=>{o.forEach(t=>{let{stateBox:o,currentSlideIndex:n}=t;m(e,o,n,!0)})})}}}.apply(t,n))||(e.exports=i)},12:function(e,t){e.exports=s},29:function(e,t){e.exports=r},3:function(e,t){e.exports=o},6:function(e,t){e.exports=n},7:function(e,t){e.exports=i},9:function(e,t){e.exports=l}})}));
//# sourceMappingURL=boxSlideshow.min.js.map