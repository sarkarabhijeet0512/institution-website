define("compPanelInfra",["tslib","lodash","util","react","prop-types","create-react-class","constants","stateManagement","wix-base-ui","baseUI","core","coreBi","experiment","react-dom","panels","zepto","santa-editor-utils","reduxLibs","blog"],(function(t,e,i,o,s,n,a,r,l,p,u,d,c,m,f,h,g,C,_){return function(t){var e={};function i(o){if(e[o])return e[o].exports;var s=e[o]={i:o,l:!1,exports:{}};return t[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=t,i.c=e,i.d=function(t,e,o){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(o,s,function(e){return t[e]}.bind(null,s));return o},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=1198)}({0:function(e,i){e.exports=t},1:function(t,i){t.exports=e},11:function(t,e){t.exports=u},1198:function(t,e,i){var o,s;o=[i,e,i(0),i(1199),i(1200),i(391),i(1201),i(392),i(393),i(1202),i(1203),i(1204)],void 0===(s=function(t,e,i,o,s,n,a,r,l,p,u,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),o=i.__importDefault(o),s=i.__importDefault(s),n=i.__importDefault(n),a=i.__importDefault(a),r=i.__importDefault(r),l=i.__importDefault(l),p=i.__importDefault(p),u=i.__importDefault(u),d=i.__importDefault(d),e.compPanelMixin=o.default,e.panelSwitcherMixin=s.default,e.appLogicCustomizationMixin=n.default,e.wixappsPanelMixin=a.default,e.wixappsViewCacheInvalidationMixin=r.default,e.compPanelFrame=l.default,e.externalCompPanel=p.default,e.bi=d.default,e.onPreviewReady=function(t){t.registerRemovePlugin("wysiwyg.viewer.components.PopupCloseIconButton",u.default.bind(null,t))}}.apply(e,o))||(t.exports=s)},1199:function(t,e,i){var o,s;o=[i,e,i(0),i(4),i(1),i(19),i(2),i(6),i(11)],void 0===(s=function(t,e,i,o,s,n,a,r,l){"use strict";function p(t,e){return e&&s.default.get(e,t)}function u(t,e,i,o){const s=this.getEditorAPI();this.setValueByKey(s,t,i,e,o)}function d(t,e){return s.default.isUndefined(t)?{value:this[e],requestChange:u.bind(this,t,e)}:s.default.isArray(t)?{value:s.default.merge(s.default.pick(this[e],t),s.default.zipObject(t)),requestChange:u.bind(this,t,e)}:{value:p(t,this[e]),requestChange:u.bind(this,t,e)}}return o=i.__importDefault(o),s=i.__importDefault(s),n=i.__importStar(n),a=i.__importStar(a),r=i.__importDefault(r),l=i.__importStar(l),{propTypes:{selectedComponent:o.default.arrayOf(o.default.object)},mixins:[l.mixins.editorAPIMixin,n.mixins.reportBiEventOnUiChangeMixin],getFrameProps(){return a.panelUtils.getFrameProps(this.props)},getInitialState(){const t=this.getEditorAPI();return this.data=t.components.data.get(this.props.selectedComponent),this.properties=t.components.properties.get(this.props.selectedComponent),this.layout=t.components.layout.getRelativeToStructure(this.props.selectedComponent),t.components.design&&(this.design=t.components.design.get(this.props.selectedComponent)),{}},componentWillReceiveProps(t){const e=this.getEditorAPI();e.components.is.exist(t.selectedComponent)&&(this.data=e.components.data.get(t.selectedComponent),this.properties=e.components.properties.get(t.selectedComponent),this.layout=e.components.layout.getRelativeToStructure(t.selectedComponent),this.design=e.components.design.get(t.selectedComponent))},linkedData(t){return d.call(this,t,"data")},linkedProperty(t){return d.call(this,t,"properties")},getData(t){let e=p(t,this.data);return s.default.isUndefined(e)&&!s.default.isUndefined(this.design)&&(e=p(t,this.design)),e},getDesign(t){return p(t,this.design)},updateData(t,e){u.call(this,t,"data",e)},updateDesign(t,e,i){u.call(this,t,"design",e,i)},getProperty(t){return p(t,this.properties)},updateProperty(t,e,i){u.call(this,t,"properties",e,i)},getLayout(t){return p(t,this.layout)},setValueByKey(t,e,i,o,n){let a=s.default.cloneDeep(this[o])||{};if(s.default.isUndefined(e))a=i;else if(s.default.isArray(e)&&s.default.isObject(i)){const t=s.default.pick(i,e);s.default.assign(a,t)}else s.default.isObject(e)?s.default.assign(a,e):s.default.set(a,e,i);return a.id=a&&a.id?a.id:this.data&&this.data.id,"data"===o?t.components.data.update(this.props.selectedComponent,a,n):"design"===o?t.components.design.update(this.props.selectedComponent,a,!1,n):t.components.properties.update(this.props.selectedComponent,a,n),a},openHelpCenter(t,e){const i=this.getEditorAPI();if(!t)return;const o=!s.default.isNil(e),n={component:i.selection.getSelectedComponentType(),learn_more:o?!!e:null,panel_name:this.props.panelName,origin:r.default.BI.HELP.ORIGIN.PANEL};i.panelManager.openHelpCenter(t,null,n)}}}.apply(e,o))||(t.exports=s)},12:function(t,e){t.exports=d},1200:function(t,e,i){var o,s;o=[i,e,i(0),i(18),i(3),i(1)],void 0===(s=function(t,e,i,o,s,n){"use strict";function a(t,e){return n.default.assign({},t,e,{switchPanelFunc:this.switchPanel,ref:"currentPanel",style:t.style,panelName:t.panelName})}function r(){const t=this.refs.currentPanel&&o.default.findDOMNode(this.refs.currentPanel);return t&&{top:t.style.top,left:t.style.left}}function l(t){const e=a.call(this,this.props,t);return e.onBackClick=this.previousPanel,e.backButtonLabel=this.props.backButtonLabel,e.style=n.default.assign(e.style||{},r.call(this)),e}function p(){const t=n.default.clone(n.default.last(this.state.previousStates));return t.currentPanelProps=n.default.clone(t.currentPanelProps),t.currentPanelProps.style=n.default.assign(t.currentPanelProps.style||{},r.call(this)),t}return o=i.__importDefault(o),s=i.__importDefault(s),n=i.__importDefault(n),{getInitialState(){return{previousStates:[],currentPanelClass:this.getInitialPanelClass(),currentPanelProps:a.call(this,this.props)}},componentWillReceiveProps(t){this.setState({currentPanelProps:a.call(this,t,this.state.currentPanelProps)})},isInitialPanel(){return n.default.isEmpty(this.state)||n.default.isEmpty(this.state.previousStates)},switchPanel(t,e){const i=this.state.previousStates.concat(n.default.clone(this.state));this.setState({previousStates:i,currentPanelClass:t,currentPanelProps:l.call(this,e)})},previousPanel(){if(!this.isInitialPanel()){const t=p.call(this);this.setState(t),this.onPreviousPanel&&this.onPreviousPanel(t.currentPanelClass)}},getCurrentPanel(){return this.refs.currentPanel},render(){return s.default.createElement(this.state.currentPanelClass,this.state.currentPanelProps)}}}.apply(e,o))||(t.exports=s)},1201:function(t,e,i){var o,s;o=[i,e,i(0),i(1),i(53),i(391)],void 0===(s=function(t,e,i,o,s,n){"use strict";return o=i.__importDefault(o),s=i.__importDefault(s),{mixins:[(n=i.__importDefault(n)).default],evaluateHiddenWhenCondition(t){if(!t)return!1;return this.getEditorAPI().dsRead.wixapps.classics.getAppPartViewFieldKeyValue(this.props.selectedComponent[0],t.forType,this._getFormat(),t.fieldId,t.key)===t.value},linkedCustomization(t){const e=this,i={value:this._getCustomization(t).value,requestChange:o=>(i.value=o,e.setCustomizationValue(t,o))};return i},setCustomizationValue(t,e,i){const o=this._getCustomization(t);o.value=e,this._normalizeCustomizationFormat(o),null!==e?this.setAppLogicCustomization(o,i):this.removeAppLogicCustomization(o,i)},getAvailableCustomizations(t,e){const i=o.default.has(e,"format")?e.format:this._getFormat(),s=o.default.has(e,"viewName")?e.viewName:this._getSelectedViewName();return this.getEditorAPI().dsRead.wixapps.classics.getAvailableCustomizations(this.getSelectedComponentPackageName(),s,i,t)},getStyleCustomizations(t){return this.getEditorAPI().dsRead.wixapps.classics.getStyleCustomizations(this.getSelectedComponentPackageName(),t)},getAvailableViewNames(){return this.getEditorAPI().dsRead.wixapps.classics.getAvailableViewNames(this.getSelectedComponentPackageName(),this._getSelectedAppPartName())},isRTLAllowed(){return this.getEditorAPI().dsRead.wixapps.classics.isRTLAllowed(this.getSelectedComponentPackageName(),this._getSelectedAppPartName())},getInnerComps(){return this.getEditorAPI().dsRead.wixapps.classics.getInnerComps(this.getSelectedComponentPackageName(),this._getSelectedViewName())||[]},getSelectedAppPartDisplayName(){return this.getEditorAPI().dsRead.wixapps.classics.getAppPartRole(this.getSelectedComponentPackageName(),this._getSelectedAppPartName())},getPanelTeaserTitle(){return"title_".concat(this.getSelectedAppPartDisplayName(),"_Teaser_Text")},getPanelTeaserText(){return"".concat(this.getSelectedAppPartDisplayName(),"_Teaser_Text")},getSelectedComponentPackageName(){return this.getEditorAPI().dsRead.wixapps.classics.getPackageName(this.getData("appInnerID"))},getComponentHelpIdByType(t){return s.default.getAppPartHelpId(this._getSelectedAppPartName(),this.getEditorAPI().viewMode.get(),t)},isMobileViewMode(){const t=this.getEditorAPI().viewMode;return t.get()===t.VIEW_MODES.MOBILE},isSinglePost(){return"SINGLE_POST"===this.getSelectedAppPartDisplayName()},_getFormat(){return{MOBILE:"Mobile",DESKTOP:""}[this.getEditorAPI().viewMode.get()]},_getSelectedViewName(){return this.getData("viewName")},_getSelectedAppPartName(){return this.getData("appPartName")},_getTextCustomizationKeys:()=>["comp.fontFamily","comp.fontSize","comp.bold","comp.italic","comp.underline","comp.color","comp.backgroundColor"],_getTextAndStyleCustomizationKeys(){return this._getTextCustomizationKeys().concat("comp.style")},_getDesignCustomizationKeys(){return this._getTextAndStyleCustomizationKeys().concat("comp.hidden")},_isDesignCustomizationKey(t){return o.default.includes(this._getDesignCustomizationKeys(),t)},_isDesktopCustomizationFormat:t=>""===t,_shouldFallbackToCommonCustomization(t){return this._isDesignCustomizationKey(t.key)&&this._isDesktopCustomizationFormat(t.format)},_findCustomization(t,e){const i=o.default.merge({},t,{format:e||t.format});return this.getEditorAPI().dsRead.wixapps.classics.findCustomizationOverride(this.getAppLogicCustomizations(),i)},_getCommonCustomizationValue(t){if("*"!==t.format){const e=this._findCustomization(t,"*");return e&&e.value}},_getDefaultCustomizationValue(t){return this.getEditorAPI().dsRead.wixapps.classics.findCustomizationDefaultValueFromDescriptor(this.getSelectedComponentPackageName(),t)},_createCustomization(t,e){const i=this._getCommonCustomizationValue(t);return{fieldId:t.fieldId,forType:t.forType,format:e,key:t.key,type:"AppPartCustomization",view:t.view,value:void 0!==i?i:this._getDefaultCustomizationValue(t)}},_findCompRuleByFieldIdAndViewName:(t,e,i)=>o.default.find(t,{fieldId:e,view:i}),_isCompFieldId:(t,e)=>t.compId===e||t.id===e,_findInnerCompByRule(t){return o.default.find(this.getInnerComps(),o.default.bind((function(e){return e.rules?this._findCompRuleByFieldIdAndViewName(e.rules,t.fieldId,t.view):this._isCompFieldId(e,t.fieldId)}),this))},_isTextFieldCompType(t){return"wysiwyg.viewer.components.WRichText"===this.getEditorAPI().dsRead.wixapps.classics.getComponentTypeByProxyName(t)},_isCustomizationForTextField(t){const e=this._findInnerCompByRule(t);return!!e&&this._isTextFieldCompType(e.type)},_isTextOrStyleCustomizationKey(t){return o.default.includes(this._getTextAndStyleCustomizationKeys(),t)},_applyCommonTextCustomizationsOnlyToDesktop(t){this._getTextAndStyleCustomizationKeys().forEach((function(e){const i=o.default.assign({},t,{format:"*",key:e}),s=this._findCustomization(i);if(s){this.removeAppLogicCustomization(i);const t=o.default.assign({},s,{format:""});this.setAppLogicCustomization(t)}}),this)},_createMobileStyleRule:t=>o.default.assign({},t,{format:"Mobile",key:"comp.style"}),_hasMobileStyleCustomization(t){const e=this._createMobileStyleRule(t);return this._isExistingCustomization(e)},_isExistingCustomization(t){return Boolean(this.getAppLogicCustomization(t))},_getCustomization(t){let e=t.format,i=this._findCustomization(t);return!i&&this._shouldFallbackToCommonCustomization(t)&&(e="*",i=this._findCustomization(t,e)),i||(i=this._createCustomization(t,e)),i},_isNewTextCustomization(t){return!this._isExistingCustomization(t)&&this._isTextOrStyleCustomizationKey(t.key)&&this._isCustomizationForTextField(t)},_normalizeNewTextCustomizationFormat(t){"Mobile"===t.format?"comp.style"===t.key&&this._applyCommonTextCustomizationsOnlyToDesktop(t):"*"===t.format&&this._hasMobileStyleCustomization(t)&&(t.format="")},_normalizeCustomizationFormat(t){this._isNewTextCustomization(t)&&this._normalizeNewTextCustomizationFormat(t)}}}.apply(e,o))||(t.exports=s)},1202:function(t,e,i){var o,s;o=[i,e,i(0),i(3),i(1),i(2),i(13),i(6),i(32),i(393),i(5),i(7)],void 0===(s=function(t,e,i,o,s,n,a,r,l,p,u,d){"use strict";o=i.__importDefault(o),s=i.__importDefault(s),n=i.__importStar(n),a=i.__importDefault(a),r=i.__importDefault(r),l=i.__importStar(l),p=i.__importDefault(p),u=i.__importDefault(u),d=i.__importDefault(d);const{compPanel:c}=d.default.editorPlugins.components.hoc,{connect:m,STORES:{STATE_ONLY:f}}=n.hoc,h=t=>t===r.default.componentPanels.settings?"settings-panel":"";return t=>e=>{const i=c(e.PanelClass),r=s.default.reduce(e.experiments,(t,e)=>s.default.defaults({[e]:a.default.isOpen(e)},t),{}),d=u.default({displayName:l.recompose.wrapDisplayName(e.PanelClass,"externalCompPanel"),render(){const a=s.default.defaults({title:this.props.title||e.title,helpId:(()=>{if(this.props.helpId)return this.props.helpId;const{mobileHelpId:t,helpId:i}=e,{isEditorForMobile:o}=this.props;return o&&t?t:i})(),contentClass:h(t),experiments:r},e.frameProps||{},n.panelUtils.getFrameProps(this.props));return o.default.createElement(p.default,a,o.default.createElement(i,this.props))}});return m(f,t=>{let{state:e}=t;return{isEditorForMobile:e.isMobileEditor}})(d)}}.apply(e,o))||(t.exports=s)},1203:function(t,e,i){var o,s;o=[i,e,i(0),i(12),i(1),i(6),i(7)],void 0===(s=function(t,e,i,o,s,n,a){"use strict";o=i.__importStar(o),s=i.__importDefault(s),n=i.__importDefault(n),a=i.__importDefault(a);const r=n.default.COMP_PANELS.POPUP.CONTAINER.SETTINGS_PANEL.NAME;return function(t,e,i,n){const l=n();return function(t){const e=t.panelManager.getOpenPanels(),i=s.default.find(e,{name:r});return Boolean(i)}(t)||(!function(t){t.store.dispatch(a.default.editorPlugins.notifications.actions.showUserActionNotification({message:"Notifications_Lightbox_Close_Text",title:"Notifications_Lightbox_Close_Text",type:"warning",link:{caption:"Notifications_Lightbox_Close_Link",onNotificationLinkClick:()=>{const e=t.pages.popupPages.getPopupContainer();t.selection.selectComponentByCompRef(e),t.openComponentPanel("settingsPanel")}}}))}(t),t.bi.event(o.events.popups.pop_up_tooltip_appearance_on_delete_x)),l}}.apply(e,o))||(t.exports=s)},1204:function(t,e,i){var o,s;o=[i,e,i(0),i(1),i(1205)],void 0===(s=function(t,e,i,o,s){"use strict";return o=i.__importDefault(o),{events:(s=i.__importDefault(s)).default,registerEvents:o.default.noop}}.apply(e,o))||(t.exports=s)},1205:function(t){t.exports=JSON.parse('{"headerScrollPanel":{"change_scroll_effect":{"evid":732,"fields":{"site_id":"guid","scroll_type":"string","header_height":"numeric"}}},"MAX_SCROLL_PANEL":{"evid":795,"fields":{"max_scroll":"numeric","panel_total_scroll_px":"numeric","has_scroll":"bool","panel_name":"string"}}}')},13:function(t,e){t.exports=c},18:function(t,e){t.exports=m},19:function(t,e){t.exports=f},2:function(t,e){t.exports=i},22:function(t,e){t.exports=h},24:function(t,e){t.exports=g},3:function(t,e){t.exports=o},32:function(t,e){t.exports=C},391:function(t,e,i){var o,s;o=[i,e,i(0),i(1),i(392)],void 0===(s=function(t,e,i,o,s){"use strict";function n(t){return o.default.pick(t,["fieldId","forType","format","key","view"])}return o=i.__importDefault(o),{mixins:[(s=i.__importDefault(s)).default],getAppLogicCustomizations(){return this.getAppLogicCustomizationsLink().value},getAppLogicCustomizationsLink(){return this.linkedData("appLogicCustomizations")},getAppLogicCustomization(t){const e=this.getAppLogicCustomizations(),i=n(t);return o.default.find(e,i)},_updateAppLogicCustomizations(t,e){this.getAppLogicCustomizationsLink().requestChange(t,e)},setAppLogicCustomization(t,e){const i=this.getAppLogicCustomizations(),s=n(t),a=o.default.findIndex(i,s);if(-1===a){let e;if("*"===t.format){const t=o.default.assign({},s,{format:""});let n=o.default.findIndex(i,t);-1===n&&(n=0);const a=o.default.assign({},s,{format:"Mobile"});let r=o.default.findIndex(i,a);-1===r&&(r=0),e=Math.min(n,r)}else{const t=o.default.assign({},s,{format:"*"});e=o.default.findIndex(i,t),-1!==e&&(e+=1)}i.splice(e,0,t)}else i[a]=t;this.invalidateViewCache(),this._updateAppLogicCustomizations(i,e),this.getEditorAPI().dsActions.wixapps.classics.forceUpdate()},removeAppLogicCustomization(t,e){const i=this.getAppLogicCustomizations(),s=n(t),a=o.default.findIndex(i,s);-1!==a&&(i.splice(a,1),this._updateAppLogicCustomizations(i,e))}}}.apply(e,o))||(t.exports=s)},392:function(t,e,i){var o;void 0===(o=function(t,e){"use strict";return{invalidateViewCache(){const t=this.getEditorAPI(),e=t.selection.getSelectedComponentId();t.dsActions.wixapps.classics.invalidateComponentViewCache(e)}}}.apply(e,[i,e]))||(t.exports=o)},393:function(t,e,i){var o,s;o=[i,e,i(0),i(3),i(18),i(1),i(5),i(4),i(6),i(2),i(24),i(22),i(8),i(7),i(9),i(2)],void 0===(s=function(t,e,i,o,s,n,a,r,l,p,u,d,c,m,f,h){"use strict";function g(){return o.default.createElement("section",{ref:"content",style:{maxHeight:this.getContentMaxHeight()},className:h.cx(this.getContentClass())},this.props.onBackClick?o.default.createElement("div",{key:"buttonBack",className:"btn-back-wrapper"},o.default.createElement(f.button,{label:this.props.backButtonLabel,icon:"arrowLeftSmall",onClick:this.props.onBackClick,className:"btn-back"})):null,this.props.children)}o=i.__importDefault(o),s=i.__importDefault(s),n=i.__importDefault(n),a=i.__importDefault(a),r=i.__importDefault(r),l=i.__importDefault(l),p=i.__importStar(p),u=i.__importStar(u),d=i.__importDefault(d),c=i.__importDefault(c),m=i.__importDefault(m),f=i.__importStar(f);const{getSelectedComponentType:C}=m.default.editorPlugins.selection.selectors,{isSelectedCompConnectedToDataBindingController:_}=m.default.editorPlugins.selection.selectors,{measuring:P}=u.hoc,{panelDragLimits:y,panelFrame:x}=m.default.editorPlugins.panels.hoc,{getViewPort:T}=m.default.editorPlugins.domMeasurements.selectors,S=["position","top","bottom","left","right"],v=a.default({displayName:l.default.PANEL_TYPES.COMP,propTypes:{panelName:r.default.string.isRequired,title:r.default.string,className:r.default.string,headerBg:r.default.string,bgColor:r.default.string,selectedComponentType:r.default.string.isRequired,shouldShowConnectionIndication:r.default.bool,shouldHideContentOverflow:r.default.bool,style:r.default.object.isRequired,onCompPanelLoaded:r.default.func,setConnectionFirstTimeIndicationUserPrefString:r.default.func.isRequired,startDrag:r.default.func.isRequired,isCustomPosition:r.default.bool.isRequired,helpId:r.default.string,backButtonLabel:r.default.string,onBackClick:r.default.func,onClose:r.default.func,onDragEnd:r.default.func,noHelpBtn:r.default.bool,useNativeScroll:r.default.bool,closePanelByName:r.default.func,openHelpCenter:r.default.func,contentClass:r.default.string,isSingleInstance:r.default.bool,isConnectedToData:r.default.bool.isRequired,blockOuterScroll:r.default.func,close:r.default.func,scrollTo:r.default.number,freezePosition:r.default.bool,automationId:r.default.string,reportMeasurements:r.default.func.isRequired,measurements:r.default.object.isRequired,registerDragCallbacks:r.default.func.isRequired,id:r.default.string,viewPort:r.default.object,getPanelDragLimits:r.default.func.isRequired,sendBI:r.default.func,children:r.default.oneOfType([r.default.array,r.default.object]).isRequired},mixins:[p.translationMixin],getDefaultProps:()=>({noHelpBtn:!1,onDragEnd:n.default.noop}),getInitialState(){return this.props.registerDragCallbacks({onDragEnd:this.onDragEnd}),{showHelp:!1,showTitleTooltip:!1,showConnectedBanner:this.shouldShowConnectedIndication()}},componentWillReceiveProps(t){n.default.isEmpty(t.measurements)||this.state.showTitleTooltip!==t.measurements.showTitleTooltip&&this.setState({showTitleTooltip:t.measurements.showTitleTooltip})},componentDidMount(){this.measureMaxHeight();const t="wysiwyg.viewer.components.".concat(this.props.selectedComponentType),e=(p.fedopsLogger.INTERACTIONS.PANELS[t]||{})[this.props.panelName];e&&p.fedopsLogger.interactionEnded(e)},componentDidUpdate(t){n.default.isEmpty(t.measurements)&&!n.default.isEmpty(this.props.measurements)&&n.default.isFunction(this.props.onCompPanelLoaded)&&this.props.onCompPanelLoaded(),this.measureMaxHeight()},componentWillUnmount(){this.props.shouldShowConnectionIndication&&this.state.showFirstTimeBox&&this.props.setConnectionFirstTimeIndicationUserPrefString()},getRootProps(){return{className:"comp-panel-frame ".concat(this.props.className||""),id:this.props.id||"",style:this.props.isCustomPosition?n.default.omit(this.props.style,S):this.props.style,onMouseDown:this.stopEventPropagation,onMouseUp:this.stopEventPropagation,onDoubleClick:this.stopEventPropagation,onContextMenu:this.stopEventPropagation,onMouseMove:this.stopEventPropagation}},getContentMaxHeight(){return this.props.measurements.allowedContentHeight},measureMaxHeight(){const t=this.props.viewPort&&this.props.viewPort.height,e=this.refs.header?d.default(s.default.findDOMNode(this.refs.header)).height():null;if(!t)return null;const i=t-e,o=d.default(s.default.findDOMNode(this.refs.content)),a=parseFloat(o.css("max-height"));let r;this.originalContentMaxHeight=n.default.isUndefined(this.originalContentMaxHeight)?a:this.originalContentMaxHeight,r=isNaN(this.originalContentMaxHeight)?i:Math.min(this.originalContentMaxHeight,i);let l=this.state.showTitleTooltip;this.props.title!==this._lastMeasuredTitle&&(this._lastMeasuredTitle=this.props.title,l=this.isTitleEllipsisActive()),r=isNaN(r)?void 0:r,this.props.reportMeasurements({allowedContentHeight:r,showTitleTooltip:l})},renderContent(){const t=g.call(this);let e;if(this.props.useNativeScroll)e=o.default.createElement("div",{},t);else{const i={scrollTo:this.props.scrollTo,freezePosition:this.props.freezePosition};e=o.default.createElement(c.default.CustomScroll,i,t)}return e},handleScroll(t){const e=t.currentTarget.scrollTop/(t.currentTarget.scrollHeight-t.currentTarget.clientHeight)*100;e>this.panelMaximumScroll&&(this.panelMaximumScroll=Math.round(e))},openHelp(){const t={component:this.props.selectedComponentType};this.props.openHelpCenter(t)},closeCompPanelFrame(){this.props.onClose&&this.props.onClose(),this.props.close()},getContentClass(){const t={"comp-panel-content":!0,hideOverflow:this.props.shouldHideContentOverflow};return this.props.contentClass&&(t[this.props.contentClass]=!0),t},isTitleEllipsisActive(){const t=d.default(s.default.findDOMNode(this.refs.header)),e=d.default(".panel-header-title",t)[0];return e.offsetWidth<e.scrollWidth},stopEventPropagation(t){t.stopPropagation()},toggleHelp(){const t=!this.state.showHelp;this.setState({showHelp:t})},getHeaderStyle(){const t=this.props.headerBg,e=this.props.bgColor;return t?{backgroundImage:"url(".concat(t,")"),backgroundColor:e||"",backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"216px 160px"}:{}},onDragEnd(t){this.props.onDragEnd(t)},shouldShowConnectedIndication(){return this.props.shouldShowConnectionIndication&&this.props.isConnectedToData},render(){return o.default.createElement("div",Object.assign({"data-tooltip-bounds":"true","data-aid":this.props.automationId||this.props.panelName},this.getRootProps()),o.default.createElement(c.default.PanelHeader,{ref:"header",style:this.getHeaderStyle(),onMouseDown:t=>{this.props.startDrag(t,this.props.getPanelDragLimits())},onHelp:this.openHelp,noHelpBtn:this.props.noHelpBtn,onClose:this.closeCompPanelFrame,className:"dragger dark"},o.default.createElement(f.tooltip,{value:this.props.title,styleType:"small",disabled:!this.props.title||!this.state.showTitleTooltip,shouldTranslate:this.props.shouldTranslate},o.default.createElement("span",{className:"panel-header-label"},this.translateIfNeeded(this.props.title)))),this.shouldShowConnectedIndication()?o.default.createElement(c.default.Composites.Banner,{key:"connectedStickyBanner"},o.default.createElement(c.default.InfoIcon,{text:"PLATFORM_CONNECTED_ELEMENT_SETTINGS_TOOLTIP"}),o.default.createElement(c.default.SectionDivider,null,p.translate("PLATFORM_CONNECTED_ELEMENT_SETTINGS_LABEL"))):null,this.renderContent())}}),D=n.default.flow(p.hoc.renderWhenMutated,p.hoc.connect(p.hoc.STORES.STATE_AND_DS,(t,e)=>{let{state:i,dsRead:o}=t;return e=e||{},{isConnectedToData:_(i,o),selectedComponentType:e.selectedComponentType||C(i,o),viewPort:T(i)}},t=>({setConnectionFirstTimeIndicationUserPrefString:()=>m.default.editorPlugins.userPreferences.actions.setSiteUserPreferences("closed_teaser_componentConnectedToDataTeaser",!0),sendBI:(e,i)=>t(m.default.editorPlugins.bi.actions.event(e,i))})),u.hoc.draggable,y(),P,x(l.default.PANEL_TYPES.COMP))(v);return D.pure=v,D}.apply(e,o))||(t.exports=s)},4:function(t,e){t.exports=s},5:function(t,e){t.exports=n},53:function(t,e){t.exports=_},6:function(t,e){t.exports=a},7:function(t,e){t.exports=r},8:function(t,e){t.exports=l},9:function(t,e){t.exports=p}})}));
//# sourceMappingURL=compPanelInfra.min.js.map