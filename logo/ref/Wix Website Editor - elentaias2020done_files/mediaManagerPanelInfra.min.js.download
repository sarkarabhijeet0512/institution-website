define("mediaManagerPanelInfra",["tslib","lodash","util","react","prop-types","create-react-class","constants","wix-base-ui","baseUI","santa-editor-symbols","experiment","santa-core-utils","react-dom","mediaManagerSDK","thumbnail-generator"],(function(e,t,a,i,s,n,r,o,l,d,u,c,p,m,_){return function(e){var t={};function a(i){if(t[i])return t[i].exports;var s=t[i]={i:i,l:!1,exports:{}};return e[i].call(s.exports,s,s.exports,a),s.l=!0,s.exports}return a.m=e,a.c=t,a.d=function(e,t,i){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)a.d(i,s,function(t){return e[t]}.bind(null,s));return i},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=1800)}({0:function(t,a){t.exports=e},1:function(e,a){e.exports=t},10:function(e,t){e.exports=d},114:function(e,t){e.exports=m},13:function(e,t){e.exports=u},134:function(e,t,a){var i,s;i=[a,t,a(0),a(4),a(55)],void 0===(s=function(e,t,a,i,s){"use strict";i=a.__importDefault(i),s=a.__importDefault(s);const n=i.default.shape({name:i.default.string.isRequired,previewUrl:i.default.string.isRequired,mediaType:i.default.string.isRequired,width:i.default.number,height:i.default.number,fileUrl:i.default.string,fileOutput:i.default.shape({image:i.default.arrayOf(i.default.object)}),transcodingStatus:i.default.oneOf(Object.values(s.default.TRANSCODING_STATUSES))});return{item:n,presetSection:{id:i.default.string.isRequired,title:i.default.string.isRequired,items:i.default.arrayOf(n),presetWidth:i.default.number,shouldDisplayPresetName:i.default.bool,onItemClick:i.default.func,getItemPrice:i.default.func,buyItem:i.default.func,startItemDrag:i.default.func,registerItem:i.default.func,options:i.default.shape({shouldSetBlueBackgroundToPreset:i.default.bool,shouldShowLoaderWhenNoItems:i.default.bool,mockLoadingItemsCount:i.default.number,folderId:i.default.string,headerActions:i.default.arrayOf(i.default.element),loaderContainerHeightInRows:i.default.number}),action:i.default.func,actionLabel:i.default.string}}}.apply(t,i))||(e.exports=s)},17:function(e,t){e.exports=c},18:function(e,t){e.exports=p},1800:function(e,t,a){var i,s;i=[a,t,a(0),a(1801),a(134),a(55),a(91),a(454),a(455),a(1816)],void 0===(s=function(e,t,a,i,s,n,r,o,l,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i=a.__importDefault(i),s=a.__importDefault(s),n=a.__importDefault(n),r=a.__importDefault(r),o=a.__importDefault(o),l=a.__importDefault(l),d=a.__importDefault(d),t.presets=i.default,t.types=s.default,t.constants=n.default,t.utils=r.default,t.purchaseUtils=o.default,t.wixMediaUtils=l.default,t.dynamicMedia=d.default}.apply(t,i))||(e.exports=s)},1801:function(e,t,a){var i,s;i=[a,t,a(0),a(259),a(1808),a(1809),a(1813),a(1815)],void 0===(s=function(e,t,a,i,s,n,r,o){"use strict";return i=a.__importDefault(i),s=a.__importDefault(s),n=a.__importDefault(n),r=a.__importDefault(r),o=a.__importDefault(o),{presetSection:i.default,search:s.default,recommendedMediaCard:n.default,recommendedMediaSection:r.default,createMediaSection:o.default}}.apply(t,i))||(e.exports=s)},1802:function(e,t,a){var i,s;i=[a,t,a(0),a(3),a(18),a(4),a(1),a(6),a(2),a(134),a(91),a(55),a(1805),a(9),a(8),a(10),a(1806),a(2)],void 0===(s=function(e,t,a,i,s,n,r,o,l,d,u,c,p,m,_,h,f,g){"use strict";function I(){const e=this.props.item;return i.default.createElement("div",{"data-dynamic-media-item-id":this.props.item.id,onClick:this.handlePresetClick,onMouseDown:e=>{this.handlePresetMouseDown(e)},ref:"presetInstance",className:"media-manager-panel-preset"},i.default.createElement(m.tooltip,{value:this.getItemPreviewElement(e),disabled:this.shouldDisablePreview(),styleType:o.default.UI.TOOLTIP.STYLE_TYPE.CONTENT_ONLY,noArrow:!0,alignment:"right",delay:"300",width:"252px"},i.default.createElement("div",null,this.hasPriceInfo()?(()=>{const e=this.getPriceInfo();return i.default.createElement("div",{style:{width:this.props.width},key:"presetOverlay","data-hook":"media-manager-panel-buy_item_button_wrapper",className:"media-manager-panel-preset__purchase-overlay"},i.default.createElement(_.default.Button,{className:"btn-sm media-manager-panel-preset__buy-item-button"},i.default.createElement("span",{dangerouslySetInnerHTML:{__html:e.symbol}}),i.default.createElement("span",null,e.value)))})():null,this.shouldRenderTranscodingOverlay()?i.default.createElement("div",{key:"videoTranscodingOverlay",className:"media-manager-panel-preset__transcoding-overlay"},this.isTranscodingInProgress()||this.hasPictureLoadingError?i.default.createElement("div",{style:{width:this.props.width},key:"transcodingPreloader",className:"media-manager-panel-preset__transcoding-indicator"},i.default.createElement(_.default.Composites.Preloader,null,i.default.createElement(_.default.Preloader,null))):null,this.isTranscodingFailed()?i.default.createElement(m.tooltip,{value:this.getFailedTranscodingTooltipValue(),width:"171px",key:"transcodingFailedMessage"},i.default.createElement("div",{className:"media-manager-panel-preset__transcoding-failed-icon"},i.default.createElement(h.symbol,{name:"media-manager-panel-failed-transcoding-icon"}))):null):null,i.default.createElement("div",{style:{width:this.props.width},className:g.cx("media-manager-panel-preset__thumbnail",{"with-error":this.hasPictureLoadingError})},i.default.createElement(f.default,{item:e,isBackgroundBlue:this.isBackgroundBlue(),width:this.props.width,onPictureError:this.handlePictureError})))),this.shouldDisplayName()?i.default.createElement("div",{key:"title",className:"media-manager-panel-preset__title"},i.default.createElement(_.default.TextLabel,{value:e.name,type:"T12",shouldTranslate:!1})):null)}i=a.__importDefault(i),s=a.__importDefault(s),n=a.__importDefault(n),r=a.__importDefault(r),o=a.__importDefault(o),l=a.__importStar(l),d=a.__importDefault(d),u=a.__importDefault(u),c=a.__importDefault(c),p=a.__importDefault(p),m=a.__importStar(m),_=a.__importDefault(_),h=a.__importStar(h),f=a.__importDefault(f);const{hoc:{withDoubleClickPrevention:E}}=l,S=o.default.MEDIA_MANAGER_MEDIA_TYPES;class T extends i.default.Component{constructor(e){super(e),this.state={hasPictureLoadingError:!1},r.default.bindAll(this,["handlePresetClick","handlePictureError"])}componentDidMount(){this.registerItem()}get item(){return this.props.item}get hasPictureLoadingError(){return this.state.hasPictureLoadingError}get canBePurchased(){return this.hasPriceInfo()&&r.default.isFunction(this.props.onBuyItem)}registerItem(){r.default.invoke(this.props,"registerItem",this.props.item)}getPresetInstance(){return s.default.findDOMNode(this.refs.presetInstance)}shouldDisplayName(){return this.props.shouldDisplayName}isBackgroundBlue(){return this.props.isBackgroundBlue}isVideo(){return u.default.isItemOfType(this.item,S.VIDEO)}canPresetBeUsed(){const e=this.isVideo();return!this.hasPictureLoadingError&&(!e||e&&!this.isTranscodingFailed())}isTranscodingInProgress(){return u.default.isVideoFileTranscodingInProgress(this.item)}isTranscodingFailed(){return u.default.isVideoFileTranscodingFailed(this.item)}isTranscodedSuccessfully(){return u.default.isVideoFileTranscodedSuccessfully(this.item)}shouldRenderTranscodingOverlay(){return this.hasPictureLoadingError||this.isVideo()&&(this.isTranscodingInProgress()||this.isTranscodingFailed())}getFailedTranscodingTooltipValue(){return c.default.VIDEO_FILE_TRANSCODING_FAILED_TOOLTIP_MESSAGE}getItemPreviewElement(e){return i.default.createElement(p.default,{item:e,isBackgroundBlue:this.isBackgroundBlue()})}shouldDisablePreview(){return this.hasPictureLoadingError||!u.default.canShowPreviewForItem(this.item)||this.isVideo()&&!this.isTranscodedSuccessfully()}getPriceInfo(){return this.props.priceInfo}hasPriceInfo(){return Boolean(this.getPriceInfo())}handlePictureError(){this.setState({hasPictureLoadingError:!0})}buyItem(){r.default.invoke(this.props,"onBuyItem",this.item)}handlePresetClick(e){const t=this.props.isAnotherMouseActionAllowed(e);t&&this.canPresetBeUsed()&&!this.canBePurchased&&(r.default.invoke(this.props,"onClick",this.item,this.props.index),this.props.setClickTimeStamp(e)),t&&this.canBePurchased&&(this.buyItem(),this.props.setClickTimeStamp(e))}handlePresetMouseDown(e){if(e.preventDefault(),e.persist(),!this.props.isAnotherMouseActionAllowed(e)||!this.canPresetBeUsed()||this.canBePurchased)return;const t=this.getPresetInstance();r.default.invoke(this.props,"onItemDrag",e,{item:this.item,rect:r.default.pick(t.getBoundingClientRect(),["left","top","width","height"])})}render(){return I.call(this)}}return T.propTypes={item:d.default.item.isRequired,index:n.default.number,width:n.default.number,priceInfo:n.default.shape({value:n.default.number,symbol:n.default.string}),shouldDisplayName:n.default.bool,isBackgroundBlue:n.default.bool,onBuyItem:n.default.func,onClick:n.default.func,onItemDrag:n.default.func,setClickTimeStamp:n.default.func.isRequired,isAnotherMouseActionAllowed:n.default.func.isRequired},T.defaultProps={width:88,shouldDisplayName:!1},E(T)}.apply(t,i))||(e.exports=s)},1803:function(e,t){e.exports=_},1804:function(e,t,a){var i,s;i=[a,t,a(0),a(1),a(2)],void 0===(s=function(e,t,a,i,s){"use strict";i=a.__importDefault(i),s=a.__importStar(s);const{backgroundUtils:n}=s,{getMediaPlayerVideoObject:r}=n,o={pdf:"40d80b8089c8418a961cb75d96d491f7.png",doc:"b8964aa7650d463fac3b77e0d00e8f12.png",docx:"b8964aa7650d463fac3b77e0d00e8f12.png",ppt:"a41192b40f324972a1d919a8350965f8.png",ppx:"a41192b40f324972a1d919a8350965f8.png",xls:"757aeccaa7f4409b93913c55e36a194d.png",xlsx:"757aeccaa7f4409b93913c55e36a194d.png",odp:"ac1fbe0592434c58889947de5714b3c7.png",odt:"ac1fbe0592434c58889947de5714b3c7.png",other:"046956f7d55f4143a30b3b54669ee243.png"},l=e=>i.default.merge({type:"ComponentStyle",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:{properties:{},propertiesSource:{},groups:{}}},e),d=(e,t)=>({width:e,height:e/t}),u=(e,t)=>({width:e*t,height:e});const c=function(e){let{width:t,height:a}=e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:600;const s=Math.min(i/t,i/a);return(t>i||a>i)&&(t=Math.floor(t*s),a=Math.floor(a*s)),{width:t,height:a}};const p=e=>{const t=i.default.split(e.uri,".").pop();return{type:"Component",componentType:"wysiwyg.viewer.components.documentmedia.DocumentMedia",layout:{width:90,height:140},data:{type:"Image",title:e.title,uri:o[t]||o.other,description:"",width:105,height:141,link:{docId:e.fileUrl,name:e.title,type:"DocumentLink"}},style:l({skin:"skins.viewer.documentmedia.DocumentMediaSkin"}),props:{type:"DocumentMediaProperties",showTitle:!1}}},m=e=>({type:"Component",componentType:"wysiwyg.viewer.components.LinkBar",skin:"wysiwyg.viewer.skins.LinkBarNoBGSkin",layout:{width:49*(e.length-1)+39,height:39,scale:1,rotationInDegrees:0,fixedPosition:!1},data:{type:"ImageList",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},items:i.default.map(e,e=>({type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:e.title,uri:e.uri,description:"",width:200,height:200,alt:"",link:{type:"ExternalLink",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},url:"",target:"_blank"}}))},props:{type:"LinkBarProperties",metaData:{schemaVersion:"1.0"},gallery:"social_icons",iconSize:39,spacing:10,bgScale:1,orientation:"HORIZ"},style:{type:"TopLevelStyle",id:"lb1",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:{groups:{displayer:{}}},componentClassName:"",pageId:"",compId:"",styleType:"system",skin:"wysiwyg.viewer.skins.LinkBarNoBGSkin"},activeModes:{}});return{picture:function(e,t,a){const{width:s,height:n,uri:r,title:o}=e,{width:d,height:u}=c({width:s,height:n},600),p=a("wysiwyg.viewer.components.WPhoto");return i.default.merge(p,{layout:{width:d,height:u},data:{width:s,height:n,uri:r,title:o},style:l({componentClassName:"wysiwyg.viewer.components.WPhoto",skin:"wysiwyg.viewer.skins.photo.NoSkinPhoto"})})},imageX:(e,t,a)=>{const s=a("wixui.ImageX"),{width:n,height:r}=e,{width:o,height:d}=c({width:n,height:r}),u=i.default.pick(e,["uri","width","height"]);return i.default.merge(s,{layout:{width:o,height:d},data:{image:u,scopedData:[]},skin:"wixui.skins.ImageX",style:l({type:"StylesInBreakpoint",skin:"wixui.skins.ImageX",stylesInBreakpoints:[{pageId:"",compId:"",type:"ComponentStyle",styleType:"custom",componentClassName:"wixui.ImageX",skin:"wixui.skins.ImageX",style:{propertiesSource:{},groups:{},properties:{borderWidth:"0","boxShadowToggleOn-boxShadow":"false",boxShadow:"3.54px 3.54px 10px 0px rgba(0,0,0,0.33)",borderColor:"#ffffff",cornerRadius:"0",backgroundColor:"#000000","alpha-backgroundColor":0}}}]})})},document:p,archive:p,music:e=>{const{title:t}=e,a=i.default.lastIndexOf(t,".");return{type:"Component",componentType:"wixui.MusicPlayer",layout:{width:300,height:70},data:{type:"MusicPlayerData",trackName:-1===a?t:t.slice(0,a),artistName:"",coverRef:{type:"Image",title:"wix-audio-demo-cover.jpg",uri:"f9a47e_e7631916c7e4468091c47929b7acdf8a~mv2.png",height:400,width:400},audioRef:{type:"WixAudio",title:e.title,uri:e.uri,duration:Math.floor(e.fileInput.duration/1e3)}},props:{id:"musicPlayerDefaultProps",type:"MusicPlayerProperties",showCover:!0,showArtistName:!0,showTrackName:!0,showProgressBar:!0,showTimeStamp:!0},style:l({skin:"MusicPlayer_1"})}},video:function(e,t,a){const s=r(e,t),n=(e=>{const t=e>1;return e<640/240&&e>.375?t?d(640,e):u(640,e):t?u(240,e):d(240,e)})((e=>{const t=i.default.head(e.qualities);return t.width/t.height})(s)),o=((e,t,a)=>{const s=i.default.omit(a("wysiwyg.viewer.components.MediaPlayer"),"data"),n=i.default.includes(e.mediaFeatures,"alpha");return s.design.background={type:"BackgroundMedia",mediaRef:e,alignType:"center",fittingType:"fill",imageOverlay:null,colorOverlay:"",colorOverlayOpacity:0},i.default.assign(s,{type:"Container",layout:{width:t.width,height:t.height},style:l({skin:"wysiwyg.viewer.skins.mediaPlayerSkin"})}),i.default.assign(s.props,{autoplay:!0,loop:!0,mute:!0,disableAudio:!1,playerInteraction:{click:n?"none":"toggle",rollIn:"none",rollOut:"none"}}),s})(s,n,a),c=((e,t,a)=>{const s=i.default.omit(a("wysiwyg.viewer.components.MediaOverlayControls"),"data");return s.layout={width:e,height:e,x:(t.width-e)/2,y:(t.height-e)/2},s.design={type:"MediaControlsDesignData",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},iconsDefaultDesign:{type:"VectorImageDesignData",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},shapeStyle:{opacity:.8,strokeOpacity:1,stroke:"#000000",enableStroke:!1,strokeWidth:1},overrideColors:{color1:"#000000"}},icons:[{type:"ControlIconDesignData",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},name:"playButton",svgId:"0da768_661bc0cafffa432db3753ad5d17e4f10.svg"}]},s.skin="skins.viewer.mediaOverlayControlsDefaultSkin",s.style={type:"TopLevelStyle",id:"mocntDefault",style:{groups:{},properties:{},propertiesSource:{}},styleType:"custom",skin:"skins.viewer.mediaOverlayControlsDefaultSkin"},s})(86,n,a),p=((e,t,a,s)=>{const n=i.default.omit(s("wysiwyg.viewer.components.MediaControls"),"data");return n.props.showStoryboard="none",n.layout={width:t.width,height:a,x:0,y:t.height-a},n.design={type:"MediaControlsDesignData",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},iconsDefaultDesign:{type:"VectorImageDesignData",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},shapeStyle:{opacity:1,strokeOpacity:1,stroke:"#000000",enableStroke:!1,strokeWidth:1},overrideColors:{color1:"#ffffff"}},icons:[{type:"ControlIconDesignData",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},name:"volumeOn",svgId:"0da768_4026746ebab74627a513aa0df1511dea.svg"},{type:"ControlIconDesignData",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},name:"volumeOff",svgId:"0da768_c6d2d796452644a6a4a243c3afb7b781.svg"},{type:"ControlIconDesignData",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},name:"noAudio",svgId:"0da768_c6d2d796452644a6a4a243c3afb7b781.svg",iconDesign:{type:"VectorImageDesignData",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},overrideColors:{color1:"#a9a9a9"}}}]},n.skin="skins.viewer.mediaControlsNoControlsSkin",n.style={type:"TopLevelStyle",id:"mcntLight",style:{groups:{},properties:{},propertiesSource:{}},styleType:"custom",skin:"skins.viewer.mediaControlsNoControlsSkin"},n})(0,n,44,a);return o.components=[c,p],o},socialBar:m,socialIcon:e=>m([e]),shape:e=>({type:"Component",componentType:"wysiwyg.viewer.components.VectorImage",layout:{width:200,height:200},data:{type:"VectorImage",svgId:e.uri,title:e.title},props:{type:"VectorImageProperties",displayMode:"fit"},design:{type:"VectorImageDesignData",shapeStyle:{opacity:1}},style:l({type:"TopLevelStyle",skin:"skins.viewer.VectorImageSkin"})}),swf:e=>({type:"Component",componentType:"wysiwyg.viewer.components.FlashComponent",layout:{width:e.width,height:e.height},data:{type:"LinkableFlashComponent",title:e.title,uri:e.fileName,metaData:{isPreset:!0,schemaVersion:"1.0",isHidden:!1},placeHolderImage:{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Default Flash",uri:"7ff659c252dfd1ca5c76533695cb9611.wix_mp",description:"Some description here",width:128,height:128,alt:""}},props:{type:"FlashComponentProperties",metaData:{schemaVersion:"1.0"},displayMode:"original"},style:l({skin:"wysiwyg.viewer.skins.FlashComponentSkin"})})}}.apply(t,i))||(e.exports=s)},1805:function(e,t,a){var i,s;i=[a,t,a(0),a(18),a(4),a(1),a(2),a(6),a(134),a(91),a(3),a(8),a(2)],void 0===(s=function(e,t,a,i,s,n,r,o,l,d,u,c,p){"use strict";var m;i=a.__importDefault(i),s=a.__importDefault(s),n=a.__importDefault(n),r=a.__importStar(r),o=a.__importDefault(o),l=a.__importDefault(l),d=a.__importDefault(d),u=a.__importDefault(u),c=a.__importDefault(c);const{imageTransform:_}=r,h=o.default.MEDIA_MANAGER_MEDIA_TYPES;return(m=class extends u.default.Component{constructor(){super(...arguments),this.state={dimension:d.default.getPreviewDimension(this.props.item,120,228,120,342)},this.unmountVideoSafely=()=>{const e=this.getVideoInstance();e.pause(),e.src="",e.load()},this.getVideoInstance=()=>i.default.findDOMNode(this.refs.videoInstance),this.getName=()=>this.props.item.name,this.getDimension=()=>this.state.dimension,this.getContentStyle=()=>{const{width:e,height:t}=this.getDimension();return{width:Math.max(e,120),height:t}},this.getPicturePreviewStyle=()=>{const{width:e,height:t}=this.getDimension();return{backgroundImage:"url('".concat(this.getPicturePreviewUrl(),"')"),width:e,height:t}},this.getItemMediaType=()=>this.props.item.mediaType,this.getFooterStyle=()=>({maxWidth:"".concat(Math.max(this.getDimension().width,120),"px")}),this.getTitleTextWrapperStyle=()=>this.getFooterStyle(),this.isBackgroundBlue=()=>this.props.isBackgroundBlue,this.isVideoItemPreview=()=>d.default.isItemOfType(this.props.item,h.VIDEO),this.isPictureItemPreview=()=>d.default.isItemOneOfTypes(this.props.item,[h.PICTURE,h.SHAPE]),this.getPicturePreviewUrl=()=>{const{width:e,height:t}=this.getDimension();return d.default.generatePicturePreviewUrl(this.props.item,e,t,_.fittingTypes.SCALE_TO_FILL)},this.getVideoPreviewUrl=()=>n.default.head(this.props.item.videoPreviewUrls)||"",this.getDuration=()=>{const e=n.default.get(this.props.item,"fileInput.duration",null);return n.default.isNull(e)?e:d.default.getReadableDuration(e)}}componentWillUnmount(){this.isVideoItemPreview()&&this.unmountVideoSafely()}render(){return u.default.createElement("div",{className:"media-manager-media-preview"},u.default.createElement("div",{style:this.getContentStyle(),className:p.cx("media-manager-media-preview__content",{"with-blue-background":this.isBackgroundBlue()})},this.isPictureItemPreview()?u.default.createElement("div",{style:this.getPicturePreviewStyle(),key:"picture",className:"media-manager-media-preview__".concat(this.getItemMediaType())}):null,this.isVideoItemPreview()?u.default.createElement("video",{src:this.getVideoPreviewUrl(),autoPlay:!0,muted:!0,loop:!0,ref:"videoInstance",key:"video",className:"media-manager-media-preview__video"}):null),u.default.createElement("div",{style:this.getFooterStyle(),className:"media-manager-media-preview__footer"},u.default.createElement("div",{style:this.getTitleTextWrapperStyle()},u.default.createElement("div",{className:"media-manager-media-preview__title-text"},u.default.createElement(c.default.TextLabel,{value:this.getName(),type:"T07",shouldTranslate:!1,enableEllipsis:!1}))),u.default.createElement("div",{className:"media-manager-media-preview__duration"},u.default.createElement(c.default.TextLabel,{value:this.getDuration(),type:"T07",shouldTranslate:!1,enableEllipsis:!1}))))}}).displayName="MediaManagerPanelMediaPreview",m.propTypes={item:l.default.item.isRequired,isBackgroundBlue:s.default.bool},m}.apply(t,i))||(e.exports=s)},1806:function(e,t,a){var i,s;i=[a,t,a(0),a(4),a(1),a(2),a(134),a(91),a(3),a(6),a(10),a(1807),a(2)],void 0===(s=function(e,t,a,i,s,n,r,o,l,d,u,c,p){"use strict";var m;i=a.__importDefault(i),s=a.__importDefault(s),n=a.__importStar(n),r=a.__importDefault(r),o=a.__importDefault(o),l=a.__importDefault(l),d=a.__importDefault(d),u=a.__importStar(u),c=a.__importDefault(c);const{imageTransform:_}=n;return(m=class extends l.default.Component{constructor(){super(...arguments),this.getWidth=()=>this.props.width||88,this.isBackgroundBlue=()=>this.props.isBackgroundBlue,this.getMediaType=()=>this.props.item.mediaType,this.getPictureThumbnailUrl=()=>o.default.generatePictureThumbnailUrl(this.props.item,this.getWidth(),90,_.fittingTypes.SCALE_TO_FILL),this.getVideoThumbnailUrl=()=>o.default.getVideoThumbnailUrl(this.props.item,this.getWidth(),90,_.fittingTypes.SCALE_TO_FILL),this.hasExtension=()=>Boolean(o.default.getPrivateMediaFileExtension(this.props.item)),this.getExtension=()=>".".concat(s.default.toUpper(o.default.getPrivateMediaFileExtension(this.props.item))),this.isItemOfType=e=>o.default.isItemOfType(this.props.item,e),this.isItemOneOfTypes=e=>o.default.isItemOneOfTypes(this.props.item,e),this.handlePictureError=()=>{s.default.invoke(this.props,"onPictureError")}}render(){const e=d.default.MEDIA_MANAGER_MEDIA_TYPES;return l.default.createElement("div",{style:{width:this.getWidth()},className:p.cx("media-manager-panel-preset-thumbnail",{"with-blue-background":this.isBackgroundBlue()})},this.isItemOneOfTypes([e.PICTURE,e.SHAPE])?l.default.createElement("div",{key:"picture",className:p.cx({[this.getMediaType()]:!0})},l.default.createElement("img",{src:this.getPictureThumbnailUrl(),onError:this.handlePictureError,className:"media-manager-panel-preset-thumbnail__picture-image"})):null,this.isItemOfType(e.VIDEO)?l.default.createElement("div",{style:{backgroundImage:"url('".concat(this.getVideoThumbnailUrl(),"')")},key:"video",className:p.cx({[this.getMediaType()]:!0})},l.default.createElement("div",{className:"media-manager-panel-preset-thumbnail__video-symbol"},l.default.createElement(u.symbol,{name:"bgVideoIndicator"})),l.default.createElement("div",{className:"media-manager-panel-preset-thumbnail__video-bottom-overlay"})):null,this.isItemOfType(e.MUSIC)?l.default.createElement("div",{key:"music",className:p.cx({[this.getMediaType()]:!0})},l.default.createElement(u.symbol,{name:"empty-document-illustration"}),l.default.createElement("div",{className:"media-manager-panel-preset-thumbnail__music-control-wrapper"},l.default.createElement("div",{className:"media-manager-panel-preset-thumbnail__music-symbol"},l.default.createElement(u.symbol,{name:"music"})))):null,this.isItemOfType(e.ARCHIVE)?l.default.createElement("div",{key:"music",className:p.cx({[this.getMediaType()]:!0})},l.default.createElement(u.symbol,{name:"media-manager-panel-archive-file-illustration"})):null,this.isItemOneOfTypes([e.DOCUMENT,e.SWF])?l.default.createElement("div",{key:"document",className:p.cx({[this.getMediaType()]:!0})},l.default.createElement(u.symbol,{name:"document-illustration"})):null,this.isItemOneOfTypes([e.DOCUMENT,e.MUSIC,e.SWF,e.ARCHIVE])&&this.hasExtension()?l.default.createElement("div",{key:"label",className:"media-manager-panel-preset-thumbnail__extension-label"},l.default.createElement(c.default,{label:this.getExtension()})):null)}}).displayName="MediaManagerPanelItemThumbnail",m.propTypes={item:r.default.item.isRequired,onPictureError:i.default.func.isRequired,width:i.default.number,isBackgroundBlue:i.default.bool},m}.apply(t,i))||(e.exports=s)},1807:function(e,t,a){var i,s;i=[a,t,a(0),a(4),a(3)],void 0===(s=function(e,t,a,i,s){"use strict";var n;return i=a.__importDefault(i),s=a.__importDefault(s),(n=class extends s.default.Component{render(){return s.default.createElement("div",{className:"media-manager-panel-preset-extension-label"},this.props.label)}}).displayName="thumbnailExtensionLabel",n.propTypes={label:i.default.string.isRequired},n}.apply(t,i))||(e.exports=s)},1808:function(e,t,a){var i,s;i=[a,t,a(0),a(18),a(4),a(1),a(2),a(91),a(3),a(8),a(10),a(2)],void 0===(s=function(e,t,a,i,s,n,r,o,l,d,u,c){"use strict";var p;return i=a.__importDefault(i),s=a.__importDefault(s),n=a.__importDefault(n),r=a.__importStar(r),o=a.__importDefault(o),l=a.__importDefault(l),d=a.__importDefault(d),u=a.__importStar(u),(p=class extends l.default.Component{constructor(){super(...arguments),this.state={query:this.props.value,isFocused:!1},this.getQuery=()=>this.state.query,this.isFocused=()=>this.state.isFocused,this.getInputInstance=()=>i.default.findDOMNode(this.refs.inputInstance),this.getStartSearchButtonInstance=()=>i.default.findDOMNode(this.refs.buttonInstance),this.getPlaceholderText=()=>r.translate(this.props.placeholder||"Media_Panel_Search_Media_Placeholder"),this.isQueryEmpty=()=>n.default.isEmpty(this.getQuery()),this.isButtonVisible=()=>!this.isQueryEmpty(),this.startSearch=e=>n.default.invoke(this.props,"onSearchStart",e),this.handleBlur=e=>n.default.invoke(this.props,"onBlur",e),this.handleInputValueChange=e=>{this.setState({query:e.target.value})},this.handleWrapperClick=()=>{this.getInputInstance().focus()},this.handleWrapperMouseDown=e=>{const t=this.getStartSearchButtonInstance();t&&o.default.findFirstParentButtonNode(e.target)===t&&setTimeout(()=>{this.startSearch(this.state.query)},0)},this.handleClearSearchButtonClick=()=>{const{onClearSearchButtonClick:e}=this.props;e&&e(),this.setState({query:""})},this.handleInputFocus=()=>{this.setState({isFocused:!0})},this.handleInputBlur=()=>{this.setState({isFocused:!1}),this.handleBlur(this.state.query)},this.handleKeyDown=e=>{e&&"Enter"===e.key&&this.props.searchOnEnterPressed&&(this.getInputInstance().blur(),this.startSearch(this.state.query))}}render(){return l.default.createElement("div",{className:"media-manager-panel-search"},l.default.createElement("div",{onClick:this.handleWrapperClick,onMouseDown:this.handleWrapperMouseDown,className:c.cx("media-manager-panel-search__input-wrapper",{focused:this.isFocused(),"with-query":!this.isQueryEmpty()})},l.default.createElement("span",{className:"media-manager-panel-search__search-icon"},l.default.createElement(u.symbol,{name:"media-manager-panel-search"})),l.default.createElement("input",{value:this.state.query,placeholder:this.getPlaceholderText(),onChange:this.handleInputValueChange,onKeyDown:this.handleKeyDown,onFocus:this.handleInputFocus,onBlur:this.handleInputBlur,ref:"inputInstance",className:"media-manager-panel-search__input"}),l.default.createElement("div",{"data-hook":"media-manager-panel-search_button_wrapper",className:c.cx("media-manager-panel-search__button-wrapper",{"is-visible":this.isButtonVisible()})},this.isFocused()?null:l.default.createElement(d.default.Button,{onClick:this.handleClearSearchButtonClick,key:"clearSearchButton",className:"media-manager-panel-search__button media-manager-panel-search__clear-search-button btn btn-light"},l.default.createElement(u.symbol,{name:"headerCloseButton"})),this.isFocused()?l.default.createElement(d.default.Button,{key:"startSearchButton",ref:"buttonInstance",className:"media-manager-panel-search__button media-manager-panel-search__start-search-button btn"},l.default.createElement(u.symbol,{name:"media-manager-panel-arrow-right"})):null)))}}).displayName="MediaManagerPanelSearch",p.propTypes={value:s.default.string,onSearchStart:s.default.func.isRequired,placeholder:s.default.string,onClearSearchButtonClick:s.default.func,onBlur:s.default.func,searchOnEnterPressed:s.default.bool},p.defaultProps={value:"",searchOnEnterPressed:!0},p}.apply(t,i))||(e.exports=s)},1809:function(e,t,a){var i,s;i=[a,t,a(0),a(4),a(1),a(2),a(3),a(8),a(1810),a(1812)],void 0===(s=function(e,t,a,i,s,n,r,o,l,d){"use strict";var u;i=a.__importDefault(i),s=a.__importDefault(s),n=a.__importStar(n),r=a.__importDefault(r),o=a.__importDefault(o),l=a.__importDefault(l),d=a.__importDefault(d);const{translate:c}=n;return(u=class extends r.default.Component{constructor(){super(...arguments),this.state={selectedCategories:s.default(this.props.categories).filter("isSelected").map("id").value()},this.title=()=>c("Media_Panel_Recommended_Section_EmptyState_Title"),this.subtitle=()=>c("Media_Panel_Recommended_Section_EmptyState_Subitle"),this.seeAllText=()=>c("Media_Panel_Recommended_Section_EmptyState_SeeAll_Text"),this.applyText=()=>c("Media_Panel_Recommended_Section_EmptyState_Apply_Button"),this.hasSelectedCategories=()=>Boolean(this.state.selectedCategories.length),this.getCategories=()=>this.props.categories,this.isCategorySelected=e=>s.default.includes(this.state.selectedCategories,e),this.toggleCategory=e=>{const{selectedCategories:t}=this.state;this.isCategorySelected(e)?this.setState({selectedCategories:s.default.reject(t,t=>t===e)}):this.setState({selectedCategories:s.default.concat(t,e)})},this.handleApplyButtonClick=()=>{s.default.invoke(this.props,"onApply",this.state.selectedCategories)},this.handleSeeAllButtonClick=()=>{s.default.invoke(this.props,"onSeeAll",this.state.selectedCategories)},this.handleDotsClick=()=>{s.default.invoke(this.props,"onDotsClick")}}render(){return r.default.createElement(l.default,{title:this.title(),subtitle:this.subtitle(),dotsActions:this.props.dotsActions,onDotsClick:this.handleDotsClick},r.default.createElement("div",null,r.default.createElement("ul",null,s.default.map(this.getCategories(),e=>r.default.createElement("li",{key:e.id,className:"recommended-media-card__tag"},r.default.createElement(d.default,{id:e.id,text:e.title,isSelected:this.isCategorySelected(e.id),onClick:e=>this.toggleCategory(e)})))),r.default.createElement("div",{className:"recommended-media-card__footer"},r.default.createElement(o.default.Button,{onClick:()=>{this.handleSeeAllButtonClick()},className:"btn-text recommended-media-card__see-all-button"},this.seeAllText()),r.default.createElement(o.default.Button,{onClick:()=>{this.handleApplyButtonClick()},disabled:!this.hasSelectedCategories(),className:"btn-sm recommended-media-card__apply-button"},this.applyText()))))}}).displayName="RecommendedMediaCard",u.propTypes={categories:i.default.arrayOf(i.default.shape({id:i.default.string.isRequired,title:i.default.string.isRequired,isSelected:i.default.bool})).isRequired,dotsActions:i.default.arrayOf(i.default.shape({id:i.default.string,label:i.default.string,onClick:i.default.func})),onDotsClick:i.default.func,onApply:i.default.func,onSeeAll:i.default.func},u}.apply(t,i))||(e.exports=s)},1810:function(e,t,a){var i,s;i=[a,t,a(0),a(3),a(1),a(4),a(1811),a(8)],void 0===(s=function(e,t,a,i,s,n,r,o){"use strict";var l;return i=a.__importDefault(i),s=a.__importDefault(s),n=a.__importDefault(n),r=a.__importDefault(r),o=a.__importDefault(o),(l=class extends i.default.Component{constructor(){super(...arguments),this.onDotsClick=()=>{s.default.invoke(this.props,"onDotsClick")},this.getThreeDotsButton=()=>i.default.createElement(r.default,{onClick:()=>this.onDotsClick()}),this.shouldDisplayThreeDots=()=>!s.default.isEmpty(this.getDotsActions()),this.getDotsActions=()=>this.props.dotsActions}render(){return i.default.createElement("div",{className:"media-manager-panel-card"},i.default.createElement("div",{className:"media-manager-panel-card__header"},this.shouldDisplayThreeDots()?i.default.createElement(o.default.ContextMenu,{customButton:this.getThreeDotsButton(),closeOnEnterOrSpace:!1,key:"three-dots"},s.default.map(this.getDotsActions(),e=>i.default.createElement(o.default.ContextMenuAction,{onClick:()=>{e.onClick()},key:e.id},i.default.createElement("span",null,e.label)))):null),this.props.title?i.default.createElement("div",{key:"card-title",className:"media-manager-panel-card__title"},i.default.createElement(o.default.TextLabel,{value:this.props.title,type:"T09",enableEllipsis:!1,shouldTranslate:!1})):null,this.props.subtitle?i.default.createElement("div",{key:"card-subtitle",className:"media-manager-panel-card__subtitle"},i.default.createElement(o.default.TextLabel,{value:this.props.subtitle,type:"T04",enableEllipsis:!1,shouldTranslate:!1})):null,i.default.createElement("div",{className:"media-manager-panel-card__body"},this.props.children))}}).displayName="Card",l.propTypes={title:n.default.string,dotsActions:n.default.arrayOf(n.default.shape({id:n.default.string,label:n.default.string,onClick:n.default.func})),subtitle:n.default.string,onDotsClick:n.default.func},l}.apply(t,i))||(e.exports=s)},1811:function(e,t,a){var i,s;i=[a,t,a(0),a(1),a(4),a(3),a(10)],void 0===(s=function(e,t,a,i,s,n,r){"use strict";var o;return i=a.__importDefault(i),s=a.__importDefault(s),n=a.__importDefault(n),r=a.__importStar(r),(o=class extends n.default.Component{constructor(){super(...arguments),this.onClick=()=>{i.default.invoke(this.props,"onClick")}}render(){return n.default.createElement("button",{onClick:this.onClick,className:"media-manager-panel-three-dots-button"},n.default.createElement(r.symbol,{name:"freeIcon_3dots",style:{width:"25px",height:"25px",fill:"#162d3d"}}))}}).displayName="dotsButton",o.propTypes={onClick:s.default.func},o}.apply(t,i))||(e.exports=s)},1812:function(e,t,a){var i,s;i=[a,t,a(0),a(1),a(4),a(3),a(8),a(10),a(2)],void 0===(s=function(e,t,a,i,s,n,r,o,l){"use strict";var d;return i=a.__importDefault(i),s=a.__importDefault(s),n=a.__importDefault(n),r=a.__importDefault(r),o=a.__importStar(o),(d=class extends n.default.Component{constructor(){super(...arguments),this.isSelected=()=>this.props.isSelected,this.onClick=()=>{const{props:e}=this;i.default.invoke(e,"onClick",e.id)}}render(){return n.default.createElement("span",{onClick:()=>{this.onClick()},className:l.cx("media-manager-panel-tag",{selected:this.isSelected()})},n.default.createElement("span",{className:"media-manager-panel-tag__text"},n.default.createElement(r.default.TextLabel,{value:this.props.text,type:"T04",shouldTranslate:!1})),this.isSelected()?n.default.createElement("span",{key:"check-icon",className:"media-manager-panel-tag__icon media-manager-panel-tag__icon-check"},n.default.createElement(o.symbol,{name:"media-manager-panel-check",style:{fill:"#3899ec",width:"9px",height:"7px"}})):null,this.isSelected()?null:n.default.createElement("span",{key:"plus-icon",className:"media-manager-panel-tag__icon media-manager-panel-tag__icon-plus"},n.default.createElement(o.symbol,{name:"plus",style:{fill:"#3899ec",width:"7px",height:"7px"}})))}}).displayName="Tag",d.propTypes={id:s.default.string.isRequired,text:s.default.string.isRequired,isSelected:s.default.bool,onClick:s.default.func},d}.apply(t,i))||(e.exports=s)},1813:function(e,t,a){var i,s;i=[a,t,a(0),a(3),a(4),a(1),a(2),a(1814),a(134),a(55),a(259)],void 0===(s=function(e,t,a,i,s,n,r,o,l,d,u){"use strict";var c;i=a.__importDefault(i),s=a.__importDefault(s),n=a.__importDefault(n),r=a.__importStar(r),o=a.__importDefault(o),l=a.__importDefault(l),d=a.__importDefault(d),u=a.__importDefault(u);const{translate:p}=r,m=d.default.RECOMMENDED_SECTION_INITIAL_VISIBLE_ITEMS_COUNT,_=d.default.RECOMMENDED_ITEMS_TO_LOAD_COUNT;return(c=class extends i.default.Component{constructor(){super(...arguments),this.getPagingOptions=()=>this.props.pagingOptions||{},this.state={visibleItemsCount:this.props.visibleItemsCount||this.getPagingOptions().initial||m},this.getSectionOptions=()=>n.default.assign({shouldShowLoaderWhenNoItems:!0,shouldPresetHaveBlueBackground:!0,loaderContainerHeightInRows:3},this.props.options),this.getVisibleItemsCount=()=>this.state.visibleItemsCount,this.getVisibleItemsMaxCount=()=>this.getPagingOptions().max||_,this.getVisibleItemsStep=()=>this.getPagingOptions().step||9,this.isAllItemsShown=()=>{const e=this.getVisibleItemsCount();return e===this.getVisibleItemsMaxCount()||e===this.getTotalItemsCount()},this.getTotalItemsCount=()=>n.default.get(this.props,["items","length"]),this.getItems=()=>n.default.slice(this.props.items,0,this.getVisibleItemsCount()),this.action=()=>{this.isAllItemsShown()?this.showAllItems():this.showMoreItems()},this.showMoreItems=()=>{const e=Math.min(this.getVisibleItemsCount()+this.getVisibleItemsStep(),Math.min(this.getVisibleItemsMaxCount(),this.getTotalItemsCount()));n.default.invoke(this.props,"onShowMoreClick",e),this.setState({visibleItemsCount:e})},this.showAllItems=()=>{n.default.invoke(this.props,"action")},this.getActionLabel=()=>this.isAllItemsShown()?p("Media_Panel_Results_Show_All_Label_OnHover"):p("Media_Panel_Results_Show_More_Label_OnHover"),this.getHeaderActions=()=>[i.default.createElement(o.default,{onClick:this.props.onSettingsOpen,key:"settings-button"})]}render(){return i.default.createElement(u.default,{id:this.props.id,title:this.props.title,items:this.getItems(),onItemClick:this.props.onItemClick,getItemPrice:this.props.getItemPrice,startItemDrag:this.props.startItemDrag,buyItem:this.props.buyItem,action:this.isAllItemsShown()?null:()=>this.action(),presetWidth:this.props.presetWidth,actionLabel:this.getActionLabel(),headerActions:this.getHeaderActions(),options:this.getSectionOptions()})}}).displayName="RecommendedMediaSection",c.propTypes=n.default.assign({},l.default.presetSection,{visibleItemsCount:s.default.number,pagingOptions:s.default.shape({initial:s.default.number,max:s.default.number,step:s.default.number}),onShowMoreClick:s.default.func,onSettingsOpen:s.default.func}),c}.apply(t,i))||(e.exports=s)},1814:function(e,t,a){var i,s;i=[a,t,a(0),a(4),a(1),a(3),a(8),a(10)],void 0===(s=function(e,t,a,i,s,n,r,o){"use strict";var l;return i=a.__importDefault(i),s=a.__importDefault(s),n=a.__importDefault(n),r=a.__importDefault(r),o=a.__importStar(o),(l=class extends n.default.Component{constructor(){super(...arguments),this.handleClick=()=>{s.default.invoke(this.props,"onClick")}}render(){return n.default.createElement(r.default.Tooltip,{content:"Media_Panel_Recommended_Section_Tooltip",maxWidth:195},n.default.createElement("button",{onClick:()=>{this.handleClick()},className:"media-manager-panel-settings-button"},n.default.createElement(o.symbol,{name:"mediaPanelSettingsAction"})))}}).displayName="settingsButton",l.propTypes={onClick:i.default.func},l}.apply(t,i))||(e.exports=s)},1815:function(e,t,a){var i,s;i=[a,t,a(0),a(5),a(4),a(1),a(2),a(3),a(9),a(260)],void 0===(s=function(e,t,a,i,s,n,r,o,l,d){"use strict";i=a.__importDefault(i),s=a.__importDefault(s),n=a.__importDefault(n),r=a.__importStar(r),o=a.__importDefault(o),l=a.__importStar(l),d=a.__importDefault(d);const{translate:u,media:c}=r,p="create_image",m="create_video",_=[p,m];return i.default({displayName:"CreateMediaSection",propTypes:{onCreateImageClick:s.default.func,onCreateVideoClick:s.default.func},title:u("Media_Panel_Edit_ImagesVideos_Section_Label"),getItemsIds:()=>_,getItemProps(e){switch(e){case p:return this.getCreateImageProps();case m:return this.getCreateVideoProps();default:return null}},getCreateImageProps(){return{title:"Media_Panel_PhotoStudio_Entry_Title",desc:"Media_Panel_PhotoStudio_Entry_Description",url:c.getMediaUrl("rEditor/mediaManagerPanel/create-image-action.png"),callback:()=>n.default.invoke(this.props,"onCreateImageClick"),shouldTranslate:!0}},getCreateVideoProps(){return{title:"Media_Panel_VideoMaker_Entry_Title",desc:"Media_Panel_VideoMaker_Entry_Description",url:c.getMediaUrl("rEditor/mediaManagerPanel/create-video-action.png"),callback:()=>n.default.invoke(this.props,"onCreateVideoClick"),shouldTranslate:!0}},render(){return o.default.createElement(d.default,{title:this.title,disabledContentPaddings:!0},n.default.map(this.getItemsIds(),e=>o.default.createElement(l.listItemWithImage,Object.assign({key:e},this.getItemProps(e)))))}})}.apply(t,i))||(e.exports=s)},1816:function(e,t,a){var i,s;i=[a,t,a(0),a(1817),a(1818)],void 0===(s=function(e,t,a,i,s){"use strict";return i=a.__importDefault(i),s=a.__importDefault(s),{sections:i.default,dynamicMediaBox:s.default}}.apply(t,i))||(e.exports=s)},1817:function(e,t,a){var i,s;i=[a,t,a(0),a(456)],void 0===(s=function(e,t,a,i){"use strict";return{addMedia:(i=a.__importDefault(i)).default}}.apply(t,i))||(e.exports=s)},1818:function(e,t,a){var i,s;i=[a,t,a(0),a(1),a(3),a(4),a(2),a(6),a(55),a(91),a(454),a(1819),a(1820)],void 0===(s=function(e,t,a,i,s,n,r,o,l,d,u,c,p){"use strict";function m(){return s.default.createElement("div",null,i.default.map(this.sectionsIds,e=>s.default.createElement(p.default,Object.assign({key:e},this.getSectionProps(e)))))}i=a.__importDefault(i),s=a.__importDefault(s),n=a.__importDefault(n),r=a.__importStar(r),o=a.__importDefault(o),l=a.__importDefault(l),d=a.__importDefault(d),u=a.__importDefault(u),c=a.__importDefault(c),p=a.__importDefault(p);const{hoc:_}=r,{connect:h,STORES:{EDITOR_API:f}}=_,{SHUTTERSTOCK_MEDIA_TYPE:g,PUBLIC_MEDIA_ROOT:I}=l.default,{MEDIA_MANAGER_MEDIA_TYPES:E}=o.default;let S=null;class T extends s.default.Component{constructor(e){super(e),this.state={prices:null},this.boxItems=new Map,i.default.bindAll(this,["openMediaManager","handleMediaManagerSessionEnd","handleItemClick","getItemPrice","buyItem","startItemDrag","registerPayloadResolver","registerItem"])}componentDidMount(){this.getPaidMediaItemsPrice().catch(i.default.noop),this.registerPayloadResolver()}get boxProps(){return this.props.props}get sectionsIds(){return this.boxProps.sectionsIds}buyItem(e,t){const{siteMediaToken:a}=this.props,{biOriginBase:s}=this.boxProps;u.default.purchaseItemNewFlow(e,{siteToken:a,origin:s,tab:"".concat(s,"-").concat(t),locale:this.props.language,publicMediaRoot:i.default.values(I).join(",")})}getItemPrice(e){const{prices:t}=this.state;return t&&u.default.isItemPurchasable(e)?u.default.extractPriceForItem(e,t):null}loadPricesInfo(){return S||(S=u.default.requestPaidMediaItemsPrice(this.props.metaSiteInstance),S)}getPaidMediaItemsPrice(){return this.loadPricesInfo().then(e=>{let{shutterstock:t,wix:a}=e;this.state.prices||this.setState({prices:{wix:{[E.PICTURE]:a.images,[E.VIDEO]:a.videos},shutterstock:{[g.IMAGE]:t.images,[g.VIDEO]:t.videos}}})})}getSectionProps(e){return i.default.assign({id:e,siteMediaToken:this.props.siteMediaToken,language:this.props.language,openMediaManager:this.openMediaManager,onItemClick:this.handleItemClick,getItemPrice:this.getItemPrice,buyItem:this.buyItem,startItemDrag:this.startItemDrag,registerItem:this.registerItem},i.default.get(this.boxProps,["sectionsProps",e]))}handleMediaManagerSessionEnd(e,t){this.props.mediaManagerCallbackOverride(e,t)}handleItemClick(e){const{item:t}=e,a=this.generateItemStructure(t);this.props.onClick(a,void 0,void 0,void 0,void 0,{addComponentOptions:{position:e.index,category:this.props.categoryId,section:e.sectionTitle}})}generateItemStructure(e){const{isResponsiveEditor:t}=this.boxProps,a=this.props.editorBuildDefaultComponentStructure,i=d.default.prepareItemBeforeAddComponent(e);return t&&d.default.isPicture(i)?d.default.addComponentData.imageX(i,{},a):d.default.getComponentStructureCreator(i,{isResponsiveEditor:t})(i,{},a)}startItemDrag(e){i.default.invoke(this.props,"onItemDrag",e)}registerItem(e){this.boxItems.has(e.id)||this.boxItems.set(e.id,e)}getItemNode(e){const t=e.path;return i.default.find(t,e=>i.default.invoke(e,"classList.contains","media-manager-panel-preset"))}registerPayloadResolver(){if(!i.default.isFunction(this.props.registerPayloadResolver))return;this.props.registerPayloadResolver(e=>{const t=this.getItemNode(e);if(!t)return;const{x:a,y:i,width:s,height:n}=t.getBoundingClientRect(),r=t.getAttribute("data-dynamic-media-item-id"),o=this.boxItems.get(r),l=this.generateItemStructure(o),d={structure:l,position:null,absoluteDimensions:{width:l.layout.width,height:l.layout.height}};return{structure:this.props.transformStructureToResponsive(d),forceUseActualDimensions:!0,mouseRelativePosition:{x:s/2,y:n/2},placeholderDimensions:{width:s,height:n},actualDimensions:{width:l.layout.width,height:l.layout.height},placeholderPosition:{x:a,y:i},options:{appDefinitionId:this.props.appDefinitionId}}})}openMediaManager(e){const{mediaServices:{mediaManager:t}}=this.props,{biSource:a}=e,s=i.default.pick(e,["path"]);t.open(t.categories.ALL_MEDIA,"".concat(this.boxProps.biOriginBase,"_").concat(a),i.default.assign({callback:this.handleMediaManagerSessionEnd},s))}render(){return m.call(this)}}return T.propTypes={biOriginBase:n.default.string,props:n.default.shape({sectionsIds:n.default.arrayOf(n.default.oneOf(i.default.values(l.default.MEDIA_MANAGER_PANEL_SECTION_ID))).isRequired,sections:n.default.object})},h(f,c.default.mapStateToProps,c.default.mapDispatchToProps)(T)}.apply(t,i))||(e.exports=s)},1819:function(e,t,a){var i,s;i=[a,t,a(0),a(1),a(6)],void 0===(s=function(e,t,a,i,s){"use strict";i=a.__importDefault(i),s=a.__importDefault(s);return{mapStateToProps:e=>{let{editorAPI:t}=e;return{mediaServices:t.mediaServices,language:t.dsRead.generalInfo.getLanguage(),metaSiteInstance:i.default.get(t.dsRead.platform.getAppDataByApplicationId(s.default.APPLICATIONS.META_SITE_APPLICATION_ID),"instance"),siteMediaToken:t.dsRead.generalInfo.media.getSiteUploadToken(),editorBuildDefaultComponentStructure:e=>t.components.buildDefaultComponentStructure(e)}},mapDispatchToProps:()=>({})}}.apply(t,i))||(e.exports=s)},1820:function(e,t,a){var i,s;i=[a,t,a(0),a(3),a(456),a(1821),a(1822),a(1823),a(1824),a(1825),a(55)],void 0===(s=function(e,t,a,i,s,n,r,o,l,d,u){"use strict";i=a.__importDefault(i),s=a.__importDefault(s),n=a.__importDefault(n),r=a.__importDefault(r),o=a.__importDefault(o),l=a.__importDefault(l),d=a.__importDefault(d),u=a.__importDefault(u);const{MEDIA_MANAGER_PANEL_SECTION_ID:c}=u.default,p=function(){const e={};return e[c.ADD_MEDIA]=s.default,e[c.SITE_FILES]=n.default,e[c.WIX_IMAGES]=r.default,e[c.WIX_VIDEOS]=o.default,e[c.SHUTTERSTOCK_IMAGES]=l.default,e[c.SHUTTERSTOCK_VIDEOS]=d.default,e}();class m extends i.default.Component{render(){return i.default.createElement(p[this.props.id],this.props,null)}}return m}.apply(t,i))||(e.exports=s)},1821:function(e,t,a){var i,s;i=[a,t,a(0),a(1),a(3),a(114),a(6),a(261)],void 0===(s=function(e,t,a,i,s,n,r,o){"use strict";function l(){return s.default.createElement(o.default,Object.assign({},this.getItemsSectionProps()))}i=a.__importDefault(i),s=a.__importDefault(s),n=a.__importStar(n),r=a.__importDefault(r),o=a.__importDefault(o);const{MEDIA_MANAGER_MEDIA_TYPES:d}=r.default,u={paging:{size:6}};class c extends s.default.Component{constructor(e){super(e),this.adapter=n.createSource(n.PrivateSite,{siteMediaToken:e.siteMediaToken,version:"G6"}),i.default.bindAll(this,["loadMedia","handleMediaManagerOpen"])}loadMedia(){return this.adapter.items.recent(i.default.assign({},u,{mediaType:i.default.values(d).join(",")})).then(e=>e.data)}handleMediaManagerOpen(){this.props.openMediaManager({path:"private",biSource:"site-files-section"})}getItemsSectionProps(){return i.default.assign({title:"Media_Panel_Recently_Added_Section_Label",loadMedia:this.loadMedia,action:this.handleMediaManagerOpen},i.default.pick(this.props,["id","shouldDisplayPresetName","presetWidth","onItemClick","startItemDrag","registerItem"]))}render(){return l.call(this)}}return c}.apply(t,i))||(e.exports=s)},1822:function(e,t,a){var i,s;i=[a,t,a(0),a(1),a(3),a(55),a(457)],void 0===(s=function(e,t,a,i,s,n,r){"use strict";function o(){return s.default.createElement(r.default,Object.assign({},this.getProps()))}i=a.__importDefault(i),s=a.__importDefault(s),n=a.__importDefault(n),r=a.__importDefault(r);class l extends s.default.Component{getProps(){return i.default.assign({title:"Media_Panel_Wix_Images_Section_Label",mediaRoot:n.default.PUBLIC_MEDIA_ROOT.IMAGES},this.props)}render(){return o.call(this)}}return l}.apply(t,i))||(e.exports=s)},1823:function(e,t,a){var i,s;i=[a,t,a(0),a(1),a(3),a(55),a(457)],void 0===(s=function(e,t,a,i,s,n,r){"use strict";function o(){return s.default.createElement(r.default,Object.assign({},this.getProps()))}i=a.__importDefault(i),s=a.__importDefault(s),n=a.__importDefault(n),r=a.__importDefault(r);class l extends s.default.Component{getProps(){return i.default.assign({title:"Media_Panel_Wix_Videos_Section_Label",mediaRoot:n.default.PUBLIC_MEDIA_ROOT.VIDEOS},this.props)}render(){return o.call(this)}}return l}.apply(t,i))||(e.exports=s)},1824:function(e,t,a){var i,s;i=[a,t,a(0),a(1),a(3),a(55),a(458)],void 0===(s=function(e,t,a,i,s,n,r){"use strict";function o(){return s.default.createElement(r.default,Object.assign({},this.getProps()))}i=a.__importDefault(i),s=a.__importDefault(s),n=a.__importDefault(n),r=a.__importDefault(r);class l extends s.default.Component{getProps(){return i.default.assign({title:"Media_Panel_Shutterstock_Images_Section_Label",mediaType:n.default.SHUTTERSTOCK_MEDIA_TYPE.IMAGE},this.props)}render(){return o.call(this)}}return l}.apply(t,i))||(e.exports=s)},1825:function(e,t,a){var i,s;i=[a,t,a(0),a(1),a(3),a(55),a(458)],void 0===(s=function(e,t,a,i,s,n,r){"use strict";function o(){return s.default.createElement(r.default,Object.assign({},this.getProps()))}i=a.__importDefault(i),s=a.__importDefault(s),n=a.__importDefault(n),r=a.__importDefault(r);class l extends s.default.Component{getProps(){return i.default.assign({title:"Media_Panel_Shutterstock_Videos_Section_Label",mediaType:n.default.SHUTTERSTOCK_MEDIA_TYPE.VIDEO},this.props)}render(){return o.call(this)}}return l}.apply(t,i))||(e.exports=s)},2:function(e,t){e.exports=a},259:function(e,t,a){var i,s;i=[a,t,a(0),a(1),a(2),a(13),a(134),a(3),a(8),a(10),a(260),a(1802)],void 0===(s=function(e,t,a,i,s,n,r,o,l,d,u,c){"use strict";var p;i=a.__importDefault(i),s=a.__importStar(s),n=a.__importDefault(n),r=a.__importDefault(r),o=a.__importDefault(o),l=a.__importDefault(l),d=a.__importStar(d),u=a.__importDefault(u),c=a.__importDefault(c);const{translate:m}=s;return(p=class extends o.default.Component{constructor(){super(...arguments),this.getPresetWidth=()=>this.props.presetWidth||88,this.getActionLabel=()=>this.props.actionLabel||(n.default.isOpen("se_mediaPanelShowRecommendedMedia")?m("Media_Panel_Results_Show_All_Label_OnHover"):m("Media_Panel_Results_Show_More_Label_OnHover")),this.hasItems=()=>!i.default.isEmpty(this.props.items),this.shouldDisplayPresetName=()=>this.props.shouldDisplayPresetName,this.shouldShowItems=()=>this.hasItems(),this.getMockItemsCount=()=>i.default.get(this.props,["options","mockLoadingItemsCount"],0),this.shouldShowMocksWhenNoItems=()=>{const e=this.getMockItemsCount();return!this.hasItems()&&Boolean(e)},this.shouldShowLoaderWhenNoItems=()=>!this.hasItems()&&!this.shouldShowMocksWhenNoItems()&&i.default.get(this.props,["options","shouldShowLoaderWhenNoItems"],!1),this.getLoaderContainerHeight=()=>108*(this.props.options.loaderContainerHeightInRows||1),this.getNoItemsLoaderText=()=>"Media_Panel_Recommended_Loading_Text",this.shouldSetBlueBackgroundToPreset=()=>Boolean(i.default.get(this.props,["options","shouldPresetHaveBlueBackground"],!1)),this.getItemPrice=e=>i.default.invoke(this.props,"getItemPrice",e),this.handleItemPurchase=e=>{i.default.invoke(this.props,"buyItem",e,this.props.id)},this.handleItemClick=(e,t)=>{i.default.invoke(this.props,"onItemClick",{id:i.default.get(this.props,"id"),folderId:i.default.get(this.props,["options","folderId"]),item:e,index:t,sectionTitle:this.props.title})},this.handleItemDrag=(e,t)=>{i.default.invoke(this.props,"startItemDrag",{event:e,dragItemInfo:t,folderId:i.default.get(this.props,["options","folderId"]),id:i.default.get(this.props,"id")})},this.registerItem=e=>{i.default.invoke(this.props,"registerItem",e)},this.generateMockItems=()=>{const e=this.getMockItemsCount();return i.default(e).range().map(e=>({id:"mock-".concat(e)})).value()},this.getDataHook=()=>"media-manager-panel-".concat(i.default.toLower(this.props.id),"_section")}render(){return o.default.createElement(u.default,{title:this.props.title,headerActions:this.props.headerActions,dataHook:this.getDataHook()},this.shouldShowItems()?o.default.createElement("div",{key:"section-content-items",className:"media-manager-panel-preset-section__content"},o.default.createElement("ul",{className:"media-manager-panel-preset-section__presets"},i.default.map(this.props.items,(e,t)=>o.default.createElement("li",{style:{width:this.getPresetWidth()},key:e.id,className:"media-manager-panel-preset-section__preset"},o.default.createElement(c.default,{item:e,index:t,width:this.getPresetWidth(),priceInfo:this.getItemPrice(e),onBuyItem:this.handleItemPurchase,onClick:this.handleItemClick,onItemDrag:this.handleItemDrag,registerItem:this.registerItem,shouldDisplayName:this.shouldDisplayPresetName(),isBackgroundBlue:this.shouldSetBlueBackgroundToPreset()})))),this.props.action?o.default.createElement("div",{key:"sectionAction",className:"media-manager-panel-preset-section__action-wrapper"},o.default.createElement(l.default.Button,{onClick:()=>{this.props.action()},className:"media-manager-panel-preset-section__action btn-sm btn-light"},o.default.createElement("span",{className:"media-manager-panel-preset-section__action-content-wrapper"},o.default.createElement("span",{className:"media-manager-panel-preset-section__action-text"},this.getActionLabel()),o.default.createElement(d.symbol,{name:"arrowRightSmall"})))):null):null,this.shouldShowMocksWhenNoItems()?o.default.createElement("div",{key:"section-content-items-mocks",className:"media-manager-panel-preset-section__content-mocks"},o.default.createElement("ul",{className:"media-manager-panel-preset-section__presets"},i.default.map(this.generateMockItems(),e=>o.default.createElement("li",{key:e.id,className:"media-manager-panel-preset-section__preset media-manager-panel-preset-section__preset-mock"})))):null,this.shouldShowLoaderWhenNoItems()?o.default.createElement("div",{style:{height:this.getLoaderContainerHeight()},key:"no-items-loader",className:"media-manager-panel-preset-section__loader"},o.default.createElement(l.default.Composites.Preloader,null,o.default.createElement(l.default.Preloader,{className:"medium"}),o.default.createElement(l.default.TextLabel,{value:this.getNoItemsLoaderText()}))):null)}}).displayName="MediaManagerPanelPresetSection",p.propTypes=r.default.presetSection,p}.apply(t,i))||(e.exports=s)},260:function(e,t,a){var i,s;i=[a,t,a(0),a(4),a(3),a(8),a(2)],void 0===(s=function(e,t,a,i,s,n,r){"use strict";var o;return i=a.__importDefault(i),s=a.__importDefault(s),n=a.__importDefault(n),(o=class extends s.default.Component{constructor(){super(...arguments),this.getSectionClassName=()=>this.props.className||""}render(){return s.default.createElement("div",{"data-hook":this.props.dataHook,className:"media-manager-panel-section ".concat(this.getSectionClassName())},s.default.createElement("div",{className:"media-manager-panel-section__header-wrapper"},s.default.createElement("div",{className:"media-manager-panel-section__header"},s.default.createElement(n.default.TextLabel,{value:this.props.title,shouldTranslate:!1,ellipsisProps:{disabled:!0},type:"T02",className:"media-manager-panel-section__header-text"}),s.default.createElement("span",{className:"media-manager-panel-section__header-actions"},this.props.headerActions))),s.default.createElement("div",{className:r.cx("media-manager-panel-section__content",{"media-manager-panel-section__content-with-paddings":!this.props.disabledContentPaddings})},this.props.children))}}).displayName="MediaManagerPanelSection",o.propTypes={title:i.default.string.isRequired,className:i.default.string,children:i.default.node.isRequired,headerActions:i.default.arrayOf(i.default.element),disabledContentPaddings:i.default.bool,dataHook:i.default.string},o.defaultProps={disabledContentPaddings:!1},o}.apply(t,i))||(e.exports=s)},261:function(e,t,a){var i,s;i=[a,t,a(0),a(1),a(3),a(4),a(2),a(259)],void 0===(s=function(e,t,a,i,s,n,r,o){"use strict";function l(){return this.shouldRenderSection()?s.default.createElement(o.default,Object.assign({key:this.props.id},this.getSectionProps())):null}i=a.__importDefault(i),s=a.__importDefault(s),n=a.__importDefault(n),r=a.__importStar(r),o=a.__importDefault(o);class d extends s.default.Component{constructor(e){super(e),this.state={itemsLoading:!0,items:[]}}componentDidMount(){this.initSection()}initSection(){this.loadItems().then(e=>{this.setState({items:e})}).catch(i.default.noop).finally(()=>{this.setState({itemsLoading:!1})})}loadItems(){return i.default.invoke(this.props,"loadMedia")}shouldRenderSection(){return!this.state.itemsLoading&&!i.default.isEmpty(this.state.items)}getSectionProps(){return i.default.assign({title:r.translate(this.props.title),items:this.state.items},i.default.omit(this.props,["title"]))}render(){return l.call(this)}}return d.propTypes={title:n.default.string,loadMedia:n.default.func,presetWidth:n.default.number,shouldDisplayPresetName:n.default.bool,onItemClick:n.default.func,getItemPrice:n.default.func,buyItem:n.default.func,startItemDrag:n.default.func,registerItem:n.default.func},d}.apply(t,i))||(e.exports=s)},3:function(e,t){e.exports=i},4:function(e,t){e.exports=s},454:function(e,t,a){var i,s;i=[a,t,a(0),a(1),a(6),a(17),a(55),a(91)],void 0===(s=function(e,t,a,i,s,n,r,o){"use strict";i=a.__importDefault(i),s=a.__importDefault(s),n=a.__importDefault(n),r=a.__importDefault(r),o=a.__importDefault(o);const l=s.default.MEDIA_MANAGER_MEDIA_TYPES,{CHECKOUT_MEDIA_TYPE:d,PRICE_INFO_URLS:u,SHUTTERSTOCK_MEDIA_TYPE:c,CHECKOUT_MEDIA_PRODUCER:p,MEDIA_MANAGER_MEDIA_TYPES_SHUTTER_STOCK_MEDIA_TYPES_MAP:m}=r.default,_=["fileId","checkoutMediaType","mediaProducer","publicMediaRoot","origin","tab","locale","siteToken"],h=(e,t)=>n.default.requestsUtil.fetchJson(e,{credentials:"same-origin",method:"GET",headers:new Headers({Authorization:t})}),f=(e,t)=>new Promise((a,i)=>{const s=window.open(e,"purchase","width=1000,height=550,scrollbars=1"),n=e=>{if(/premium\./i.test(e.origin)){const s=JSON.parse(e.data),[r]=s.packageUniqueId.split("_");r===t.id&&(window.removeEventListener("message",n,!1),s.success?a({item:t}):i({item:t}))}};window.addEventListener("message",n,!1),s.blur(),window.focus()});return{isItemPurchasable:e=>o.default.isPublicMediaItem(e)?o.default.isPublicMediaFilePaid(e):o.default.isShutterStockItem(e),requestSingleSourcePaidMediaItemsPrice:h,requestPaidMediaItemsPrice:e=>Promise.all([h(u.SHUTTERSTOCK[c.IMAGE],e),h(u.SHUTTERSTOCK[c.VIDEO],e),h(u.WIX[l.PICTURE],e),h(u.WIX[l.VIDEO],e)]).then(e=>{let[t,a,i,s]=e;return{shutterstock:{images:t,videos:a},wix:{images:i,videos:s}}}),extractPriceForItem:(e,t)=>{const{mediaType:a}=e,{wix:s,shutterstock:n}=t,r=o.default.isPublicMediaItem(e)?s[a]:n[m[a]],l=/&#\d+;/.exec(r.currencySymbol);return{value:r.priceValue,symbol:l?i.default.head(l):null}},purchaseItemNewFlow:(e,t)=>new Promise((a,s)=>{const n=o.default.isVideoItem(e)?d.VIDEO:d.IMAGE,r=o.default.isPublicMediaItem(e)?p.WIXSTOCK:p.SHUTTERSTOCK,l=i.default.assign({},t,{fileId:e.id,checkoutMediaType:n,mediaProducer:r}),u=i.default(_).map(e=>"".concat(e,"=").concat(l[e])).join("&"),c=window.open("".concat("https://editor.wix.com/media-manager/checkout","/?").concat(u),"purchase","width=1150,height=900,scrollbars=1"),m=t=>{if(/editor.wix.com/i.test(t.origin)){let i;try{i=JSON.parse(t.data)}catch(e){i={}}const{action:n,itemId:r,success:o,isNew:l}=i;"__mediaPurchase"===n&&r===e.id&&(window.removeEventListener("message",m,!1),o?a({item:e,isNew:l}):s({item:e,isNew:l}))}};window.addEventListener("message",m,!1),c.blur(),window.focus()}),buyShutterStockItem:(e,t)=>{const a="".concat(t.shutterStockPaymentAPI,"/services/shutterstock/start_purchase?site_token=").concat(t.siteMediaToken,"&image_id=").concat(e.id,"&altsku=1"),i="".concat(t.shutterStockPaymentAPI,"/services/shutterstock/video/start_purchase?site_token=").concat(t.siteMediaToken,"&video_id=").concat(e.id,"&altsku=1"),s=e.mediaType===l.PICTURE?a:i;return f(s,e)},buyWixMediaItem:(e,t)=>{const a="https://pix.wix.com/services/wixstock/start_purchase?site_token=".concat(t.siteMediaToken,"&image_id=").concat(e.id);return f(a,e)}}}.apply(t,i))||(e.exports=s)},455:function(e,t,a){var i,s;i=[a,t,a(0),a(1)],void 0===(s=function(e,t,a,i){"use strict";i=a.__importDefault(i);return{getWixMediaSubcategory:function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const n=i.default.find(e,{id:t}),r=i.default.get(n,"subFolders[".concat(a,"]")),o=i.default.get(r,"subFolders[".concat(s,"]"));return{categoryId:r.id,id:o.id}}}}.apply(t,i))||(e.exports=s)},456:function(e,t,a){var i,s;i=[a,t,a(0),a(1),a(4),a(2),a(55),a(91),a(3),a(10),a(9),a(260),a(2)],void 0===(s=function(e,t,a,i,s,n,r,o,l,d,u,c,p){"use strict";var m;i=a.__importDefault(i),s=a.__importDefault(s),n=a.__importStar(n),r=a.__importDefault(r),o=a.__importDefault(o),l=a.__importDefault(l),d=a.__importStar(d),u=a.__importStar(u),c=a.__importDefault(c);const{translate:_}=n,{MEDIA_MANAGER_UPLOAD_SOURCES:h,SECTIONS_TITLES_MAP:f,MEDIA_MANAGER_PANEL_SECTION_ID:g}=r.default,I={[h.COMPUTER]:"upload-btn",[h.FACEBOOK]:"media-manager-panel-facebook-icon",[h.INSTAGRAM]:"media-manager-panel-instagram-icon",[h.GOOGLE_DRIVE]:"media-manager-panel-googledrive-icon",[h.GOOGLE_PHOTOS]:"media-manager-panel-googlephotos-icon"},E={[h.COMPUTER]:"Media_Panel_Upload_Upload_Media_Tooltip",[h.FACEBOOK]:"Media_Panel_Upload_Facebook_Tooltip",[h.INSTAGRAM]:"Media_Panel_Upload_Instagram_Tooltip",[h.GOOGLE_DRIVE]:"Media_Panel_Upload_Google_Drive_Tooltip",[h.GOOGLE_PHOTOS]:"Media_Panel_Upload_Google_Photos_Tooltip"},S=[h.COMPUTER,h.FACEBOOK,h.INSTAGRAM,h.GOOGLE_DRIVE,h.GOOGLE_PHOTOS];return(m=class extends l.default.Component{constructor(){super(...arguments),this.isLocalSource=e=>o.default.isUploadAddMediaSource(e),this.getTitle=()=>_(f[g.ADD_MEDIA]),this.getSources=()=>S,this.getIconName=e=>I[e],this.getSourceTooltipText=e=>E[e],this.generateOpenPath=e=>"external/".concat(e),this.handleAddMediaButtonClick=e=>{this.props.openMediaManager({source:e,biSource:"upload-media-section_".concat(e),path:this.generateOpenPath(e)})}}render(){return l.default.createElement(c.default,{title:this.getTitle(),className:"media-manager-panel-add-media-section"},l.default.createElement("ul",{className:"media-manager-panel-add-media-section__sources"},i.default.map(this.getSources(),e=>l.default.createElement("li",{key:e,className:"media-manager-panel-add-media-section__source"},l.default.createElement(u.tooltip,{value:this.getSourceTooltipText(e),delay:"300"},l.default.createElement("button",{onClick:()=>this.handleAddMediaButtonClick(e),className:p.cx("media-manager-panel-add-media-section__source-button",{"media-manager-panel-add-media-section__upload-button":this.isLocalSource(e)})},l.default.createElement(d.symbol,{name:this.getIconName(e),key:"externalSource"})))))))}}).displayName="MediaManagerPanelAddMediaSection",m.propTypes={openMediaManager:s.default.func.isRequired},m}.apply(t,i))||(e.exports=s)},457:function(e,t,a){var i,s;i=[a,t,a(0),a(1),a(3),a(4),a(114),a(55),a(455),a(91),a(261)],void 0===(s=function(e,t,a,i,s,n,r,o,l,d,u){"use strict";function c(){return s.default.createElement(u.default,Object.assign({},this.getItemsSectionProps()))}i=a.__importDefault(i),s=a.__importDefault(s),n=a.__importDefault(n),r=a.__importStar(r),o=a.__importDefault(o),l=a.__importDefault(l),d=a.__importDefault(d),u=a.__importDefault(u);const{PUBLIC_MEDIA_ROOT:p}=o.default;let m=null;const _="".concat(p.IMAGES,",").concat(p.VECTOR_ART,",").concat(p.ILLUSTRATIONS,",").concat(p.SOCIAL_ICONS,",").concat(p.VIDEOS);class h extends s.default.Component{constructor(e){super(e),this.adapter=r.createSource(r.Public,{siteMediaToken:e.siteMediaToken,version:"G6",thumbnailSizes:{thumbnail:{width:e.presetWidth||88,height:90}}}),i.default.bindAll(this,["loadMedia","handleMediaManagerOpen"])}getWixMediaTree(){return m||(m=this.adapter.folders.tree(_,{levels:-1}).then(e=>e.data),m)}getSubcategoryDescription(){return this.getWixMediaTree().then(e=>l.default.getWixMediaSubcategory(e,this.props.mediaRoot))}loadItems(e){const{mediaRoot:t}=this.props;return this.adapter.items.list(e.id,{language:this.props.language,mediaType:o.default.PUBLIC_MEDIA_ROOT_MEDIA_TYPE_MAP[t],filters:{pricing:"free"},paging:{size:6}}).then(e=>e.data)}fullItemsLoaderMiddleware(e){const t=i.default(e).filter(e=>i.default.overEvery([d.default.isPublicMediaItem,d.default.isVideoItem])(e)).map(e=>i.default.get(e,"id")).value();return i.default.isEmpty(t)?Promise.resolve(e):this.adapter.item.get(t,{language:this.props.language}).then(e=>i.default.keyBy(e.data,"id")).then(t=>i.default.map(e,e=>i.default.merge(e,t[e.id])))}loadMedia(){return this.getSubcategoryDescription().then(e=>this.loadItems(e)).then(e=>this.fullItemsLoaderMiddleware(e))}handleMediaManagerOpen(){this.getSubcategoryDescription().then(e=>{this.props.openMediaManager({path:"public/".concat(e.categoryId,"/").concat(e.id),biSource:"wix-media-".concat(this.props.mediaRoot)})})}getItemsSectionProps(){return i.default.assign({action:this.handleMediaManagerOpen,loadMedia:this.loadMedia},i.default.pick(this.props,["id","title","presetWidth","shouldDisplayPresetName","onItemClick","getItemPrice","buyItem","startItemDrag","registerItem"]))}render(){return c.call(this)}}return h.propTypes={mediaRoot:n.default.oneOf(i.default.values(o.default.PUBLIC_MEDIA_ROOT)).isRequired,language:n.default.string.isRequired},h}.apply(t,i))||(e.exports=s)},458:function(e,t,a){var i,s;i=[a,t,a(0),a(1),a(3),a(4),a(114),a(55),a(261)],void 0===(s=function(e,t,a,i,s,n,r,o,l){"use strict";function d(){return s.default.createElement(l.default,Object.assign({},this.getItemsSectionProps()))}i=a.__importDefault(i),s=a.__importDefault(s),n=a.__importDefault(n),r=a.__importStar(r),o=a.__importDefault(o),l=a.__importDefault(l);class u extends s.default.Component{constructor(e){super(e),this.adapter=r.createSource(r.Shutterstock,{siteMediaToken:e.siteMediaToken,version:"G6"}),i.default.bindAll(this,["loadMedia","handleMediaManagerOpen"])}loadMedia(){return this.adapter.items.list("".concat(this.props.mediaType,"_any_any"),{paging:{size:6}}).then(e=>e.data)}handleMediaManagerOpen(){const{mediaType:e}=this.props;this.props.openMediaManager({path:"shutterStock/".concat(e),biSource:"shutterstock-".concat(e)})}getItemsSectionProps(){return i.default.assign({action:this.handleMediaManagerOpen,loadMedia:this.loadMedia},i.default.pick(this.props,["id","title","presetWidth","shouldDisplayPresetName","onItemClick","getItemPrice","buyItem"]))}render(){return d.call(this)}}return u.propTypes={title:n.default.string,mediaType:n.default.oneOf(i.default.values(o.default.SHUTTERSTOCK_MEDIA_TYPE))},u}.apply(t,i))||(e.exports=s)},5:function(e,t){e.exports=n},55:function(e,t,a){var i,s;i=[a,t,a(0),a(2),a(6)],void 0===(s=function(e,t,a,i,s){"use strict";i=a.__importStar(i),s=a.__importDefault(s);const{MEDIA_MANAGER_MEDIA_TYPES:n}=s.default,{translate:r}=i,o={ADD_MEDIA:"add_media",CREATE_MEDIA:"create_media",RECOMMENDED_MEDIA_CARD:"recommended_media_card",RECOMMENDED_MEDIA:"recommended_media",SITE_FILES:"recently_added",WIX_IMAGES:"free_wix_images",WIX_ILLUSTRATIONS:"free_wix_illustrations",WIX_VECTOR_ART:"free_wix_vector_art",WIX_SOCIAL_ICONS:"free_wix_social_icons",WIX_VIDEOS:"free_wix_videos",SHUTTERSTOCK_IMAGES:"shutterstock_images",SHUTTERSTOCK_VIDEOS:"shutterstock_videos"},l={[o.SITE_FILES]:"site_files",[o.WIX_IMAGES]:"free_images",[o.WIX_ILLUSTRATIONS]:"illustrations",[o.WIX_VECTOR_ART]:"vector_art",[o.WIX_SOCIAL_ICONS]:"social_icons",[o.WIX_VIDEOS]:"free_videos",[o.SHUTTERSTOCK_IMAGES]:"shutterstock_images",[o.SHUTTERSTOCK_VIDEOS]:"shutterstock_videos"},d={[o.ADD_MEDIA]:"Media_Panel_Add_Media_Section_Label",[o.CREATE_MEDIA]:"Media_Panel_Edit_ImagesVideos_Section_Label",[o.SITE_FILES]:"Media_Panel_Recently_Added_Section_Label",[o.RECOMMENDED_MEDIA]:"Media_Panel_Recommended_Section_Label",[o.WIX_IMAGES]:"Media_Panel_Wix_Images_Section_Label",[o.WIX_VIDEOS]:"Media_Panel_Wix_Videos_Section_Label",[o.SHUTTERSTOCK_IMAGES]:"Media_Panel_Shutterstock_Images_Section_Label",[o.SHUTTERSTOCK_VIDEOS]:"Media_Panel_Shutterstock_Videos_Section_Label"},u={[o.ADD_MEDIA]:"Media_Panel_Add_Media_Section_Label",[o.CREATE_MEDIA]:"Media_Panel_Edit_ImagesVideos_Section_Label",[o.SITE_FILES]:"Media_Panel_Recently_Added_Section_Label",[o.RECOMMENDED_MEDIA]:"Media_Panel_Recommended_Section_Label",[o.WIX_IMAGES]:"Media_Panel_MFW_Images_Section_Label",[o.WIX_VIDEOS]:"Media_Panel_MFW_Wix_Videos_Section_Label",[o.SHUTTERSTOCK_IMAGES]:"Media_Panel_Shutterstock_Images_Section_Label",[o.SHUTTERSTOCK_VIDEOS]:"Media_Panel_Shutterstock_Videos_Section_Label"},c={[o.SITE_FILES]:"Media_Panel_Results_Site_Section_Label",[o.WIX_IMAGES]:"Media_Panel_Results_Wix_Images_Section_Label",[o.WIX_VIDEOS]:"Media_Panel_Results_Wix_Videos_Section_Label",[o.WIX_ILLUSTRATIONS]:"Media_Panel_Results_Illustrations_Section_Label",[o.WIX_VECTOR_ART]:"Media_Panel_Results_Vector_Art_Section_Label",[o.WIX_SOCIAL_ICONS]:"Media_Panel_Results_Social_Icons_Section_Label",[o.SHUTTERSTOCK_IMAGES]:"Media_Panel_Results_Shutterstock_Images_Section_Label",[o.SHUTTERSTOCK_VIDEOS]:"Media_Panel_Results_Shutterstock_Videos_Section_Label"},p={[o.SITE_FILES]:"Media_Panel_Results_Site_Section_Label",[o.WIX_IMAGES]:"Media_Panel_MFW_Results_Wix_Images_Section_Label",[o.WIX_VIDEOS]:"Media_Panel_MFW_Results_Wix_Videos_Section_Label",[o.WIX_ILLUSTRATIONS]:"Media_Panel_MFW_Results_Illustrations_Section_Label",[o.WIX_VECTOR_ART]:"Media_Panel_MFW_Results_Vector_Art_Section_Label",[o.WIX_SOCIAL_ICONS]:"Media_Panel_MFW_Results_Social_Icons_Section_Label",[o.SHUTTERSTOCK_IMAGES]:"Media_Panel_Results_Shutterstock_Images_Section_Label",[o.SHUTTERSTOCK_VIDEOS]:"Media_Panel_Results_Shutterstock_Videos_Section_Label"},m={IMAGES:"images",ILLUSTRATIONS:"illustrations",VIDEOS:"videos",VECTOR_ART:"vectorArt",SOCIAL_ICONS:"social_icons"},_={[m.IMAGES]:"picture",[m.ILLUSTRATIONS]:"picture",[m.SOCIAL_ICONS]:"picture",[m.VIDEOS]:"video",[m.VECTOR_ART]:"shape"},h={IMAGE:"image",VIDEO:"video"},f="/_api/wix/digitalGoodsPriceQuote?digitalGoodsSkuGuid=",g={SHUTTERSTOCK:{[h.IMAGE]:"".concat(f,"31396262-3737-3438-2d31-3131312d3434"),[h.VIDEO]:"".concat(f,"32313337-3765-3164-2D66-6164332D3131")},WIX:{[n.PICTURE]:"".concat(f,"a783ee2d-0dfa-4b20-a33c-b0e5a10ed7f8"),[n.VIDEO]:"".concat(f,"bd349da8-aa45-4bda-856d-f2704585c2ff")}},I={ALL:"all",PRIVATE:"private",PUBLIC:"public",SHUTTERSTOCK:"shutterStock",UNSPLASH:"unsplash"},E={[o.ADD_MEDIA]:"Media_Panel_Empty_Manager",[o.CREATE_MEDIA]:"Media_Panel_Edit_ImagesVideos",[o.SITE_FILES]:"Media_Panel_Recently_Added",[o.RECOMMENDED_MEDIA]:"Media_Panel_Recommended",[o.WIX_IMAGES]:"Media_Panel_Wix_Images",[o.WIX_VIDEOS]:"Media_Panel_Wix_Videos",[o.WIX_ILLUSTRATIONS]:"Media_Panel_Wix_Illustrations",[o.WIX_VECTOR_ART]:"Media_Panel_Wix_Vector_Art",[o.WIX_SOCIAL_ICONS]:"Media_Panel_Wix_Social_Icons",[o.SHUTTERSTOCK_IMAGES]:"Media_Panel_Shutterstock_Images",[o.SHUTTERSTOCK_VIDEOS]:"Media_Panel_Shutterstock_Videos"},S={[o.ADD_MEDIA]:"Media_Panel_Empty_Manager",[o.CREATE_MEDIA]:"Media_Panel_Edit_ImagesVideos",[o.SITE_FILES]:"Media_Panel_Recently_Added",[o.RECOMMENDED_MEDIA]:"Media_Panel_Recommended",[o.WIX_IMAGES]:"Media_Panel_MFW_Wix_Images",[o.WIX_VIDEOS]:"Media_Panel_MFW_Wix_Videos",[o.WIX_ILLUSTRATIONS]:"Media_Panel_Wix_Illustrations",[o.WIX_VECTOR_ART]:"Media_Panel_Wix_Vector_Art",[o.WIX_SOCIAL_ICONS]:"Media_Panel_Wix_Social_Icons",[o.SHUTTERSTOCK_IMAGES]:"Media_Panel_Shutterstock_Images",[o.SHUTTERSTOCK_VIDEOS]:"Media_Panel_Shutterstock_Videos"},T={[o.SITE_FILES]:()=>({path:I.PRIVATE}),[o.RECOMMENDED_MEDIA]:()=>({path:I.PRIVATE}),[o.WIX_IMAGES]:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{path:"".concat(I.PUBLIC,"/").concat(e)}},[o.WIX_VIDEOS]:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{path:"".concat(I.PUBLIC,"/").concat(e)}},[o.SHUTTERSTOCK_IMAGES]:()=>({path:"".concat(I.SHUTTERSTOCK,"/").concat(h.IMAGE)}),[o.SHUTTERSTOCK_VIDEOS]:()=>({path:"".concat(I.SHUTTERSTOCK,"/").concat(h.VIDEO)})},D={[o.SITE_FILES]:e=>({path:"search/".concat(I.ALL,"/").concat(e)}),[o.WIX_IMAGES]:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return{path:"search/".concat(I.PUBLIC,"/").concat(e,"/").concat(t)}},[o.WIX_ILLUSTRATIONS]:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return{path:"search/".concat(I.PUBLIC,"/").concat(e,"/").concat(t)}},[o.WIX_VECTOR_ART]:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return{path:"search/".concat(I.PUBLIC,"/").concat(e,"/").concat(t)}},[o.WIX_SOCIAL_ICONS]:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return{path:"search/".concat(I.PUBLIC,"/").concat(e,"/").concat(t)}},[o.WIX_VIDEOS]:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return{path:"search/".concat(I.PUBLIC,"/").concat(e,"/").concat(t)}},[o.SHUTTERSTOCK_IMAGES]:e=>({path:"search/".concat(I.SHUTTERSTOCK,"/").concat(e,"/").concat(h.IMAGE)}),[o.SHUTTERSTOCK_VIDEOS]:e=>({path:"search/".concat(I.SHUTTERSTOCK,"/").concat(e,"/").concat(h.VIDEO)})},M={[n.PICTURE]:h.IMAGE,[n.VIDEO]:h.VIDEO},y=[o.WIX_VIDEOS],P=[m.IMAGES,m.VECTOR_ART,m.ILLUSTRATIONS,m.VIDEOS],O={disableExposure:!0,noDontShowAgain:!0,questionId:"".concat("media_editor_panel","_recommended_topics_picker"),triggerEvent:"all-categories-button-click",feedbackModel:{feedbackType:"question",theme:"light",question:{title:r("Media_Panel_Recommended_FeedbackWindow_Title"),subTitle:r("Media_Panel_Recommended_FeedbackWindow_Subtitle"),justifyContent:"start"},answer:{firstLevelType:"firstlevel-image-tags",cancelButton:{label:r("Media_Panel_Recommended_FeedbackWindow_Cancel_Button")},applyButton:{choice:"apply",label:r("Media_Panel_Recommended_FeedbackWindow_Apply_Button")},tags:[]}}};return{MEDIA_MANAGER_PANEL_TITLE:"Media_Panel_Header_New_Title",MEDIA_MANAGER_OPEN_SOURCE_BASE:"media_editor_panel",MEDIA_MANAGER_PANEL_SECTION_ID:o,PANEL_BI_SOURCE_SUFFIX:l,SHUTTERSTOCK_PAYMENT_API:"https://pix.wix.com",BLACK_ARROW_CONFIG:{messageUrl:"https://ws.wixmp.com/message",socketUrl:"wss://ws.wixmp.com/ws",tokenUrl:"//files.wix.com/users/get-batoken"},SOCKET_STATUSES:{INIT:"INIT",GOT_TOKEN:"GOT_TOKEN",GET_TOKEN_FAILED:"GET_TOKEN_FAILED",OPEN_STARTED:"OPEN_STARTED",REOPEN_STARTED:"REOPEN_STARTED",OPENED:"OPENED",CLOSED:"CLOSED"},TRANSCODING_STATUSES:{IN_DOWNLOAD_QUEUE:"IN-DOWNLOAD-QUEUE",DOWNLOADING:"DOWNLOADING",UPLOADING:"UPLOADING",IN_STORAGE:"IN-STORAGE",IN_QUEUE:"IN-QUEUE",PENDING:"PENDING",IN_PROGRESS:"INPROGRESS",PREVIEW_READY:"PREVIEW_READY",READY:"READY",FAILED:"FAILED",NONE:"NONE"},ITEMS_TO_LOAD_COUNT:6,RECOMMENDED_ITEMS_TO_LOAD_COUNT:27,RECOMMENDED_SECTION_INITIAL_VISIBLE_ITEMS_COUNT:9,SECTIONS_TITLES_MAP:d,SECTIONS_MEDIA_FROM_WIX_TITLES_MAP:u,SEARCH_SECTIONS_TITLES_MAP:c,SEARCH_SECTIONS_MEDIA_FROM_WIX_TITLES_MAP:p,PUBLIC_MEDIA_ROOT:m,PUBLIC_MEDIA_ROOT_MEDIA_TYPE_MAP:_,PRICE_INFO_URLS:g,SHUTTERSTOCK_MEDIA_TYPE:h,MEDIA_MANAGER_UPLOAD_SOURCES:{COMPUTER:"computer",IMPORT:"import",MANAGE:"manage",FACEBOOK:"facebook",INSTAGRAM:"instagram",DROPBOX:"dropbox",GOOGLE_PHOTOS:"googlePhotos",GOOGLE_DRIVE:"drive"},MEDIA_SOURCES:I,NAVIGATION_TOOLTIP_KEYS:E,NAVIGATION_MFW_TOOLTIP_KEYS:S,VIDEO_FILE_TRANSCODING_FAILED_TOOLTIP_MESSAGE:"Media_Panel_Upload_Transcoding_Error",MEDIA_MANAGER_OPEN_OPTIONS_WHEN_SEARCH:D,MEDIA_MANAGER_OPEN_OPTIONS:T,MEDIA_MANAGER_MEDIA_TYPES_SHUTTER_STOCK_MEDIA_TYPES_MAP:M,WIX_MEDIA_SECTIONS_LIST_FOR_FULL_INFO:y,ADD_TO_STAGE_METHOD:{CLICK:"click",DRAG:"drag",MEDIA_MANAGER:"media_manager"},RECOMMENDED_CARD_TOPICS:["art","nature","music","lifestyle","sports","home"],RECOMMENDED_MEDIA_QUESTION:O,RECOMMENDED_MEDIA_SECTION_ITEMS_WIX_MEDIA_ROOTS:P,RECOMMENDED_MEDIA_BUTTONS:{APPLY:"apply",SEE_ALL:"see_all",DOTS:"three_dots",DO_THIS_LATER:"do_this_later",DONT_SHOW_AGAIN:"dont_show_again",SHOW_MORE:"show_more",SETTINGS:"settings",FEEDBACK_APPLY:"feedback_apply",FEEDBACK_CANCEL:"feedback_cancel"},MEDIA_PANEL_NEVER_SHOW_RECOMMENDED_CARD_KEY:"mediaPanel_sitePrefs_neverShowRecommendedCard",RECOMMENDED_MEDIA_PRESENCE_TYPE:{NO:"no",AS_CARD:"as_card",AS_SECTION:"as_section_with_images"},MEDIA_PRODUCER:{WIX:"wixstock",SHUTTERSTOCK:"shutterstock"},OPEN_BY_URL_SOURCE:{SITE_FILES:"sitefiles",WIX_IMAGES:"wiximages",WIX_VIDEOS:"wixvideos",WIX_EXCLUSIVES_VIDEOS:"wixvideosexclusives",SHUTTERSTOCK_IMAGES:"shutterstockimages",SHUTTERSTOCK_VIDEOS:"shutterstockvideos",UNSPLASH:"unsplash"},CHECKOUT_MEDIA_TYPE:{VIDEO:"VIDEO",IMAGE:"IMAGE"},CHECKOUT_MEDIA_PRODUCER:{SHUTTERSTOCK:"shutterStock",WIXSTOCK:"wixStock"}}}.apply(t,i))||(e.exports=s)},6:function(e,t){e.exports=r},8:function(e,t){e.exports=o},9:function(e,t){e.exports=l},91:function(e,t,a){var i,s;i=[a,t,a(0),a(1),a(1803),a(2),a(6),a(55),a(1804)],void 0===(s=function(e,t,a,i,s,n,r,o,l){"use strict";i=a.__importDefault(i),s=a.__importStar(s),n=a.__importStar(n),r=a.__importDefault(r),o=a.__importDefault(o),l=a.__importDefault(l);const{url:d}=n,u=r.default.MEDIA_MANAGER_MEDIA_TYPES,{MEDIA_SOURCES:c,MEDIA_MANAGER_UPLOAD_SOURCES:p,TRANSCODING_STATUSES:m,PUBLIC_MEDIA_ROOT:_,MEDIA_MANAGER_OPEN_SOURCE_BASE:h,PANEL_BI_SOURCE_SUFFIX:f,MEDIA_MANAGER_PANEL_SECTION_ID:g,MEDIA_PRODUCER:I,SHUTTERSTOCK_MEDIA_TYPE:E}=o.default,S=e=>e.source===c.SHUTTERSTOCK,T=e=>e.source===c.PUBLIC,D=(e,t,a,i,n)=>d.joinURL((e=>{switch(e){case c.PRIVATE:case c.PUBLIC:return"https://static.wixstatic.com";case c.SHUTTERSTOCK:default:return""}})(e),s.resize(t,{width:a,height:i,mode:n},s.ResizeAPI.Vanbrandt)),M=e=>i.default(e||"").split(".").last(),y=e=>{const{fileUrl:t}=e,a=M(t);return a===t?"":a},P=(e,t)=>e.mediaType===t,O=(e,t)=>i.default.includes(t,e.mediaType),C=e=>e<10?"0".concat(e):"".concat(e),A=e=>(S(e)?i.default.get(e,"fileInfo.aspect"):e.width/e.height)||(e=>P(e,u.VIDEO)?1.777:1)(e),b=(e,t,a)=>{const i=Math.min(e,a);return i<t?i:Math.max(i,t)},v=e=>i.default.replace(e,/.*\//,""),R=e=>e.mediaType===u.VIDEO,k=e=>{const{subFolders:t}=e;return t&&t.length?i.default.reduce(t,(e,t)=>[...e,...k(t)],[]):[e.id]},N=e=>{const t=e.systemTags||[];return i.default.includes(t,"paid")};return{isRecentlyAddedSection:e=>e===o.default.MEDIA_MANAGER_PANEL_SECTION_ID.SITE_FILES,isItemOfType:P,isItemOneOfTypes:O,isPicture:e=>e.mediaType===u.PICTURE,isSocialIconsRoot:e=>e===_.SOCIAL_ICONS,generatePictureThumbnailUrl:(e,t,a,i)=>S(e)||T(e)&&N(e)?e.thumbnailUrl:D(e.source,e.fileUrl,t,a,i),generatePicturePreviewUrl:(e,t,a,i)=>S(e)?e.previewUrl:D(e.source,e.fileUrl,t,a,i),getVideoThumbnailUrl:(e,t,a,s)=>{const{thumbnailUrl:n}=e;if(S(e))return n;const r=i.default.get(e,"fileOutput.image",[]),o=r.length&&i.default.last(r).url||n;return o===n?n:D(e.source,o,t,a,s)},getPrivateMediaFileExtension:y,getReadableDuration:e=>{const t=parseInt(e/1e3,10),a=t%60;let i=parseInt(t/60,10),s=0;return i>60&&(s=parseInt(i/60,10),i%=60),"".concat(s?"".concat(C(s),":"):"").concat(C(i),":").concat(C(a))},getPreviewRatio:A,getPreviewDimension:(e,t,a,i,s)=>{const n=A(e),r=S(e)||!e.width?a:b(e.width,t,a),o=S(e)||!e.height?s:b(e.height,i,s);let l=n>=1?{width:r,height:Math.round(r/n)}:{width:Math.round(o*n),height:o};return l.width>a&&(l={width:a,height:Math.round(a/n)}),l},timeNow:()=>Date.now(),prepareItemBeforeAddComponent:e=>{const{id:t,mediaType:a,name:s,width:n,height:r,fileInput:o,fileOutput:l,embedHtml:d,externalSources:c,labels:p,tags:m,fileUrl:_=""}=e,h={id:t,mediaType:a,fileName:v(_),uri:v(_),fileUrl:_,title:i.default.slice(s,0,40).join(""),fileInput:o,fileOutput:l,labels:p,tags:m};return O(e,[u.PICTURE,u.VIDEO,u.SWF])&&(h.width=n,h.height=r),P(e,u.VIDEO)&&(h.embedHtml=i.default.isUndefined(d)?null:d,h.externalSources=i.default.isUndefined(c)?null:c,h.fileBaseUrl=_.split("/").slice(0,2).join("/")),i.default.forEach(["thumbnailUrl","previewUrl","source"],t=>{var a;i.default.isUndefined(h[t])&&(h[t]=/Url/i.test(t)?(a=e[t],i.default.replace(a,/(http:\/\/[^\/]+\/)/i,"")):e[t])}),h},isAddMediaSection:e=>e===g.ADD_MEDIA,isRecommendedMediaCard:e=>e===g.RECOMMENDED_MEDIA_CARD,isRecommendedMediaSection:e=>e===g.RECOMMENDED_MEDIA,isCreateMediaSection:e=>e===g.CREATE_MEDIA,isUploadAddMediaSource:e=>e===p.COMPUTER,canShowPreviewForItem:e=>O(e,[u.PICTURE,u.SHAPE,u.VIDEO]),isVideoFileTranscodingFailed:e=>{const{transcodingStatus:t}=e;return t===m.FAILED},isVideoFileTranscodedSuccessfully:e=>{const{transcodingStatus:t}=e;return i.default.isUndefined(t)||t===m.READY},isVideoFileTranscodingInProgress:e=>{const{transcodingStatus:t}=e;return Boolean(t)&&!i.default.includes([m.READY,m.FAILED],t)},getNthOrFirstItem:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]?e[t]:i.default.head(e)},getTopVisibleSectionIndex:(e,t,a)=>{let s=0;if(t>0){s=t+a>=i.default.last(e)[1]?e.length-1:i.default.reduce(e,(e,a,i)=>a[0]<=t&&a[1]>t?i:e,0)}return s},transformSectionsDOMInstancesToDimensionIntervals:e=>i.default.map(e,e=>{const t=Math.floor(e.offsetTop);return[t,t+Math.floor(e.offsetHeight)+parseInt(window.getComputedStyle(e).marginBottom,10)]}),shiftDOMInstanceIntervals:(e,t)=>i.default.map(e,e=>{let[a,i]=e;return[a-t,i-t]}),sectionIdToBiField:e=>i.default.toLower(e),tagsToString:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.default.join(e,",")},getComponentStructureCreator:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{isSocialIcon:a}=t;return a?l.default.socialIcon:l.default[e.mediaType]},mapPublicMediaSubcategoryToRoot:e=>i.default.reduce(e,(e,t)=>{const{id:a}=t,s=k(t);return i.default.assign({},e,i.default.reduce(s,(e,t)=>i.default.assign({},e,{[t]:a}),{}))},{}),extractFolderIdFromPath:e=>{if(!e)return"";const t=i.default.split(e,"/"),a=i.default.head(t);if("search"===a)return(e=>{switch(i.default.nth(e,1)){case c.PRIVATE:return i.default.nth(e,3)||"";case c.PUBLIC:return i.default.nth(e,4);default:return""}})(t);switch(a){case c.PRIVATE:return i.default.nth(t,1)||"";case c.PUBLIC:return i.default.nth(t,2);default:return""}},getComposedComponentStructureCreator:function(){let{isSocialIcon:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e?l.default.socialBar:null},generateMediaManagerOpenSource:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return"".concat(h,"_").concat(f[e]).concat(t?"_search":"")},generateMediaManagerAddMediaSectionOpenSource:e=>"".concat(h,"_add_media_section_").concat(e),findFirstParentButtonNode:e=>{const t=e=>e&&e.tagName?"button"===i.default.toLower(e.tagName)?e:t(e.parentNode):null;return t(e)},getComponentStructureSkin:e=>i.default.get(e,"style.skin")||e.skin||e.style,isPublicMediaFilePaid:N,isPublicMediaItem:T,isShutterStockItem:S,selectExpandedCategories:(e,t)=>i.default.map(t,t=>i.default.includes(e,t.id)?i.default.assign({},t,{isSelected:!0}):t),addComponentData:l.default,filterOutSectionsItemsIds:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>!0;return i.default(e).flatMap("items").compact().filter(t).map("id").value()},isVideoItem:R,sectionsListToObj:e=>i.default.keyBy(e,"id"),isSiteMediaTokenFromTemplateSite:e=>{try{const{metasiteId:t}=JSON.parse(JSON.parse(window.atob(i.default.split(e,".")[2])).data);return i.default.includes(t,"_template_")}catch(e){return!1}},getMediaProducer:e=>T(e)?I.WIX:I.SHUTTERSTOCK,getFileExtension:e=>(e=>e.source===c.PRIVATE)(e)?y(e):T(e)?(e=>R(e)?"mp4":M(e.fileName))(e):(e=>R(e)?"mp4":"jpg")(e),generateBiSectionId:(e,t)=>{if(!i.default.isEqual(e,g.SITE_FILES))return e;const a=i.default.get(t,"tags",[]),s=i.default.includes(a,"_shutterstock"),n=i.default.includes(a,"_wixstock");let r="";return s?r=I.SHUTTERSTOCK:n&&(r=I.WIX),r?"".concat(r,"_").concat(t.mediaType):e},generateMediaManagerOpenPathFromUrlParam:e=>{const{OPEN_BY_URL_SOURCE:t}=o.default;switch(e){case t.SITE_FILES:return c.PRIVATE;case t.WIX_IMAGES:return"".concat(c.PUBLIC);case t.WIX_VIDEOS:return"".concat(c.PUBLIC,"/8e256233-1752-4026-9341-54036e7f875e");case t.WIX_EXCLUSIVES_VIDEOS:return"".concat(c.PUBLIC,"/8e256233-1752-4026-9341-54036e7f875e/834e0f2d-9836-40c8-a73a-2a4627a84ca2");case t.SHUTTERSTOCK_IMAGES:return"".concat(c.SHUTTERSTOCK,"/").concat(E.IMAGE);case t.SHUTTERSTOCK_VIDEOS:return"".concat(c.SHUTTERSTOCK,"/").concat(E.VIDEO);case t.UNSPLASH:return"".concat(c.UNSPLASH);default:return c.PRIVATE}},getMediaManagerSectionIdBasedOnUrlParam:e=>{const{OPEN_BY_URL_SOURCE:t}=o.default;switch(e){case t.SITE_FILES:return g.SITE_FILES;case t.WIX_IMAGES:return g.WIX_IMAGES;case t.WIX_VIDEOS:return g.WIX_VIDEOS;case t.SHUTTERSTOCK_IMAGES:return g.SHUTTERSTOCK_IMAGES;case t.SHUTTERSTOCK_VIDEOS:return g.SHUTTERSTOCK_VIDEOS;case t.UNSPLASH:default:return g.SITE_FILES}}}}.apply(t,i))||(e.exports=s)}})}));
//# sourceMappingURL=mediaManagerPanelInfra.min.js.map