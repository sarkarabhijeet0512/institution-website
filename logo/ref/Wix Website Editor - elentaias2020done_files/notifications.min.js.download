define("notifications",["tslib","lodash","util","react","prop-types","constants","stateManagement","wix-base-ui","santa-editor-symbols","coreBi","uiAnimations"],(function(t,i,e,o,n,a,s,r,c,l,f){return function(t){var i={};function e(o){if(i[o])return i[o].exports;var n=i[o]={i:o,l:!1,exports:{}};return t[o].call(n.exports,n,n.exports,e),n.l=!0,n.exports}return e.m=t,e.c=i,e.d=function(t,i,o){e.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:o})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,i){if(1&i&&(t=e(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(e.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var n in t)e.d(o,n,function(i){return t[i]}.bind(null,n));return o},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},e.p="",e(e.s=1872)}({0:function(i,e){i.exports=t},1:function(t,e){t.exports=i},10:function(t,i){t.exports=c},12:function(t,i){t.exports=l},1872:function(t,i,e){var o,n;o=[e,i,e(0),e(465),e(1873),e(1874),e(466)],void 0===(n=function(t,i,e,o,n,a,s){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),o=e.__importDefault(o),n=e.__importDefault(n),a=e.__importDefault(a),s=e.__importDefault(s),i.notificationFrame=o.default,i.notificationCenter=n.default,i.editorNotification=a.default,i.editorNotificationMapper=s.default}.apply(i,o))||(t.exports=n)},1873:function(t,i,e){var o,n;o=[e,i,e(0),e(1),e(4),e(2),e(7),e(3),e(36)],void 0===(n=function(t,i,e,o,n,a,s,r,c){"use strict";o=e.__importDefault(o),n=e.__importDefault(n),a=e.__importStar(a),s=e.__importDefault(s),r=e.__importDefault(r),c=e.__importStar(c);class l extends r.default.Component{constructor(){super(...arguments),this.getNotificationProps=t=>o.default.omit(t,["name"]),this.closeAll=()=>{o.default.invokeMap(this.props.notifications,"onClose"),this.props.closeAllNotifications()}}render(){return r.default.createElement("div",null,r.default.createElement("div",{key:"editor-notifications","data-aid":"notificationCenterIndication",className:"notification-center-editor"},r.default.createElement(c.listAddRemove,null,o.default.map(this.props.notifications,t=>r.default.createElement(a.lazyComponent,Object.assign({moduleName:t.name,key:t.id,close:()=>this.props.closeNotificationById(t.id)},this.getNotificationProps(t)))))))}}function f(t){return o.default.clone(s.default.editorPlugins.notifications.selectors.selectNotifications(t)).reverse()}l.displayName="notificationCenter",l.propTypes={notifications:n.default.array.isRequired,closeNotificationById:n.default.func.isRequired,closeAllNotifications:n.default.func.isRequired};const{closeNotification:u,closeAllNotifications:p}=s.default.editorPlugins.notifications.actions;return a.hoc.connect(a.hoc.STORES.STATE_ONLY,t=>{let{state:i}=t;return{notifications:f(i)}},t=>({closeNotificationById:i=>t(u(i)),closeAllNotifications:()=>t(p())}))(l)}.apply(i,o))||(t.exports=n)},1874:function(t,i,e){var o,n;o=[e,i,e(0),e(1),e(4),e(6),e(466),e(2),e(12),e(3),e(465),e(8),e(10)],void 0===(n=function(t,i,e,o,n,a,s,r,c,l,f,u,p){"use strict";o=e.__importDefault(o),n=e.__importDefault(n),a=e.__importDefault(a),s=e.__importDefault(s),r=e.__importStar(r),c=e.__importStar(c),l=e.__importDefault(l),f=e.__importDefault(f),u=e.__importDefault(u),p=e.__importStar(p);const{connect:d,STORES:{STATE_ONLY:m}}=r.hoc;class _ extends l.default.Component{constructor(){super(...arguments),this.translateIfNeeded=t=>o.default.isBoolean(this.props.shouldTranslate)&&!this.props.shouldTranslate?t:r.translate(t),this.close=()=>{const t=o.default.findKey(this.props.notifications,["id",this.props.id]);this.props.biEvent(c.events.notifications.editor_notification_close,{time_since_load:o.default.now()-this.props.notifications[t].startTime,finish_method:"X",topic:this.props.notifications[t].title}),o.default.invoke(this.props.notifications[t],"onClose"),this.props.close()},this.onLinkClicked=()=>{this.props.linkAction.onClick();const t=o.default.findKey(this.props.notifications,["id",this.props.id]);this.props.close(),this.props.biEvent(c.events.notifications.editor_notification_close,{time_since_load:o.default.now()-this.props.notifications[t].startTime,finish_method:"action_clicked",action:this.props.linkAction.caption,topic:this.props.notifications[t].title})},this.onMouseEnter=t=>{this.props.clearNotificationTimer(t,this.props.notifications)},this.onMouseLeave=t=>{const i=this.props.notifications,e=o.default.findKey(i,["id",t.id]);e&&this.props.resetNotificationTimer(t,i,e)}}componentDidMount(){const t=o.default.findKey(this.props.notifications,["id",this.props.id]);this.props.biEvent(c.events.notifications.editor_notification_appear,{location:t,topic:this.props.notifications[t].title})}render(){return l.default.createElement(f.default,{style:{maxWidth:"600px"},type:this.props.type,close:this.close},l.default.createElement("div",{onMouseEnter:()=>this.onMouseEnter(this.props),onMouseLeave:()=>this.onMouseLeave(this.props),"data-aid":"editor-notification-content",className:"editor-notification-content"},l.default.createElement(u.default.RichText,null,l.default.createElement("p",{"data-aid":"notification-message",className:"notification-message"},this.props.symbolName?l.default.createElement("span",{"data-aid":"notification-icon",key:"notification-icon",className:"notification-icon"},l.default.createElement(p.symbol,{name:this.props.symbolName})):null," ",this.translateIfNeeded(this.props.message)," ",this.props.linkAction&&this.props.linkAction.caption?l.default.createElement("a",{"data-aid":"notification-content-link",onClick:this.onLinkClicked,key:"notification-link-action",className:"notification-link"},this.translateIfNeeded(this.props.linkAction.caption)):null))))}}_.displayName="editorNotification",_.propTypes={name:n.default.string,type:n.default.oneOf(o.default.values(a.default.NOTIFICATIONS.TYPES)).isRequired,title:n.default.string,message:(t,i,e)=>{const n="Warning: Failed propType: ";return o.default.isUndefined(t[i])&&o.default.isUndefined(t.symbolName)?new Error("".concat(n," if not supplied 'symbolName', '").concat(i,"' prop is required in component: ").concat(e)):o.default.isUndefined(t[i])||o.default.isString(t[i])?void 0:new Error("".concat(n,"Invalid prop `").concat(i,"` of type `").concat(typeof t[i],"` supplied to `").concat(e,"`, expected `string`."))},symbolName:n.default.string,linkAction:n.default.shape({caption:n.default.string.isRequired,onClick:n.default.func.isRequired}),close:n.default.func.isRequired,notifications:n.default.array.isRequired,resetNotificationTimer:n.default.func.isRequired,clearNotificationTimer:n.default.func.isRequired};const{mapStateToProps:h,mapDispatchToProps:y}=s.default;return d(m,h,y)(_)}.apply(i,o))||(t.exports=n)},2:function(t,i){t.exports=e},3:function(t,i){t.exports=o},36:function(t,i){t.exports=f},4:function(t,i){t.exports=n},465:function(t,i,e){var o,n;o=[e,i,e(0),e(4),e(1),e(6),e(3),e(10)],void 0===(n=function(t,i,e,o,n,a,s,r){"use strict";var c;return o=e.__importDefault(o),n=e.__importDefault(n),a=e.__importDefault(a),s=e.__importDefault(s),r=e.__importStar(r),(c=class extends s.default.Component{constructor(){super(...arguments),this.onCloseClicked=()=>{this.props.close()},this.getGutterClass=()=>"gutter-".concat(this.props.type)}render(){return s.default.createElement("div",null,s.default.createElement("div",{key:"notification-frame-editor","data-aid":"notificationFrameIndication",className:"notification-frame-editor oneLineNotification"},s.default.createElement("div",{className:"notification-frame-wrapper"},s.default.createElement("div",{onClick:this.onCloseClicked,"data-aid":"notification-frame-close",className:"close-notification"},s.default.createElement("a",null,s.default.createElement(r.symbol,{name:"bubble-close"}))),s.default.createElement("div",{className:"notification-gutter ".concat(this.getGutterClass())}),this.props.children)))}}).displayName="notificationFrame",c.propTypes={type:o.default.oneOf(n.default.values(a.default.NOTIFICATIONS.TYPES)).isRequired,close:o.default.func.isRequired},c}.apply(i,o))||(t.exports=n)},466:function(t,i,e){var o,n;o=[e,i,e(0),e(1),e(7)],void 0===(n=function(t,i,e,o,n){"use strict";o=e.__importDefault(o),n=e.__importDefault(n);const{closeNotification:a,closeAllNotifications:s,addNotification:r,clearNotificationTimer:c,resetNotificationTimer:l}=n.default.editorPlugins.notifications.actions;return{mapStateToProps:t=>{let{state:i}=t;return{notifications:o.default.clone(n.default.editorPlugins.notifications.selectors.selectNotifications(i))}},mapDispatchToProps:t=>({closeNotificationById:i=>t(a(i)),closeAllNotifications:()=>t(s()),addNotification:()=>t(r()),clearNotificationTimer:(i,e)=>t(c(i,e)),resetNotificationTimer:(i,e,o)=>t(l(i,e,o)),biEvent:(i,e)=>t(n.default.editorPlugins.bi.actions.event(i,e))})}}.apply(i,o))||(t.exports=n)},6:function(t,i){t.exports=a},7:function(t,i){t.exports=s},8:function(t,i){t.exports=r}})}));
//# sourceMappingURL=notifications.min.js.map