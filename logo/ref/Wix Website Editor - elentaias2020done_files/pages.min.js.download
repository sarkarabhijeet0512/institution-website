define("pages",["tslib","lodash","util","react","prop-types","constants","stateManagement","wix-base-ui","baseUI","santa-editor-symbols","core","coreBi","experiment","helpIds","addPanelDataConsts","react-dom","panels","platform","wixData","pageSettingsPanel","platformPanels"],(function(e,t,a,i,n,s,o,l,d,r,p,u,c,g,f,m,_,h,P,y,b){return function(e){var t={};function a(i){if(t[i])return t[i].exports;var n=t[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,a),n.l=!0,n.exports}return a.m=e,a.c=t,a.d=function(e,t,i){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(i,n,function(t){return e[t]}.bind(null,n));return i},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=1875)}({0:function(t,a){t.exports=e},1:function(e,a){e.exports=t},10:function(e,t){e.exports=r},11:function(e,t){e.exports=p},115:function(e,t,a){var i,n;i=[a,t,a(0),a(1),a(2),a(11),a(12),a(26),a(64)],void 0===(n=function(e,t,a,i,n,s,o,l,d){"use strict";i=a.__importDefault(i),n=a.__importStar(n),s=a.__importStar(s),o=a.__importStar(o),l=a.__importStar(l),d=a.__importStar(d);const{dataRouterPagesMenuItemPrefixUtils:r,addPageRouterActionUtils:p}=n,u="Pages_Actions_Page_Rename",c=["Pages_Actions_Page_Rename","page_rename"],g=(e,t,a,i)=>{e.bi.event(o.events.pages.pagesPanel.quick_actions_menu_select,{page_id:t,source:i,category:a})},f=(e,t,a)=>{e.bi.event(o.events.pages.pagesPanel.tab_clicked_an_item_at_settings_menu,{source:a,category:t})},m=(e,t,a,n)=>s=>{const o=i.default.defaults(n,{origin:"pagesPanel",publicUrl:e.dsRead.generalInfo.getPublicUrl(),pageRef:s?e.dsRead.pages.getReference(s):null});e.dsActions.platform.notifyApplication(t,{eventType:a,eventPayload:o})},_=e=>e.developerMode.isEnabled()||d.isDataModeOn(e);return{dynamicPage:(e,t,a,n,s,o,d)=>{if(!o)return null;let r=[];if(_(e)){const s=e.pages.dynamicPages.getDynamicPageActions(t,"pageActions");r=i.default.map(s,t=>{let{title:s,icon:o,type:l,event:r}=t;const p=m(e,a,r,{routerRef:n});return{title:s,symbolName:l===u?"renameAction":o,onClick:(t,a)=>{if(l===u){e.pages.data.update(t,{title:a});const n=i.default.get(e.pages.data.get(t),"title");s!==n&&e.history.debouncedAdd("Rename Page")}else p(t);g(e,t,s,d||"router")},isRename:l===u}})}const p=e.pages.dynamicPages.getDynamicPageActions(t,"pageSettings",[l.constants.pages.page_settings.pageInfo.type,l.constants.pages.page_settings.seo.type]);return[...i.default.map(p,a=>({title:a.title,symbolName:a.icon,onClick:i=>{s({pageId:t,tabType:a.type}),g(e,i,a.title,d||"router")},isSettings:!0})),...r]},popup:(e,t,a,l)=>t?[{title:n.translate("Pages_Actions_Page_Settings"),symbolName:"settingsAction",onClick:t=>{const a=e.pages.popupPages.getPopupContainer();e.selection.selectComponentByCompRef(a),e.openComponentPanel("settingsPanel",{initiatorName:"quickActions"}),g(e,t,"open_popup_settings_panel","lightbox")},isSettings:!0},{title:n.translate("Pages_Actions_Page_Rename"),symbolName:"renameAction",onClick:(t,a)=>{a!==i.default.get(e.pages.data.get(t),"title")&&(e.pages.data.update(t,{title:a}),e.history.debouncedAdd("Rename Page"),g(e,t,"rename","lightbox")),l()},isRename:!0},{title:n.translate("Pages_Actions_Page_Duplicate"),symbolName:"duplicateAction",isDisabled:e.dsRead.language.isCurrentLanguageSecondary(),onClick:t=>{const n=e.pages.popupPages.duplicate(t),o=e.pages.serialize(t),l=s.utils.pageTitleUtils.generateDuplicatedTitle(o.data.title),d=e.dsRead.generalInfo.urlFormat.isSlash()?e.pages.data.pageUriSEO.convertPageNameToUrl:s.utils.pageTitleUtils.convertPageNameToUrl;e.pages.data.update(n.id,{title:l,pageUriSEO:d(l)},!0),e.dsRead.language.multilingual.isEnabled()&&e.dsActions.waitForChangesApplied(()=>{e.dsActions.language.patchDataItemTranslations("masterPage",n.id,e=>i.default.assign({},e,{title:s.utils.pageTitleUtils.generateDuplicatedTitle(e.title)}))}),e.pages.navigateTo(n.id),e.history.add("popup page was duplicated",{currentPage:t}),a(n.id),g(e,t,"duplicate","lightbox")}},{title:n.translate("Pages_Actions_Page_Delete"),symbolName:"deleteAction",onClick:(t,a)=>{e.dsActions.waitForChangesApplied((function(){e.pages.remove(t,i.default.partial(e.history.add,"removed popup"))})),e.bi.event(o.events.topbar.pages.page_or_pop_up_deleted,{page_or_popup:"pop up",page_popup_string_id:t,page_popup_name:a}),g(e,t,"delete","lightbox")}}]:null,menuTab:(e,t,a)=>{if(!a||!t)return null;const n=e.pages.dynamicPages.getActionByAppDefId(t,"routerActions"),s=i.default.get(e.dsRead.platform.getAppDataByAppDefId(t),"applicationId");return i.default.map(n,t=>({title:t.title,symbolName:t.icon,onClick:t.callback||m(e,s,t.event)}))},router:(e,t,a,n,s,l,d)=>{const u="Data"===d;if(!t||!_(e)&&!l||!u&&!e.developerMode.isEnabled()&&!l)return null;if(r.isValidPrefix(n)){const t=p.getAddDataRouterPageAction(e);return i.default.isUndefined(t)?[]:[{title:t.title,symbolName:t.icon,type:t.type,event:t.event,onClick:()=>{e.bi.event(o.events.pages.pagesPanel.tab_clicked_an_item_at_settings_menu,{source:"router",category:t.title});const{applicationId:a}=e.dsRead.platform.getAppDataByAppDefId(e.dsRead.platform.editorApps.DATA_BINDING.appDefId);e.dsActions.platform.notifyApplication(a,{eventType:t.event,eventPayload:i.default.assign({},r.getAddPageEventPayloadByPrefix(n),{origin:"pagesPanel"})})}}]}const c=e.dsRead.routers.getRouterRef.byPrefix(n),g=e.pages.dynamicPages.getRouterActionByPrefix(n);return i.default.map(g,t=>{let{title:i,icon:n,event:o,type:l,callback:d}=t;const r=m(e,a,o,{routerRef:c});return{title:i,symbolName:n,type:l,event:o,onClick:t=>{d?d(t):r(t),f(e,i,s||"router")}}})},application:(e,t,a,n)=>{if(!a||!t)return null;const s=i.default.get(e.dsRead.platform.getAppDataByAppDefId(t),"applicationId"),o=e.pages.appPages.getApplicationActions(t);return i.default.map(o,t=>{let{title:a,icon:i,event:o,callback:l,type:d}=t;const r=m(e,s,o);return{title:a,type:d,event:o,symbolName:i,onClick:t=>{l?l(t):r(t),f(e,a,n)}}})},applicationPage:(e,t,a,n,s,o,d)=>{if(!n)return null;const r=i.default.get(e.dsRead.platform.getAppDataByAppDefId(a),"applicationId"),p=e.pages.getReference(t),f=e.pages.appPages.getPageActions(a,p),_=i.default.map(f,a=>{let{title:n,icon:o,type:p,event:f}=a;const _=m(e,r,f),h=i.default.includes(c,p),P=i.default.includes("page_delete",p);return{title:n,symbolName:h?"renameAction":P&&!o?l.constants.pages.page_actions.delete.icon:o,onClick:(a,o)=>{const l=e.dsRead.data.getById(a);if("BasicMenuItem"===l.type&&(a=l.link.pageId.replace("#","")),p===u){e.pages.data.update(a,{title:o}),d();const t=i.default.get(e.pages.data.get(a),"title");n!==t&&e.history.debouncedAdd("Rename Page")}else"page_delete"!==p||f?_(a):e.dsActions.waitForChangesApplied((function(){e.pages.remove(t,()=>e.history.add("deleting a page",{currentPage:t}))}));g(e,a,n,s||"router")},isRename:p===u,isRemove:"page_remove"===p}}),h=e.pages.appPages.getPageSettings(a,[l.constants.pages.page_settings.pageInfo.type,l.constants.pages.page_settings.seo.type],p);return[...i.default.map(h,a=>({title:a.title,symbolName:a.icon,onClick:i=>{o({pageId:t,tabType:a.type}),g(e,i,a.title,s)},isSettings:!0})),..._]},getOnClickApplicationNotification:m,signup:(e,t,a)=>[{title:n.translate("Pages_Actions_Page_Settings"),symbolName:"settingsAction",onClick:a=>{t({pageId:a,tabType:"page",isCustomSignup:!0}),g(e,a,"tabPageInfo","custom_signup")},isSettings:!0}].concat(a?[{title:n.translate("Pages_Actions_Page_Edit"),symbolName:"editAction",onClick:t=>{e.panelManager.closeAllPanels(),e.pages.navigateTo(t,()=>{const t=e.pages.popupPages.getCurrentPopup(),a=i.default.find(e.components.getChildren(t,!0),t=>"wysiwyg.viewer.components.FormContainer"===e.components.getType(t));e.selection.selectComponentByCompRef(a)}),g(e,t,"edit","custom_signup")},isSettings:!0},{title:n.translate("Pages_Actions_Page_Delete_Custom_Signup"),symbolName:"deleteAction",onClick:(t,a)=>{e.dsActions.waitForChangesApplied((function(){e.pages.remove(t,()=>{e.siteMembers.setCustomSignupPageId(null),e.history.add("removed custom signup page")},i.default.noop,{shouldShowEditorRemovePanel:!0})})),e.bi.event(o.events.topbar.pages.page_or_pop_up_deleted,{page_or_popup:"pop up",page_popup_string_id:t,page_popup_name:a}),g(e,t,"delete","custom_signup")}}]:[])}}.apply(t,i))||(e.exports=n)},12:function(e,t){e.exports=u},13:function(e,t){e.exports=c},14:function(e,t){e.exports=g},16:function(e,t){e.exports=f},18:function(e,t){e.exports=m},1875:function(e,t,a){var i,n;i=[a,t,a(0),a(115),a(193),a(1876),a(1895),a(60)],void 0===(n=function(e,t,a,i,n,s,o,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i=a.__importDefault(i),n=a.__importDefault(n),s=a.__importDefault(s),o=a.__importDefault(o),l=a.__importDefault(l),t.getActions=i.default,t.getPages=n.default,t.pagesPanel=s.default,t.quickNavigation=o.default,t.pageCategories=l.default}.apply(t,i))||(e.exports=n)},1876:function(e,t,a){var i,n;i=[a,t,a(0),a(3),a(4),a(1),a(2),a(60),a(1877),a(1880),a(1881),a(1882),a(1883),a(1891),a(1892),a(1893),a(1894),a(19),a(270)],void 0===(n=function(e,t,a,i,n,s,o,l,d,r,p,u,c,g,f,m,_,h,P){"use strict";i=a.__importDefault(i),n=a.__importDefault(n),s=a.__importDefault(s),o=a.__importStar(o),l=a.__importDefault(l),d=a.__importDefault(d),r=a.__importDefault(r),p=a.__importDefault(p),u=a.__importDefault(u),c=a.__importDefault(c),g=a.__importDefault(g),f=a.__importDefault(f),m=a.__importDefault(m),_=a.__importDefault(_),h=a.__importStar(h),P=a.__importStar(P);const{connect:y,STORES:{EDITOR_API:b}}=o.hoc;function I(e,t){return s.default.some(t.userRouters,{id:e})||s.default.some(t.specialRouters,{id:e})}class S extends i.default.Component{constructor(e){super(e),this.getInitialSettingsData=()=>e.initialSettingsTabType?{tabType:e.initialSettingsTabType,pageId:e.selectedPageId}:null,this.state={selectedTabId:this.props.initialTabId,nonPageItemSelected:!1,userSelectedPageId:null,settingsData:this.getInitialSettingsData(),renamedItemId:this.props.renamedItemId||null},this.getView=()=>{let e;const t=this.state.selectedTabId;return t===l.default.TRANSITIONS.id?e=g.default:t===l.default.DYNAMIC_PAGES_INTRO.id?e=f.default:s.default.some(this.props.menus,{id:t})?e=c.default:t===l.default.SIGNUP.id?e=d.default:t===l.default.POPUPS.id?e=r.default:I(t,this.props)?e=p.default:s.default.some(this.props.appPages,{id:t})&&(e=u.default),i.default.createElement(e,{pagesData:this.props.pagesData,onClose:this.props.onClose,onHelp:this.props.onHelp,selectedMenuItemId:this.props.selectedMenuItemId,selectedPageId:this.props.selectedPageId,renamedItemId:this.state.renamedItemId,title:o.translate(s.default.get(l.default[t],"title")),onShowSettings:this.handleShowSettings,onItemAdded:e=>this.setState({renamedItemId:e,settingsData:null}),onRename:()=>this.setState({renamedItemId:null}),isDesktop:this.props.isDesktop,popups:this.props.popups,menu:s.default.find(this.props.menus,{id:t}),router:s.default.find(this.props.userRouters,{id:t})||s.default.find(this.props.specialRouters,{id:t}),appData:s.default.find(this.props.appPages,{id:t}),selectedTransition:this.props.selectedTransition,notifyDataBindingAppTooManyPages:this.props.notifyDataBindingAppTooManyPages,onClickTransition:this.props.onClickTransition,onSelectNonPageItem:()=>{this.handleCloseSettings(),this.setState({nonPageItemSelected:!0,userSelectedPageId:null})},onSelectPageItem:e=>this.setState({nonPageItemSelected:!1,userSelectedPageId:e}),addDynamicPage:this.props.addDynamicPage,biPanelName:this.props.biPanelName})},this.handleClickTab=e=>{const{isForceSelectedTabId:t,clearForceSelectedTabId:a}=this.props;t&&a(),this.setState({selectedTabId:e,settingsData:null})},this.handleChangeShownSettings=e=>{e?this.setState(t=>({settingsData:s.default.assign(t.settingsData,{tabType:e.tabType,pageId:e.pageId})})):this.handleCloseSettings()},this.handleCloseSettings=()=>this.setState({settingsData:null}),this.handleShowSettings=e=>{this.setState(t=>({settingsData:s.default.assign({},t.settingsData,e)}))},this.getSettingsItem=()=>{const e=s.default.get(this.state.settingsData,"pageId")||this.props.selectedPageId,t=e&&this.props.getPageData(e);return{pageData:t,label:s.default.get(t,"title")}},this.updateSelectedTabIdIfDeleted=e=>{const t=this.state.selectedTabId;I(t,this.props)&&!I(t,e)&&this.setState({selectedTabId:e.selectedTabId,nonPageItemSelected:!1})},this.showSignupSettings=()=>this.state.settingsData&&this.state.settingsData.isCustomSignup,this.showMobileSettingsPanel=()=>!this.props.isDesktop&&!!this.state.settingsData,this.showRegularSettings=()=>!!this.state.settingsData&&((this.state.settingsData.pageId||this.props.selectedPageIsDynamic||this.props.selectedPageIsManagedByApp)&&!this.state.settingsData.isCustomSignup)}componentWillReceiveProps(e){if(!e.isForceSelectedTabId&&this.props.isForceSelectedTabId)return;const t=this.props.selectedPageId!==e.selectedPageId,a=this.state.selectedTabId===l.default.TRANSITIONS.id||this.state.selectedTabId===l.default.SIGNUP.id||this.state.userSelectedPageId===e.selectedPageId;this.state.settingsData&&t&&this.handleChangeShownSettings({tabType:null,pageId:e.selectedPageId});const i=!t&&e.selectedTabId!==this.props.selectedTabId;(e.selectedTabId&&!a&&t&&!this.state.nonPageItemSelected||i)&&this.setState({selectedTabId:e.selectedTabId}),e.forceOpenPagesPanelCounter>this.props.forceOpenPagesPanelCounter&&(e.renamedItemId!==this.state.renamedItemId&&(this.setState({renamedItemId:e.renamedItemId}),e.selectedTabId!==this.state.selectedTabId&&this.setState({selectedTabId:e.selectedTabId})),e.initialSettingsTabType&&this.handleShowSettings({tabType:e.initialSettingsTabType,pageId:e.selectedPageId})),this.updateSelectedTabIdIfDeleted(e)}render(){const e=P.settingsPanels.main,t=P.settingsPanels.mobile,a=P.settingsPanels.signup;return i.default.createElement(h.frames.leftPanelFrame,{ref:"pagesPanel",panelName:this.props.panelName,panelIndex:this.props.panelIndex,panelClass:"pages-panel-pp",className:"left-panel-frame-pages-panel-pp"},i.default.createElement(_.default,{onClickTab:this.handleClickTab,selectedTabId:this.state.selectedTabId,popups:this.props.popups,hasCustomSignupLightbox:this.props.hasCustomSignupLightbox,shouldShowDynamicPagesIntroTab:this.props.shouldShowDynamicPagesIntroTab,hasRestrictedPage:this.props.hasRestrictedPage,userRouters:this.props.userRouters,specialRouters:this.props.specialRouters,appPages:this.props.appPages,isDesktop:this.props.isDesktop,menus:this.props.menus,biEvent:this.props.biEvent}),this.getView(),this.showMobileSettingsPanel()?i.default.createElement(t,{menuItem:this.getSettingsItem(),closeSettingsPanel:this.handleCloseSettings,actions:{closeSettingsPanel:this.handleCloseSettings},key:"pageSettingsMobile"}):null,this.props.isDesktop&&!this.showSignupSettings()&&this.showRegularSettings()?i.default.createElement(e,{key:"shouldShowMainSettings",menuItem:this.getSettingsItem(),menuId:this.state.settingsData.menuId,activeTabType:this.state.settingsData.tabType,closeSettingsPanel:this.handleCloseSettings,token:"dffdfadsfa",actions:{closeSettingsPanel:this.handleCloseSettings}}):null,this.showSignupSettings()?i.default.createElement(a,{key:"shouldShowSignupSettings",closeSettingsPanel:this.handleCloseSettings}):null)}}S.displayName="PagesPanel",S.propTypes={pagesData:n.default.arrayOf(n.default.object).isRequired,selectedPageId:n.default.string.isRequired,selectedPageIsDynamic:n.default.bool,selectedPageIsManagedByApp:n.default.bool,selectedMenuItemId:n.default.string,isForceSelectedTabId:n.default.bool,selectedTabId:n.default.string,initialTabId:n.default.string,renamedItemId:n.default.string,menus:n.default.arrayOf(n.default.shape({id:n.default.string.isRequired,title:n.default.string.isRequired,applicationId:n.default.string})).isRequired,userRouters:n.default.arrayOf(n.default.shape({id:n.default.string.isRequired,title:n.default.string.isRequired,pagesData:n.default.arrayOf(n.default.object).isRequired,prefix:n.default.string.isRequired,biCategory:n.default.string.isRequired})).isRequired,specialRouters:n.default.arrayOf(n.default.shape({id:n.default.string.isRequired,title:n.default.string.isRequired,pagesData:n.default.arrayOf(n.default.object).isRequired,prefix:n.default.string.isRequired,isSpecial:n.default.bool.isRequired,biCategory:n.default.string.isRequired})).isRequired,appPages:n.default.arrayOf(n.default.shape({id:n.default.string.isRequired,title:n.default.string.isRequired,pagesData:n.default.arrayOf(n.default.object),biCategory:n.default.string.isRequired,helpId:n.default.string.isRequired,emptyStateUrl:n.default.string})).isRequired,popups:n.default.arrayOf(n.default.object).isRequired,panelName:n.default.string,onClose:n.default.func.isRequired,onHelp:n.default.func.isRequired,getPageData:n.default.func.isRequired,notifyDataBindingAppTooManyPages:n.default.func.isRequired,isDesktop:n.default.bool.isRequired,biEvent:n.default.func.isRequired,biPanelName:n.default.string.isRequired,selectedTransition:n.default.string.isRequired,onClickTransition:n.default.func.isRequired,shouldShowDynamicPagesIntroTab:n.default.bool.isRequired,addDynamicPage:n.default.func.isRequired,initialSettingsTabType:n.default.string,forceOpenPagesPanelCounter:n.default.number,clearForceSelectedTabId:n.default.func.isRequired},S.defaultProps={panelName:"pagesPanel"};const A=y(b,m.default.mapStateToProps,m.default.mapDispatchToProps)(S);return A.pure=S,A}.apply(t,i))||(e.exports=n)},1877:function(e,t,a){var i,n;i=[a,t,a(0),a(1),a(2),a(12),a(60),a(115),a(194)],void 0===(n=function(e,t,a,i,n,s,o,l,d){"use strict";i=a.__importDefault(i),n=a.__importStar(n),s=a.__importStar(s),o=a.__importDefault(o),l=a.__importDefault(l),d=a.__importDefault(d);const r=e=>{const t=e.pages.popupPages.getDataList(),a=i.default.get(i.default.find(t,["managingAppDefId","5f4fa4f1-5afd-4ac0-8a85-e5ac1d2b9b7d"]),"id"),s=e.dsRead.siteMembers.getCustomSignupPageId();return s?a===s?n.translate("NewPages_Member_Signup_Custom_Title"):n.translate("NewPages_Member_Signup_Developer_Title"):n.translate("NewPages_Member_Signup_Default_Title")},p=(e,t)=>{let{editorAPI:a,dsRead:i}=e;const n=i.siteMembers.getCustomSignupPageId(),s=l.default.signup(a,t,n);return[{id:n||"defaultSignup",typeSymbol:"regularPageType",title:r(a),actions:s}]},u=(e,t,a)=>{let{editorAPI:i,dsRead:n}=e;return()=>{const e=n.siteMembers.getCustomSignupPageId();e&&e!==n.pages.getFocusedPageId()?(i.pages.navigateTo(e,(function(){i.selection.selectComponentByCompRef(i.pages.popupPages.getPopupContainer(e))})),i.bi.event(s.events.pages.navigate_to_page,{page_id:e,panel_name:t,category:o.default.SIGNUP.biCategory})):e||a({pageId:e,tabType:"page",isCustomSignup:!0})}},{connect:c,renderWhenMutated:g,STORES:{EDITOR_API:f}}=n.hoc;return c(f,(e,t)=>{let{editorAPI:a,dsRead:n}=e,{biPanelName:s,onShowSettings:l,onHelp:d}=t;return{pages:p({editorAPI:a,dsRead:n},l),navigateTo:u({editorAPI:a,dsRead:n},s,l),biEvent:a.bi.event,biCategory:o.default.SIGNUP.biCategory,renameEnabled:!1,onHelp:i.default.partial(d,o.default.SIGNUP.helpId)}})(g(d.default))}.apply(t,i))||(e.exports=n)},1878:function(e,t,a){var i,n;i=[a,t,a(0),a(3),a(4),a(1),a(2),a(12),a(8),a(10),a(2)],void 0===(n=function(e,t,a,i,n,s,o,l,d,r,p){"use strict";function u(){return i.default.createElement("div",{className:p.cx("page-pp",{selected:this.props.isSelected})},null===this.state.inputValue?i.default.createElement("div",{key:"title-container-page-pp",onClick:()=>{this.props.onClick(this.props.id)},onDoubleClick:this.onDoubleClick,className:"title-container"},i.default.createElement("div",{className:"left-container"},i.default.createElement(d.default.Tooltip,{disabled:!this.props.info,content:this.props.info,shouldTranslate:!1,arrowAlignment:"top",key:"tooltip-type-symbol-pp"},this.props.typeSymbol?i.default.createElement(r.symbol,{name:this.props.typeSymbol,key:"typeSymbol-pp",className:"page-entry-symbol"}):null),i.default.createElement(d.default.TooltipOnEllipsis,{marginTop:5,contentClassName:"title"},this.props.title)),i.default.createElement("div",{className:"right-container"},this.props.permissionSymbol?i.default.createElement(r.symbol,{name:this.props.permissionSymbol,key:"permissionSymbol-pp"}):null,this.props.actions&&this.props.actions.length>1?(()=>{const e=this.getActions(),t=this.getSettingsActions();return i.default.createElement(d.default.ContextMenu,{key:"page-context-menu",automationId:"page-context-menu",onToggle:this.handleContextMenuToggle,className:"context-menu flat page-actions"},s.default.map(t,e=>i.default.createElement(d.default.ContextMenuAction,{onClick:()=>{this.handleClickAction(e)},key:"action-".concat(e.title),automationId:"action-".concat(e.title),className:"page-settings-action-pp"},i.default.createElement(r.symbol,{name:e.symbolName}),i.default.createElement("span",null,e.title))),s.default.isEmpty(e)||s.default.isEmpty(t)?null:i.default.createElement(d.default.Divider,{key:"divider"}),s.default.map(e,e=>i.default.createElement(d.default.ContextMenuAction,{onClick:()=>{this.handleClickAction(e)},key:"action-".concat(e.title),automationId:"action-".concat(e.title)},i.default.createElement(r.symbol,{name:e.symbolName}),i.default.createElement("span",null,e.title))))})():null,this.props.actions&&1===this.props.actions.length?(()=>{const e=this.props.actions[0];return i.default.createElement(d.default.Button,{onClick:()=>{this.handleClickAction(e)},key:"page-single-action",className:"single-action page-actions"},i.default.createElement(r.symbol,{name:e.symbolName}))})():null)):null,null!==this.state.inputValue?(()=>{const e=o.validate.pageNameValidator(this.state.inputValue);return i.default.createElement("div",{key:"input-container-page-pp",className:"input-button-container"},i.default.createElement(d.default.TextInput,{value:this.state.inputValue,onChange:this.handleChangeInput,isValid:!e,invalidMessage:o.translate(e),shouldTranslate:!1,selectOnFocus:!0,maxLength:40,onBlur:this.handleBlurInput,autoSelect:!0}),i.default.createElement(d.default.Button,{disabled:e,className:"done-button"},o.translate("Pages_Actions_Rename_Button")))})():null)}i=a.__importDefault(i),n=a.__importDefault(n),s=a.__importDefault(s),o=a.__importStar(o),l=a.__importStar(l),d=a.__importDefault(d),r=a.__importStar(r);class c extends i.default.Component{constructor(e){super(e),this.state={inputValue:e.mountInRenameMode?e.title:null},this.handleClickAction=e=>{e.isRename?this.openRenameMode():e.onClick(this.props.id,this.props.title)},this.handleContextMenuToggle=e=>{e&&this.props.biEvent(l.events.pages.pagesPanel.page_actions_click,{page_id:this.props.id,source:this.props.biCategory})},this.openRenameMode=()=>this.setState({inputValue:this.props.title}),this.onDoubleClick=()=>{s.default.filter(this.props.actions,"isRename")[0]&&this.props.renameEnabled&&this.openRenameMode()},this.handleChangeInput=e=>this.setState({inputValue:e}),this.handleBlurInput=()=>{const e=!o.validate.pageNameValidator(this.state.inputValue)?this.state.inputValue:this.props.title;s.default.filter(this.props.actions,"isRename")[0].onClick(this.props.id,e),this.setState({inputValue:null})},this.getSettingsActions=()=>s.default.filter(this.props.actions,"isSettings"),this.getActions=()=>s.default.reject(this.props.actions,"isSettings")}componentWillReceiveProps(e){const t=this.state.inputValue===this.props.title,a=e.title!==this.props.title,i=null!==this.state.inputValue;(t&&a||e.mountInRenameMode!==this.props.mountInRenameMode&&!i)&&this.setState({inputValue:e.title})}render(){return u.call(this)}}return c.displayName="Page",c.propTypes={id:n.default.string.isRequired,title:n.default.string.isRequired,onClick:n.default.func.isRequired,actions:n.default.arrayOf(n.default.shape({title:n.default.string.isRequired,onClick:n.default.func.isRequired,symbolName:n.default.string.isRequired,isRename:n.default.bool})),isSelected:n.default.bool,info:n.default.string,mountInRenameMode:n.default.bool,renameEnabled:n.default.bool.isRequired,typeSymbol:n.default.string,permissionSymbol:n.default.string,biEvent:n.default.func.isRequired,biCategory:n.default.string.isRequired},c}.apply(t,i))||(e.exports=n)},1879:function(e,t){e.exports=b},1880:function(e,t,a){var i,n;i=[a,t,a(0),a(1),a(2),a(13),a(16),a(7),a(60),a(115),a(12),a(194)],void 0===(n=function(e,t,a,i,n,s,o,l,d,r,p,u){"use strict";i=a.__importDefault(i),n=a.__importStar(n),s=a.__importDefault(s),o=a.__importDefault(o),l=a.__importDefault(l),d=a.__importDefault(d),r=a.__importDefault(r),p=a.__importStar(p),u=a.__importDefault(u);const{connect:c,renderWhenMutated:g,STORES:{EDITOR_API:f}}=n.hoc,m=(e,t)=>{const a=(e,t)=>i.default.template(n.translate(e))(t),s=t.length,o=a("Pages_Menu_Popup_Tooltip_Start_Section",{$PAGE_NAME:i.default.truncate(i.default.head(t))}),l=a("Pages_Menu_Popup_Tooltip_End_Section",{$PAGE_NAME:i.default.truncate(i.default.last(t))});let d;if(1===s)d=o;else if(2===s)d="".concat(o," ").concat(l);else{const e=i.default.reduce(i.default.slice(t,1,-1),(e,t)=>"".concat(e," ").concat(a("Pages_Menu_Popup_Tooltip_Middle_Section",{$PAGE_NAME:i.default.truncate(t)})),o);d="".concat(e," ").concat(l)}return d},_=(e,t,a,s)=>{const o=i.default.map(t,e=>{let{id:t,title:a}=e;return{id:t,title:a,typeSymbol:"popupPageType"}});return s?((e,t,a)=>{const s=e.pages.popupPages.getOpenBehaviorsForPopups(),o=i.default.zipObject(i.default.map(a,"id"),i.default.map(a,"title")),l=i.default.groupBy(s,"popupId"),d=e.dsRead.siteSegments.getSiteStructureId();return i.default.map(t,t=>{const a=l[t.id],s=!!a&&a[0].pageId===d,r=i.default.map(a,"pageId");if(s)return t.info=n.translate("Pages_Menu_Popup_Tooltip_Set_To_All"),t;const p=i.default.map(r,i.default.partial(i.default.get,o));return p.length>0&&(t.info=m(e,p)),t})})(e,o,a):o},h=(e,t,a)=>{let{editorAPI:i}=a;const n=s.default.isOpen("se_addPanelOrganizing")?o.default.CATEGORIES_ID.BOX_SLIDE_SHOW:o.default.CATEGORIES_ID.POPUP;i.store.dispatch(l.default.editorPlugins.userPreferences.actions.setSessionUserPreferences("addPanelCategoryIdOnClose",n)),i.store.dispatch(l.default.editorPlugins.leftBar.actions.openAddPanel()),i.bi.event(p.events.pages.pagesPanel.add_page_selection_click,{category:n,source:"lightbox"})};return c(f,(e,t)=>{let{editorAPI:a}=e,{popups:i,pagesData:n,isDesktop:s}=t;return{pages:_(a,i,n,s),renameEnabled:s,titleAdd:d.default.POPUPS.titleAdd,biCategory:d.default.POPUPS.biCategory}},(e,t)=>{let{onHelp:a,biPanelName:n,isDesktop:s,onItemAdded:o,onRename:l}=t;const u=e(((e,t,a)=>(i,n,s)=>{let{editorAPI:o}=s;return r.default.popup(o,e,t,a)})(s,o,l));return{onClickAdd:s?()=>e(h):null,navigateTo:t=>e(((e,t)=>(a,i,n)=>{let{editorAPI:s}=n;s.dsRead.pages.getFocusedPageId()!==e&&(s.pages.navigateTo(e,(function(){s.selection.selectComponentByCompRef(s.pages.popupPages.getPopupContainer(e))})),s.bi.event(p.events.pages.navigate_to_page,{page_id:e,panel_name:t,category:d.default.POPUPS.biCategory}))})(t,n)),onHelp:s?i.default.partial(a,d.default.POPUPS.helpId):i.default.partial(a,d.default.POPUPS.mobileHelpId),biEvent(){e(function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return(e,a,i)=>{let{editorAPI:n}=i;return n.bi.event(...t)}}(...arguments))},popupsActions:i.default.reject(u,"isDisabled")}},(e,t,a)=>{const n=i.default.assign({},e,{pages:i.default.map(e.pages,e=>i.default.assign({},e,{actions:t.popupsActions}))}),s=i.default.omit(t,["popupsActions"]);return i.default.assign({},a,n,s)})(g(u.default))}.apply(t,i))||(e.exports=n)},1881:function(e,t,a){var i,n;i=[a,t,a(0),a(1),a(2),a(60),a(115),a(193),a(12),a(194),a(64)],void 0===(n=function(e,t,a,i,n,s,o,l,d,r,p){"use strict";i=a.__importDefault(i),n=a.__importStar(n),s=a.__importDefault(s),o=a.__importDefault(o),l=a.__importDefault(l),d=a.__importStar(d),r=a.__importDefault(r),p=a.__importStar(p);const{connect:u,renderWhenMutated:c,STORES:{EDITOR_API:g}}=n.hoc,{dataRouterPagesMenuItemPrefixUtils:f,addPageRouterActionUtils:m}=n,_={},h={},P=(e,t,a,n,s,l,r,u)=>{const c=!e.developerMode.isEnabled()&&!p.isDataModeOn(e);if(!n||c&&h[t])return{title:null,onClick:null};const g=m.findAddPageAction(s);if(!g)return{title:null,onClick:null};const _=o.default.getOnClickApplicationNotification(e,a,g.event,{prefix:l,routerRef:r});return{title:g.title,onClick:t=>{e.bi.event(d.events.pages.pagesPanel.add_page_selection_click,{category:"dynamic page",source:u||"router"}),f.isValidPrefix(l)?e.dsActions.platform.notifyApplication(a,{eventType:g.event,eventPayload:i.default.assign({},f.getAddPageEventPayloadByPrefix(l),{origin:"pagesPanel"})}):_(t)}}},y=i.default.once(e=>{_[e.dsRead.platform.editorApps.SANTA_MEMBERS.appDefId]="membersAction",_[e.dsRead.platform.editorApps.DYNAMIC_PAGES.appDefId]="routerPageType",_[e.dsRead.platform.editorApps.DATA_BINDING.appDefId]="dynamicPageType"}),b=i.default.once(e=>{h[e.dsRead.platform.editorApps.DYNAMIC_PAGES.appDefId]=!0,h[e.dsRead.platform.editorApps.DATA_BINDING.appDefId]=!0}),I=(e,t,a,n,s,o,d)=>{const r=l.default.dynamicPages(e,t,a,n,s,o);return i.default.map(r,e=>{let{id:t,title:a,permissionSymbol:i}=e;return{id:t,title:a,permissionSymbol:i,typeSymbol:_[d]}})},S=(e,t,a)=>(n,o,l)=>{let{editorAPI:d}=l;const r=d.dsRead.pages.getReference(t[0].id),p=d.dsRead.routers.getRouterRef.byPage(r),{appDefinitionId:u}=d.dsRead.routers.get.byRef(p);return u===d.dsRead.platform.editorApps.DATA_BINDING.appDefId?e?i.default.partial(a,s.default.DYNAMIC_PAGES.helpId):i.default.partial(a,s.default.DYNAMIC_PAGES.mobileHelpId):u===d.dsRead.platform.editorApps.SANTA_MEMBERS.appDefId?i.default.partial(a,s.default.MEMBERS_PAGES.helpId):e?i.default.partial(a,s.default.ROUTER_PAGES.helpId):i.default.partial(a,s.default.ROUTER_PAGES.mobileHelpId)},A=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return(e,a,i)=>{let{editorAPI:n}=i;return n.bi.event(...t)}},T=(e,t,a,n)=>(s,l,d)=>{let{editorAPI:r}=d;return y(r),b(r),i.default.reduce(e,(e,s)=>{const l=s.id,d=r.dsRead.pages.getReference(l),p=r.dsRead.routers.getRouterRef.byPage(d),{appDefinitionId:u}=r.dsRead.routers.get.byRef(p),{applicationId:c}=r.dsRead.platform.getAppDataByAppDefId(u),g=o.default.dynamicPage(r,l,c,p,t,a,n);return i.default.assign({},e,{[l]:g})},{})},C=(e,t,a,n,s)=>(o,l,d)=>{let{editorAPI:r}=d;const p=r.dsRead.pages.getReference(e[0].id),u=r.dsRead.routers.getRouterRef.byPage(p),{appDefinitionId:c}=r.dsRead.routers.get.byRef(u),g=i.default.get(r.dsRead.platform.getAppDataByAppDefId(c),"applicationId");return P(r,c,g,t,a,n,u,s).onClick};return u(g,(e,t)=>{let{editorAPI:a}=e,{router:{title:n,pagesData:o,prefix:l,biCategory:d,actions:r},onShowSettings:p,isDesktop:u}=t;y(a),b(a);const c=a.dsRead.pages.getReference(o[0].id),g=a.dsRead.routers.getRouterRef.byPage(c),{appDefinitionId:f}=a.dsRead.routers.get.byRef(g),m=i.default.get(a.dsRead.platform.getAppDataByAppDefId(f),"applicationId"),_=P(a,f,m,u,r,l,g,d);return{title:n,pages:I(a,o,m,g,p,u,f),renameEnabled:u,titleAdd:_.title,biCategory:d||s.default.ROUTER_PAGES.biCategory}},(e,t)=>{let{router:{pagesData:a,biCategory:i,actions:n,prefix:o},onShowSettings:l,isDesktop:r,onHelp:p,biPanelName:u}=t;return{onHelp:e(S(r,a,p)),navigateTo:e((c=u,(e,t,a)=>{let{editorAPI:i}=a;return e=>{i.dsRead.pages.getFocusedPageId()!==e&&(i.pages.navigateTo(e),i.bi.event(d.events.pages.navigate_to_page,{page_id:e,panel_name:c,category:s.default.ROUTER_PAGES.biCategory}))}})),biEvent:function(){return e(A(...arguments))},dynamicPagesActions:e(T(a,l,r,i)),onClickAdd:e(C(a,r,n,o,i))};var c},(e,t,a)=>{const n=i.default.assign({},e,{pages:i.default.map(e.pages,e=>i.default.assign({},e,{actions:t.dynamicPagesActions[e.id]}))}),s=i.default.omit(t,["dynamicPagesActions"]);return i.default.assign({},a,n,s)})(c(r.default))}.apply(t,i))||(e.exports=n)},1882:function(e,t,a){var i,n;i=[a,t,a(0),a(1),a(26),a(2),a(115),a(12),a(194)],void 0===(n=function(e,t,a,i,n,s,o,l,d){"use strict";i=a.__importDefault(i),n=a.__importStar(n),s=a.__importStar(s),o=a.__importDefault(o),l=a.__importStar(l),d=a.__importDefault(d);const{connect:r,renderWhenMutated:p,STORES:{EDITOR_API:u}}=s.hoc,{addPageRouterActionUtils:c}=s,g=(e,t,a,n,s,l,d)=>i.default.map(t,t=>{let{id:r,title:p,permissionSymbol:u,pageDescriptor:c}=t;return{id:r,title:p,permissionSymbol:u,typeSymbol:i.default.get(c,"icon","appsNewLight"),info:i.default.get(c,"tooltip"),actions:o.default.applicationPage(e,r,s,n,l,a,d)}}),f=(e,t,a)=>n.utils.getFullApplicationUrl(a,e,t,a.applicationId),m=(e,t,a,i,n,s)=>{if(!i)return{title:null,onClick:null};const d=c.findAddPageAction(n);if(!d)return{title:null,onClick:null};const r=o.default.getOnClickApplicationNotification(e,a,d.event);return{title:d.title,onClick:t=>{e.bi.event(l.events.pages.pagesPanel.add_page_selection_click,{category:"application page",source:s||"router"}),r(t)}}},_=(e,t)=>(a,i,n)=>{let{editorAPI:s}=n;return a=>{s.dsRead.pages.getFocusedPageId()!==a&&(s.pages.navigateTo(a),s.bi.event(l.events.pages.navigate_to_page,{page_id:a,panel_name:e,category:t}))}},h=(e,t,a,i)=>(n,s,o)=>{let{editorAPI:l}=o;const d=l.platform.getAppDataByAppDefId(e);return m(l,0,d.applicationId,t,a,i).onClick},P=(e,t,a,n,s,l)=>(d,r,p)=>{let{editorAPI:u}=p;return i.default.fromPairs(i.default.map(e,e=>{let{id:i}=e;return[i,o.default.applicationPage(u,i,n,a,s,t,l)]}))};return r(u,(e,t)=>{let{editorAPI:a}=e,{appData:{id:i,title:n,pagesData:s,biCategory:o,emptyStateUrl:l,actions:d},onShowSettings:r,isDesktop:p,onRename:u}=t;const c=i,_=a.platform.getAppDataByAppDefId(c),h=m(a,0,_.applicationId,p,d,o);return{title:n,emptyStateUrl:l?f(l,c,_):null,pages:g(a,s,r,p,c,o,u),renameEnabled:p,biCategory:o,appDefinitionId:c,titleAdd:h.title}},(e,t)=>{let{appData:{id:a,pagesData:n,helpId:s,biCategory:o,actions:l},onShowSettings:d,isDesktop:r,onHelp:p,biPanelName:u,onRename:c}=t;return{onHelp:i.default.partial(p,s),navigateTo:e(_(u,o)),biEvent(){e(function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return(e,a,i)=>{let{editorAPI:n}=i;return n.bi.event(...t)}}(...arguments))},onClickAdd:e(h(a,r,l,o)),extendedPagesActions:e(P(n,d,r,a,o,c))}})(p(d.default))}.apply(t,i))||(e.exports=n)},1883:function(e,t,a){var i,n;i=[a,t,a(0),a(3),a(4),a(18),a(1),a(2),a(13),a(6),a(1884),a(1885),a(1888),a(12),a(14),a(9),a(8),a(1889),a(10),a(1890),a(2)],void 0===(n=function(e,t,a,i,n,s,o,l,d,r,p,u,c,g,f,m,_,h,P,y,b){"use strict";function I(){return i.default.createElement("div",{className:"menu-view-pp"},i.default.createElement(_.default.PanelHeader,{onClose:this.props.onClose,onHelp:this.props.onHelpHeader,className:"header light"},i.default.createElement("span",{className:"title-menu-view-pp"},this.props.title)),this.shouldShowTooManyPagesBanner()?i.default.createElement(y.default,{key:"too-many-pages-comp",openPanel:this.props.openPanel,sendBi:this.props.biEvent,notifyDataBindingAppTooManyPages:this.props.notifyDataBindingAppTooManyPages,staticPagesCount:this.props.staticPagesCount}):null,i.default.createElement("div",{onContextMenu:this.onContextMenu,className:b.cx({"pages-tree-container":!0,"disable-drag":!this.props.isDraggable,"with-footer":this.props.showAddOptions,"with-too-many-pages-banner":this.shouldShowTooManyPagesBanner()})},i.default.createElement(m.treeDocker,{onNodeMoved:this.handleMovePage,treeClass:"pages-tree",treeNodeClass:"pages-tree-node",treeNodeLabelClass:"menu-item-pp",draggedClass:"rotated",previewClass:"shadow",isDragAvailable:this.props.isDraggable,scrollTopGetter:this.getScrollTop,collapsedClass:"tree-collapsed",className:b.cx({"pages-tree-docker":!0,"pages-tree-shrinked":this.isShrink()})},i.default.createElement(_.default.CustomScroll,{ref:"customScroll"},i.default.createElement(m.treeView,{nodeContent:h.default,structureType:"tree",isDragAvailable:this.props.isDraggable,isMobile:this.props.isMobile,dataSource:this.props.menuItems,collapsedSelector:"isCollapsed",onNodeToggled:this.onMenuItemToggled,onNodeContextMenu:this.onMenuItemContextMenu,isRoot:!0,onChange:this.handleSelectedItem,initialActions:this.props.initialActions,equalityComparer:this.equalityComparer,value:this.state.selectedMenuItemId,getMenuItemActions:this.props.getMenuItemActions,renameEnabled:this.props.renameEnabled,biEvent:this.props.biEvent,biCategory:this.props.biCategory,renamedMenuItemId:this.props.renamedItemId,className:"pages-tree"})))),this.props.showAddOptions?i.default.createElement("footer",{key:"add-container"},i.default.createElement("div",{className:"add-options-container"},i.default.createElement("div",{onMouseEnter:this.handleMouseEnterAddPage,onMouseLeave:this.handleMouseLeaveAddPageButton,className:"add-menu-page-button-container"},i.default.createElement(_.default.Tooltip,{arrowAlignment:"top",isOpen:this.isTooManyPagesTooltipOpen(),openOnMouseEnter:!1,content:this.getAddPageTooltipContent(),key:"tooltip-add-page"},i.default.createElement(_.default.Button,{onClick:this.addPage,disabled:this.isAddButtonDisabled(),automationId:"add-menu-page-button",className:"add-menu-page-button"},i.default.createElement(P.symbol,{name:"addPage"}),i.default.createElement("span",{className:"add-title"},this.props.titleAdd)))),i.default.createElement("div",{onMouseEnter:this.handleMouseEnterAddLink,onMouseLeave:this.handleMouseLeaveAddLinkButton,className:"add-menu-link-button-container"},i.default.createElement(_.default.Tooltip,{arrowAlignment:"top",isOpen:this.state.isAddLinkHovered,content:this.getAddLinkTooltipContent(),key:"tooltip-add-link"},i.default.createElement(_.default.Button,{onClick:this.props.onClickAddLink,automationId:"add-menu-link-button"},i.default.createElement(P.symbol,{name:"addLink"})))),i.default.createElement("div",{onMouseEnter:this.handleMouseEnterAddFolder,onMouseLeave:this.handleMouseLeaveAddFolderButton,className:"add-menu-folder-button-container"},i.default.createElement(_.default.Tooltip,{arrowAlignment:"top",isOpen:this.state.isAddFolderHovered,content:this.getAddFolderTooltipContent(),key:"tooltip-add-folder"},i.default.createElement(_.default.Button,{onClick:this.props.onClickAddFolder,automationId:"add-menu-folder-button"},i.default.createElement(P.symbol,{name:"addFolder"})))))):null)}i=a.__importDefault(i),n=a.__importDefault(n),s=a.__importDefault(s),o=a.__importDefault(o),l=a.__importStar(l),d=a.__importDefault(d),r=a.__importDefault(r),p=a.__importDefault(p),u=a.__importDefault(u),c=a.__importDefault(c),g=a.__importStar(g),f=a.__importStar(f),m=a.__importStar(m),_=a.__importDefault(_),h=a.__importDefault(h),P=a.__importStar(P),y=a.__importDefault(y);const{connect:S,renderWhenMutated:A,STORES:{EDITOR_API:T}}=l.hoc,{keyboardShortcuts:C}=l,{WARNING_NUMBER_OF_STATIC_PAGES:D,MAX_STATIC_PAGES_ALLOWED:M}=r.default.STATIC_PAGES;class E extends i.default.Component{constructor(e){super(e),this.state={selectedMenuItemId:this.props.selectedMenuItemId,isAddLinkHovered:!1,isAddFolderHovered:!1,isAddPageHovered:!1},this.scrollToSelectedNode=!1,this.componentWillReceiveProps=e=>{const t=e.renamedItemId||e.selectedMenuItemId;t&&this.state.selectedMenuItemId!==t&&(this.setState({selectedMenuItemId:t}),this.props.mainMenuPanelContext.setSelectedMenuItem(this.getMenuItemById(t)))},this.componentDidUpdate=()=>{this.doScrollToSelectedNode()},this.componentDidMount=()=>{this.scrollToSelectedNode=!0,this.doScrollToSelectedNode();const e=C.isEnabled()?C.getContext():C.CONTEXTS.EDITOR;this.lastKeyboardContext=e,C.setContext(C.CONTEXTS.PAGES_MENU_PANEL),this.props.mainMenuPanelContext.setOpened({selectedMenuItem:this.getMenuItemById(this.state.selectedMenuItemId)}),this.props.biEvent(g.events.pages.pagesPanel.site_menu_opened,{pages_count:this.props.staticPagesCount})},this.componentWillUnmount=()=>{this.lastKeyboardContext&&C.setContext(this.lastKeyboardContext),this.props.mainMenuPanelContext.setClosed()},this.isShrink=()=>function e(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return o.default.reduce(t,(t,a)=>t+1+(a.isCollapsed?0:e(a.items)),0)}(this.props.menuItems)>17,this.getScrollTop=()=>this.refs.customScroll.getScrollTop(),this.handleMovePage=e=>{const t={items:this.props.menuItems},a=e.from.findIn(t,"items"),i=a.id;if(!i)return;const n=e.to.parent().findIn(t,"items").id||null,s=e.to.findIn(t,"items"),o=s?s.position:e.to.atRight();n&&p.default.setMenuItemCollapsed(n,!1),this.props.onMoveMenuItem(i,n,o,()=>{n&&(this.scrollToSelectedNode=!0),this.handleSelectedItem(a)}),this.props.biEvent(g.events.topbar.pages.top_bar_PAGES_menu_drag,{source:this.props.biCategory}),n&&1===e.from.length()?this.props.biEvent(g.events.topbar.pages.top_bar_PAGES_menu_sub_page_created,{origin:"drag",source:this.props.biCategory}):!n&&e.from.length()>1&&this.props.biEvent(g.events.topbar.pages.top_bar_PAGES_menu_user_reverted_to_main_page,{origin:"drag",source:this.props.biCategory})},this.onMenuItemToggled=(e,t)=>{const a=e.props.dataSource.id;this.props.setInPrefIscollapsedMenuItems(a,t)},this.onMenuItemContextMenu=(e,t)=>{this.props.isMobile||(e.preventDefault(),e.stopPropagation(),this.handleSelectedItem(t),this.props.openContextMenu({editorPositionX:e.clientX,editorPositionY:e.clientY,origin:"pagesMenuItem"}))},this.onContextMenu=e=>{this.props.isMobile||(e.preventDefault(),e.stopPropagation(),this.props.openContextMenu({editorPositionX:e.clientX,editorPositionY:e.clientY,origin:"pagesMenu"}))},this.handleSelectedItem=e=>{e.type.isDropdown||e.type.isLink?this.props.onSelectNonPageItem():e.type.isPage&&this.props.onSelectPageItem(e.pageData.id),this.setState({selectedMenuItemId:e.id}),this.props.mainMenuPanelContext.setSelectedMenuItem(e),this.props.navigateCallback(e)},this.equalityComparer=(e,t)=>e.id===t,this.doScrollToSelectedNode=()=>{let e,t,a=NaN;if(!this.scrollToSelectedNode)return;this.scrollToSelectedNode=!1;const i=s.default.findDOMNode(this),n=i.querySelector(".pages-tree-container"),o=i.querySelector(".menu-item-pp.selected");o&&(e=n.getBoundingClientRect(),t=o.getBoundingClientRect(),t.top<e.top?a=this.getScrollTop()+(t.top-e.top):t.bottom>e.bottom&&(a=this.getScrollTop()+(t.bottom-e.bottom)),isNaN(a)||this.refs.customScroll.updateScrollPosition(Math.max(0,a)))},this.clearTimeout=()=>this.props.timeoutHandler.clearTimeout(this.tooltipTimeout),this.getAddLinkTooltipContent=()=>i.default.createElement(c.default,{title:"NewPages_Panel_Add_Link_Title",description:"NewPages_Panel_Add_Link_Text",onLearnMore:()=>{this.props.onHelp("79f9b88c-f080-4acc-8195-d62d34583dc6"),this.clearTimeout(),this.setState({isAddLinkHovered:!1})},onMouseEnter:this.handleMouseEnterAddLink,onMouseLeave:()=>{this.clearTimeout(),this.setState({isAddLinkHovered:!1})}}),this.getAddFolderTooltipContent=()=>i.default.createElement(c.default,{title:"NewPages_Panel_Add_Folder_Title",description:"NewPages_Panel_Add_Folder_Text",onLearnMore:()=>{this.props.onHelp("c29d5e56-186e-47c6-903a-7ee7908fc078"),this.clearTimeout(),this.setState({isAddFolderHovered:!1})},onMouseEnter:this.handleMouseEnterAddFolder,onMouseLeave:()=>{this.clearTimeout(),this.setState({isAddFolderHovered:!1})}}),this.getAddPageTooltipContent=()=>{const e=d.default.isOpen("se_tooManyPagesLimitation")&&!this.props.isEditorLoadedWithMoreThanMaxStaticPages,t={title:"Pages_Menu_Add_Button_Disabled_Heavy_Sites_Tooltip_Title",description:"Pages_Menu_Add_Button_Disabled_Heavy_Sites_Tooltip_Text",learnMoreText:"Pages_Menu_Add_Button_Disabled_Heavy_Sites_Tooltip_Link",onLearnMore:()=>{this.props.openPanel("wixData.dynamicPagesStartingPanel",{notifyDataBindingAppTooManyPages:this.props.notifyDataBindingAppTooManyPages,staticPagesCount:this.props.staticPagesCount,origin:"pages_panel_add_tooltip_#".concat(this.props.staticPagesCount)},!0),this.clearTimeout(),this.setState({isAddPageHovered:!1})}};return i.default.createElement(c.default,Object.assign({title:"Add_Page_TooManyPages_Tooltip_Title",description:"Add_Page_TooManyPages_Tooltip_Text",onLearnMore:()=>{this.props.onHelp("244dfae4-bd5c-4672-85ba-28938f4cb07f"),this.clearTimeout(),this.setState({isAddPageHovered:!1})},onMouseEnter:this.handleMouseEnterAddPage,onMouseLeave:()=>{this.clearTimeout(),this.setState({isAddPageHovered:!1})}},e?t:{}))},this.handleMouseEnterAddLink=()=>{this.clearTimeout(),this.setState({isAddLinkHovered:!0,isAddFolderHovered:!1,isAddPageHovered:!1})},this.handleMouseLeaveAddLinkButton=()=>{this.clearTimeout(),this.tooltipTimeout=this.props.timeoutHandler.setTimeout(()=>{this.setState({isAddLinkHovered:!1})},700)},this.handleMouseEnterAddFolder=()=>{this.clearTimeout(),this.setState({isAddFolderHovered:!0,isAddLinkHovered:!1,isAddPageHovered:!1})},this.handleMouseLeaveAddFolderButton=()=>{this.clearTimeout(),this.tooltipTimeout=this.props.timeoutHandler.setTimeout(()=>{this.setState({isAddFolderHovered:!1})},700)},this.handleMouseEnterAddPage=()=>{this.clearTimeout(),this.setState({isAddPageHovered:!0,isAddLinkHovered:!1,isAddFolderHovered:!1}),this.isAddButtonDisabled()&&this.props.biEvent(g.events.pages.cant_add_page_tooltip_shown,{origin:"pages_panel"})},this.handleMouseLeaveAddPageButton=()=>{this.clearTimeout(),this.tooltipTimeout=this.props.timeoutHandler.setTimeout(()=>{this.setState({isAddPageHovered:!1})},700)},this.shouldShowTooManyPagesBanner=()=>d.default.isOpen("se_tooManyPagesLimitation")&&!this.props.isEditorLoadedWithMoreThanMaxStaticPages&&this.props.staticPagesCount>=D,this.isAddButtonDisabled=()=>d.default.isOpen("se_tooManyPagesLimitation")&&!this.props.isEditorLoadedWithMoreThanMaxStaticPages&&this.props.staticPagesCount>=M,this.siteHasTooManyPages=()=>this.props.menuItems.length>=50,this.isTooManyPagesTooltipOpen=()=>d.default.isOpen("se_tooManyPagesLimitation")?this.props.staticPagesCount>=M&&!this.props.isEditorLoadedWithMoreThanMaxStaticPages&&this.state.isAddPageHovered:this.siteHasTooManyPages()&&this.state.isAddPageHovered,this.addPage=()=>{if(this.props.onClickAddPage(),this.siteHasTooManyPages()&&!d.default.isOpen("se_tooManyPagesLimitation")){if(this.props.getTooManyPagesFrequencyCount%4==0){const e=()=>{this.props.onHelp(f.NOTIFICATIONS.TOO_MANY_PAGES)};this.props.showUserActionNotification({message:"Notifications_Too_Many_Pages_Text",title:"Notifications_Too_Many_Pages_Text",type:"warning",link:{caption:"Notifications_Learn_More_Link",onNotificationLinkClick:e}})}this.props.setTooManyPagesFrequencyCount(this.props.getTooManyPagesFrequencyCount+1)}}}getMenuItemById(e){return this.props.findMenuItemById(this.props.menuItems,e)}render(){return I.call(this)}}E.displayName="MenuView",E.propTypes={selectedMenuItemId:n.default.string,setInPrefIscollapsedMenuItems:n.default.func.isRequired,navigateCallback:n.default.func.isRequired,isDraggable:n.default.bool.isRequired,isMobile:n.default.bool.isRequired,onMoveMenuItem:n.default.func.isRequired,menuItems:n.default.arrayOf(n.default.object).isRequired,mainMenuPanelContext:n.default.object.isRequired,findMenuItemById:n.default.func.isRequired,openPanel:n.default.func.isRequired,staticPagesCount:n.default.number.isRequired,title:n.default.string.isRequired,onClose:n.default.func.isRequired,onHelp:n.default.func.isRequired,onHelpHeader:n.default.func.isRequired,openContextMenu:n.default.func.isRequired,isEditorLoadedWithMoreThanMaxStaticPages:n.default.bool.isRequired,notifyDataBindingAppTooManyPages:n.default.func.isRequired,getMenuItemActions:n.default.func.isRequired,renamedItemId:n.default.string,initialActions:n.default.oneOfType([n.default.array,n.default.object]),renameEnabled:n.default.bool.isRequired,showAddOptions:n.default.bool.isRequired,onClickAddPage:n.default.func.isRequired,onClickAddLink:n.default.func.isRequired,onClickAddFolder:n.default.func.isRequired,titleAdd:n.default.string.isRequired,onSelectNonPageItem:n.default.func.isRequired,onSelectPageItem:n.default.func.isRequired,biEvent:n.default.func.isRequired,biCategory:n.default.string.isRequired,showUserActionNotification:n.default.func,timeoutHandler:n.default.object,setTooManyPagesFrequencyCount:n.default.func,getTooManyPagesFrequencyCount:n.default.number},E.defaultProps={timeoutHandler:window};const v=S(T,u.default.mapStateToProps,u.default.mapDispatchToProps)(A(E));return v.pure=E,v}.apply(t,i))||(e.exports=n)},1884:function(e,t,a){var i,n;i=[a,t,a(0),a(1)],void 0===(n=function(e,t,a,i){"use strict";i=a.__importDefault(i);const n={};function s(e,t){n[e]=Boolean(t)}function o(e,t){return n.hasOwnProperty(e)?n[e]:t||!1}return{setMenuItemCollapsed:s,reflectStateToMenuTree:function e(t){i.default.forEach(t,(function(t){t.isCollapsed=o(t.id),t.items.length>0?e(t.items):t.isCollapsed&&(t.isCollapsed=!1,s(t.id,!1))}))},reflectStateToMenuItem:function(e,t){return e.isCollapsed=o(e.id,t),i.default.get(e,"items.length",0)<=0&&e.isCollapsed&&(e.isCollapsed=!1,s(e.id,!1)),e}}}.apply(t,i))||(e.exports=n)},1885:function(e,t,a){var i,n;i=[a,t,a(0),a(1),a(1886),a(1887),a(467),a(60),a(12),a(7),a(6)],void 0===(n=function(e,t,a,i,n,s,o,l,d,r,p){"use strict";i=a.__importDefault(i),n=a.__importDefault(n),s=a.__importDefault(s),o=a.__importDefault(o),l=a.__importDefault(l),d=a.__importStar(d),r=a.__importDefault(r),p=a.__importDefault(p);const u=(e,t,a,i,n)=>()=>{e.menus.addPage(a,i,n),e.bi.event(d.events.pages.pagesPanel.add_page_selection_click,{category:"page",source:t})},c=(e,t,a,i,n)=>()=>{e.menus.addLink(a,i,n),e.bi.event(d.events.pages.pagesPanel.add_page_selection_click,{category:"link",source:t})},g=(e,t,a,i,n)=>()=>{e.menus.addFolder(a,i,n),e.bi.event(d.events.pages.pagesPanel.add_page_selection_click,{category:"dropdown menu",source:t})},f=e=>r.default.editorPlugins.userPreferences.selectors.getSessionUserPreferences("collapsedMenuItems")(e.store.getState()),m=(e,t,a)=>{let{editorAPI:i}=a;return i};return{mapStateToProps:(e,t)=>{let{editorAPI:a}=e,{isDesktop:i,menu:s}=t;const o=a.dsRead.platform.editorApps.SANTA_MEMBERS.appDefId,d=n.default.getMenuItemsWithInitialCollaptionData(s.menuItems,f(a)),u=n.default.getMenuItemsWithsymbolIfApplicable(d,s.appDefId,o),c=l.default.MENUS.getBiCategory(s.id);return{staticPagesCount:a.pages.getStaticPagesCount(),title:s.title,menuItems:u,isDraggable:i,renameEnabled:i,isMobile:!i,initialActions:!i&&s.appDefId?null:[],showAddOptions:i&&s.appDefId!==a.dsRead.platform.editorApps.SANTA_MEMBERS.appDefId,biCategory:c,titleAdd:l.default.MENUS.titleAdd,getTooManyPagesFrequencyCount:r.default.editorPlugins.userPreferences.selectors.getSessionUserPreferences(p.default.USER_PREFS.TOO_MANY_PAGES.FREQUENCY_COUNT)(a.store.getState())||0}},mapDispatchToProps:(e,t)=>{let{onShowSettings:a,onItemAdded:_,onRename:h,isDesktop:P,onHelp:y,menu:b,selectedMenuItemId:I,biPanelName:S}=t;const A=e(m),T=A.store.getState(),C=A.dsRead.menu.getById(b.id,!0),D=A.dsRead.platform.editorApps.SANTA_MEMBERS.appDefId,M=n.default.getMenuItemsWithInitialCollaptionData(b.menuItems,f(A)),E=l.default.MENUS.getBiCategory(b.id),v=r.default.editorPlugins.contextMenu.actions;return{isEditorLoadedWithMoreThanMaxStaticPages:!!r.default.pages.selectors.getIsEditorLoadedWithMoreThanMaxStaticPages(T),biEvent:A.bi.event,openPanel:A.panelManager.openPanel,onMoveMenuItem:(e,t,a,i)=>A.menus.moveMenuItem(C,e,t,a,!0,i),navigateCallback:e=>{if(e.type.isPage)((e,t,a,i)=>{e.dsRead.pages.getFocusedPageId()!==t&&(e.pages.navigateTo(t),e.bi.event(d.events.pages.navigate_to_page,{page_id:t,category:a,panel_name:i}))})(A,e.pageData.id,E,S);else if(e.type.isLink&&"AnchorLink"===e.type.raw){const t=e.link,a=t.pageId&&t.pageId.replace("#","");((e,t,a,i,n)=>{(e.dsRead.pages.getFocusedPageId()!==t||n)&&(e.pages.navigateToAndScroll(t,n,e.applyPreviewScrollToEditorScroll),e.bi.event(d.events.pages.navigate_to_page,{page_id:t,category:a,panel_name:i}))})(A,a,E,S,t.anchorDataId)}else e.type.isLink&&"DynamicPageLink"===e.type.raw&&((e,t,a,n,s)=>{const o=i.default.assign(e.dsRead.data.createItem("DynamicPageLink"),{innerRoute:a||"",routerId:t});e.pages.navigateTo(o),e.bi.event(d.events.pages.navigate_to_page,{category:n,panel_name:s})})(A,e.link.routerId,e.link.innerRoute,E,S)},findMenuItemById:A.menus.findMenuItemById,mainMenuPanelContext:A.mainMenu.panelContext,titleAdd:l.default.MENUS.titleAdd,onHelpHeader:i.default.partial(y,o.default.getHelpIdForMenu(b.id,b.appDefId,D,P)),onHelp:y,onClickAddPage:u(A,E,b.id,I,_),onClickAddLink:c(A,E,b.id,I,_),onClickAddFolder:g(A,E,b.id,I,_),openContextMenu:e=>A.store.dispatch(v.openContextMenu(e)),setInPrefIscollapsedMenuItems:(e,t)=>((e,t,a)=>{let i=f(e);i||(e.store.dispatch(r.default.editorPlugins.userPreferences.actions.setSessionUserPreferences("collapsedMenuItems",{})),i={}),i=Object.assign({},i,{[t]:Boolean(a)}),e.store.dispatch(r.default.editorPlugins.userPreferences.actions.setSessionUserPreferences("collapsedMenuItems",i))})(A,e,t),notifyDataBindingAppTooManyPages:A.pages.notifyDataBindingAppTooManyPages,getMenuItemActions:e=>s.default.getActionsForMenuItem(A,C,e,P,a,_,h,M,b.multiPageMenu,E),setTooManyPagesFrequencyCount:e=>A.store.dispatch(r.default.editorPlugins.userPreferences.actions.setSessionUserPreferences(p.default.USER_PREFS.TOO_MANY_PAGES.FREQUENCY_COUNT,e)),showUserActionNotification:function(){return e(r.default.editorPlugins.notifications.actions.showUserActionNotification(...arguments))}}}}}.apply(t,i))||(e.exports=n)},1886:function(e,t,a){var i,n;i=[a,t,a(0),a(1)],void 0===(n=function(e,t,a,i){"use strict";i=a.__importDefault(i);return{getMenuItemsWithInitialCollaptionData:(e,t)=>(t&&i.default.forEach(e,e=>{e.isCollapsed=t[e.id]}),e),getMenuItemsWithsymbolIfApplicable:(e,t,a)=>t!==a?e:i.default.map(e,e=>i.default.defaults({symbol:"membersAction",items:i.default.map(e.items,e=>i.default.defaults({symbol:"membersAction"},e))},e))}}.apply(t,i))||(e.exports=n)},1887:function(e,t,a){var i,n;i=[a,t,a(0),a(1),a(6),a(2),a(12),a(26),a(64),a(115),a(7),a(13)],void 0===(n=function(e,t,a,i,n,s,o,l,d,r,p,u){"use strict";i=a.__importDefault(i),n=a.__importDefault(n),s=a.__importStar(s),o=a.__importStar(o),l=a.__importStar(l),d=a.__importStar(d),r=a.__importDefault(r),p=a.__importDefault(p),u=a.__importDefault(u);const c=(e,t,a,i)=>{e.bi.event(o.events.pages.pagesPanel.quick_actions_menu_select,{page_id:t,source:i,category:a})};function g(e,t,a,i){i&&a.label!==i&&(e.menu.updateItem(t,a.id,{label:i}),e.history.debouncedAdd("Rename Menu Item"))}function f(e,t,a,n,s){const l=n[i.default.findIndex(n,{id:a.id})-1],d=l.items.length;!function(e,t,a,n,s){i.default.forEachRight(a.items,(function(a){e.menus.moveMenuItem(t,a.id,n,s,!1)}))}(e,t,a,l.id,d),e.menus.moveMenuItem(t,a.id,l.id,d,!1),e.bi.event(o.events.topbar.pages.top_bar_PAGES_menu_sub_page_created,{origin:"quick actions",source:s}),e.history.add("subpaging a page")}const m=(e,t)=>{const a=i.default.get(t,"pageData.id");return a&&e.pages.isCustomErrorPage(a)},_=(e,t,a,i,n)=>{const s={};"boolean"==typeof i?s.hidePage=i:i=!a.isVisible,"boolean"==typeof n?s.mobileHidePage=n:n=!a.isVisibleMobile,a.pageData?e.pages.data.update(a.pageData.id,s):e.dsActions.menu.updateItem(t,a.id,{isVisible:!i,isVisibleMobile:!n}),e.history.add("hiding a page")},h=(e,t,a,n,o)=>{m(e,n)||(n.isVisible?a.push({title:s.translate("Pages_Actions_Page_Hide"),symbolName:"hideAction",onClick:()=>{_(e,t,n,!0);const a=i.default.get(n,"pageData.id");c(e,a,"hide",o)}}):a.push({title:s.translate("Pages_Actions_Page_Unhide"),symbolName:"unhideAction",onClick:()=>{_(e,t,n,!1);const a=i.default.get(n,"pageData.id");c(e,a,"show",o)}}))},P=(e,t,a,n,l,d)=>{m(e,n)||(!function(e){const t=0===e.position;return!e.parent&&!t}(n)?(e=>i.default.isObject(e.parent))(n)&&a.push({title:s.translate("Pages_Actions_Page_MoveUp"),symbolName:"unsubpageAction",onClick:()=>{((e,t,a,i)=>{const n=a.parent.parent&&a.parent.parent.id,s=a.parent.position+1;e.menus.moveMenuItem(t,a.id,n,s,!1),e.bi.event(o.events.topbar.pages.top_bar_PAGES_menu_user_reverted_to_main_page,{origin:"quick actions",source:i}),e.history.add("moving a page out of its parent")})(e,t,n,d);const a=i.default.get(n,"pageData.id");c(e,a,"mainpage",d)}}):a.push({title:s.translate("Pages_Actions_Page_Subpage"),symbolName:"subpageAction",onClick:()=>{f(e,t,n,l,d);const a=i.default.get(n,"pageData.id");c(e,a,"subpage",d)}}))},y=(e,t,a)=>{const i=s.multilingual.googleTranslateFactory.getTranslateMethodForMenuItem(e,p.default,a,e=>t.find(e=>e.isRename).onClick(a.id,e,"google translate"));i&&t.push({title:s.translate("Pages_Actions_Page_Translate"),symbolName:"googleTranslateMenuItem",onClick:i})},b=(e,t,a,n,o)=>{n.type.isPage&&(e=>e.developerMode.isEnabled()||d.isDataModeOn(e))(e)&&function(e,t){const a=t.pageData&&t.pageData.id;return!(!a||m(e,t))&&e.dsRead.routers.pages.isConnectablePage(a)}(e,n)&&a.push({title:s.translate("Platform_Page_Actions_Set_Dynamic_Page"),symbolName:"dynamicPageType",onClick:()=>{((e,t)=>{const a=t.pageData.id,i=e.dsRead.platform.getAppDataByAppDefId(e.dsRead.platform.editorApps.DATA_BINDING.appDefId);e.dsActions.platform.notifyApplication(i.applicationId,{eventType:"addDynamicPageClicked",eventPayload:{pageRef:e.dsRead.pages.getReference(a),origin:"quickActionsMenu"}})})(e,n);const t=i.default.get(n,"pageData.id");c(e,t,"Set Page Dynamic",o)}})},I=(e,t,a,i)=>{((e,t,a)=>t.type.isPage&&e.copyPaste.canCopyPage(t.pageData.id)&&a&&!m(e,t))(e,a,i)&&t.push({title:s.translate("Pages_Actions_Page_Copy"),symbolName:"copyPaste",onClick:()=>{s.fedopsLogger.interactionStarted(s.fedopsLogger.INTERACTIONS.COPY_PAGE),e.copyPaste.copyPage(a.pageData.id,{origin:"action_menu"}),s.fedopsLogger.interactionEnded(s.fedopsLogger.INTERACTIONS.COPY_PAGE)}})},S=(e,t,a,l,d,r,p,f,_,S)=>{const A=[];return((e,t,a,o,l,d)=>{const r=i.default.get(a,"pageData.id");a.type.isPage&&o&&!m(e,a)&&t.unshift({title:s.translate(n.default.PAGE_SETTINGS_TABS.TITLE_KEYS.BASIC_SEO),symbolName:"seoSettingsAction",onClick:()=>{l({tabType:n.default.PAGE_SETTINGS_TABS.SEO,pageId:r}),c(e,r,"tabSEO",d)},isSettings:!0},{title:s.translate(n.default.PAGE_SETTINGS_TABS.TITLE_KEYS.SOCIAL),symbolName:"seoSocialShareAction",onClick:()=>{l({tabType:n.default.PAGE_SETTINGS_TABS.SOCIAL_NEW,pageId:r}),c(e,r,"tabPageInfo",d)},isSettings:!0})})(e,A,a,l,d,S),((e,t,a,o,l,d)=>{if(a.type.isPage&&o){const o={title:s.translate("Pages_Actions_Page_Settings"),symbolName:"settingsAction",onClick:()=>{l({tabType:n.default.PAGE_SETTINGS_TABS.PAGE_INFO,pageId:a.pageData.id});const t=i.default.get(a,"pageData.id");c(e,t,"tabPageInfo",d)},isSettings:!0};t.unshift(o)}})(e,A,a,l,d,S),((e,t,a,i,n)=>{i.type.isLink&&a.push({title:s.translate("Pages_Actions_Link_Change"),symbolName:"linkAction",onClick:()=>{e.menus.updateLink(t,i,i.link),c(e,null,"change link",n)}})})(e,t.id,A,a,S),((e,t,a,n,o,l)=>{a.push({title:s.translate("Pages_Actions_Page_Rename"),symbolName:"renameAction",onClick:function(a,s){let d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"rename";n.pageData?e.menus.renamePage(n.pageData.id,n.pageData.title,s):g(e,t,n,s);const r=i.default.get(n,"pageData.id");c(e,r,d,l),o()},isRename:!0})})(e,t.id,A,a,p,S),u.default.isOpen("se_googleTranslate")&&y(e,A,a),I(e,A,a,l),((e,t,a,n,o,l)=>{if(e.menus.canDuplicate(n)&&!e.dsRead.language.isCurrentLanguageSecondary()&&!m(e,n)){const d=e.pages.getStaticPagesCount();a.push({title:s.translate("Pages_Actions_Page_Duplicate"),symbolName:"duplicateAction",disabled:!e.pages.canAddStaticPage(d),onClick:()=>{e.menus.duplicateMenuItem(t,n,o),e.pages.openDynamicPagesPopupIfNeeded(d+1);const a=i.default.get(n,"pageData.id");c(e,a,"duplicate",l)}})}})(e,t.id,A,a,r,S),b(e,t.id,A,a,S),h(e,t.id,A,a,S),P(e,t,A,a,f,S),((e,t,a,n,l,d)=>{!d&&n.type.isPage||a.push({title:s.translate("Pages_Actions_Page_Delete"),symbolName:"deleteAction",onClick:()=>{e.menus.removeMenuItem(t,n,d);const a=i.default.get(n,"pageData.id");c(e,a,"delete",l),n.type.isPage&&e.bi.event(o.events.pages.pagesPanel.static_page_deleted)}})})(e,t.id,A,a,S,_),A},A=(e,t,a,n,o,d,r)=>{const p=((e,t,a,n,s,o)=>{if(n){const n=e.dsRead.platform.getAppDataByApplicationId(t.appId).appDefinitionId,d=e.pages.dynamicPages.getActionByAppDefId(n,"pageSettings",[l.constants.pages.page_settings.pageInfo.type,l.constants.pages.page_settings.seo.type]);return i.default.map(d,t=>({title:t.title,symbolName:t.icon,onClick:()=>{const n=i.default.get(a,"pageData.id");s({pageId:n,routerId:i.default.get(a,"link.routerId"),innerRoute:i.default.get(a,"link.innerRoute"),tabType:t.type}),c(e,n,t.type,o)},isSettings:!0}))}return[]})(e,t,a,n,o,r);return((e,t,a,n,o,d)=>{const r=i.default.get(a,"pageData.id"),p=e.dsRead.platform.getAppDataByApplicationId(t.appId).appDefinitionId,u=e.pages.dynamicPages.getActionByAppDefId(p,"pageSettings",[l.constants.pages.page_settings.pageInfo.type])[0];u&&(a.isVisible?o.push({title:s.translate("Pages_Actions_Page_Hide"),symbolName:"hideAction",onClick:()=>{n({tabType:u.type,pageId:r,routerId:i.default.get(a,"link.routerId"),innerRoute:i.default.get(a,"link.innerRoute")}),c(e,r,"hide",d)}}):o.push({title:s.translate("Pages_Actions_Page_Unhide"),symbolName:"unhideAction",onClick:()=>{n({tabType:u.type,pageId:r,routerId:i.default.get(a,"link.routerId"),innerRoute:i.default.get(a,"link.innerRoute")}),c(e,r,"hide",d)}}),o.push({title:s.translate("Pages_Actions_Page_Rename"),symbolName:"renameAction",onClick:()=>{n({tabType:u.type,pageId:r,routerId:i.default.get(a,"link.routerId"),innerRoute:i.default.get(a,"link.innerRoute")}),c(e,r,"rename",d)}}))})(e,t,a,o,p,r),P(e,t,p,a,d,r),p};return{getActionsForMenuItem:(e,t,a,l,d,p,g,f,m,b)=>t.appId?l?A(e,t,a,l,d,f,b):null:l?i.default.get(a,["pageData","managingAppDefId"])?((e,t,a,n,s,o,l)=>{const d=a.pageData.id,p=a.pageData.managingAppDefId,c=r.default.applicationPage(e,d,p,!0,l,s,o),[g]=i.default.remove(c,{isRemove:!0});return u.default.isOpen("se_googleTranslate")&&y(e,c,a),h(e,t.id,c,a,l),P(e,t,c,a,n,l),g&&c.push(g),c})(e,t,a,f,d,g,b):S(e,t,a,l,d,p,g,f,m,b):((e,t,a,l,d)=>{const r={title:s.translate("Mobile_Pages_Actions_Page_Settings"),symbolName:"settingsAction",onClick:()=>{const t=i.default.get(a,"pageData.id");d({tabType:n.default.PAGE_SETTINGS_TABS.MOBILE_LAYOUT,pageId:t}),c(e,t,"mobileSettings",l)}},p={title:s.translate("MenuItem_Hide_Mobile_Action"),symbolName:"quickActionsHide",onClick:()=>{_(e,t,a,void 0,!0);const n=i.default.get(a,"pageData.id");e.bi.event(o.events.pages.pagesPanel.quick_action_hide_show_mobile_click,{page_id:n,source:l,category:"hide"})}},g={title:s.translate("MenuItem_Show_Mobile_Action"),symbolName:"quickActionsShow",onClick:()=>{_(e,t,a,void 0,!1);const n=i.default.get(a,"pageData.id");e.bi.event(o.events.pages.pagesPanel.quick_action_hide_show_mobile_click,{page_id:n,source:l,category:"show"})}},f=a.isVisibleMobile?p:g;return u.default.isOpen("bv_fixLandingPageData")?[r,f]:[f]})(e,t.id,a,b,d)}}.apply(t,i))||(e.exports=n)},1888:function(e,t,a){var i,n;i=[a,t,a(0),a(4),a(3),a(2),a(8),a(2)],void 0===(n=function(e,t,a,i,n,s,o,l){"use strict";i=a.__importDefault(i),n=a.__importDefault(n),s=a.__importStar(s),o=a.__importDefault(o);const d=function(e){return n.default.createElement("div",{onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,className:"add-tooltip-pp"},n.default.createElement(o.default.Composites.RichTextLabeled,null,n.default.createElement(o.default.TextLabel,{type:"T06",value:e.title}),n.default.createElement(o.default.RichText,{className:l.cx({"custom-learn-more":e.learnMoreText})},n.default.createElement("p",null,s.translate(e.description),n.default.createElement("span",null,n.default.createElement("a",{onClick:e.onLearnMore},s.translate(e.learnMoreText||"NewPages_Panel_Add_Folder_Learnmore")))))))};return d.displayName="addTooltip",d.propTypes={title:i.default.string,description:i.default.string,learnMoreText:i.default.string,onLearnMore:i.default.func,onMouseEnter:i.default.func,onMouseLeave:i.default.func},d}.apply(t,i))||(e.exports=n)},1889:function(e,t,a){var i,n;i=[a,t,a(0),a(1),a(3),a(4),a(12),a(2),a(10),a(8),a(2)],void 0===(n=function(e,t,a,i,n,s,o,l,d,r,p){"use strict";function u(){return n.default.createElement("div",{onClick:this.props.setSelected,"data-aitemtype":this.getAutomationItemType(),className:p.cx("menu-item-pp",this.getTopLevelClasses())},null===this.state.inputValue?(()=>{const e=this.getPagePermissionSymbol();return n.default.createElement("div",{key:"pageInfo",onDoubleClick:this.onDoubleClick,className:"title-action-container"},n.default.createElement("div",{className:"left-container"},this.props.isDragAvailable?n.default.createElement(d.symbol,{name:"dragPage",key:"drag-icon",dataHintMyData:"hint_my_data",className:"page-item-drag"}):null,n.default.createElement(r.default.Tooltip,{disabled:!this.props.info,content:this.props.info,shouldTranslate:!1,arrowAlignment:"top",key:"tooltip-type-symbol-pp"},n.default.createElement(d.symbol,{name:this.getTypeSymbolName()})),n.default.createElement("span",{className:p.cx(this.getTitleClass())},n.default.createElement(r.default.TooltipOnEllipsis,{marginTop:5,contentClassName:"menu-item-title-name"},this.props.dataSource.label))),n.default.createElement("div",{className:"right-container"},e?n.default.createElement(d.symbol,{name:e,key:"pagePermissionSymbol"}):null,this.isHidden()?n.default.createElement(d.symbol,{name:"hiddenPageStatus",key:"hiddenPageStatus-symbol"}):null,this.state.actions?(()=>{const e=this.filterRegularActions(),t=this.filterSettingsActions();return n.default.createElement(r.default.ContextMenu,{isOpen:this.state.contextMenuOpened,key:"page-context-menu",onToggle:this.handleContextMenuToggle,automationId:"menu-item-context-menu",className:"flat"},n.default.createElement(r.default.ContextMenuContent,{key:"actions-".concat(this.state.actions.length)},i.default.map(t,e=>n.default.createElement(r.default.ContextMenuAction,{onClick:()=>{this.handleClickAction(e)},key:"action-".concat(e.title),automationId:"action-".concat(e.title),className:"menu-item-settings-action-pp"},n.default.createElement(d.symbol,{name:e.symbolName}),n.default.createElement("span",null,e.title))),i.default.isEmpty(e)||i.default.isEmpty(t)?null:n.default.createElement(r.default.Divider,{key:"actions-divider"}),i.default.map(e,e=>n.default.createElement(r.default.ContextMenuAction,{onClick:()=>{this.handleClickAction(e)},key:"action-".concat(e.title),disabled:e.disabled,automationId:"action-".concat(e.title),className:"action-".concat(e.title)},n.default.createElement(d.symbol,{name:e.symbolName,className:p.cx({disabled:e.disabled})}),n.default.createElement("span",null,e.title)))))})():null))})():null,null!==this.state.inputValue?(()=>{const e=l.validate.pageNameValidator(this.state.inputValue);return n.default.createElement("div",{onMouseDown:e=>{e.stopPropagation()},key:"input-container-page-pp",className:"input-button-container"},n.default.createElement(r.default.TextInput,{value:this.state.inputValue,onChange:this.handleChangeInput,isValid:!e,invalidMessage:e,shouldTranslate:!1,selectOnFocus:!0,maxLength:40,onBlur:this.handleRenameDone,autoSelect:!0}),n.default.createElement(r.default.Button,{disabled:e,className:"done-button"},l.translate("Pages_Actions_Rename_Button")))})():null)}i=a.__importDefault(i),n=a.__importDefault(n),s=a.__importDefault(s),o=a.__importStar(o),l=a.__importStar(l),d=a.__importStar(d),r=a.__importDefault(r);class c extends n.default.Component{constructor(e){super(e),this.state={actions:this.props.initialActions,contextMenuOpened:!1,inputValue:(()=>{if(!(this.props.dataSource.id===this.props.renamedMenuItemId)||!this.props.renameEnabled)return null;const e=this.props.getMenuItemActions(this.props.dataSource);return i.default.head(i.default.filter(e,"isRename"))?this.props.dataSource.label:null})()},this.handleClickAction=e=>{e.isRename?this.openRenameMode():e.onClick(this.props.dataSource.id,this.props.dataSource.label)},this.openRenameMode=()=>{this.getRenameAction()&&this.props.renameEnabled&&this.setState({inputValue:this.props.dataSource.label})},this.handleChangeInput=e=>this.setState({inputValue:e}),this.handleRenameDone=()=>{const e=!l.validate.pageNameValidator(this.state.inputValue)?this.state.inputValue:this.props.dataSource.label;this.getRenameAction().onClick(this.props.dataSource.id,e),this.props.setSelected(),this.setState({inputValue:null,contextMenuOpened:!1})},this.getRenameAction=()=>{let e=this.state.actions;return i.default.isEmpty(e)&&(e=this.props.getMenuItemActions(this.props.dataSource)),i.default.head(i.default.filter(e,"isRename"))},this.onDoubleClick=()=>this.openRenameMode(),this.handleContextMenuToggle=e=>{e?(this.setState({contextMenuOpened:!0,actions:this.getActionsForItem(this.props.dataSource)}),this.props.biEvent(o.events.pages.pagesPanel.page_actions_click,{page_id:i.default.get(this.props.dataSource,"pageData.id"),source:this.props.biCategory})):this.setState({contextMenuOpened:!1})},this.getActionsForItem=e=>this.props.getMenuItemActions(e),this.isHidden=()=>this.props.isMobile?!this.props.dataSource.isVisibleMobile:!this.props.dataSource.isVisible,this.getAutomationItemType=()=>{const e=this.props.dataSource,t=e.parent?"subpage-":"";return e.isHomePage?"".concat(t,"home"):e.type.isPage?"".concat(t,"page"):e.type.isLink?"".concat(t,"link"):e.type.isDropdown?"".concat(t,"folder"):void 0},this.getTopLevelClasses=()=>({"hidden-page":this.isHidden(),selected:this.props.isSelected}),this.getPagePermissionSymbol=()=>i.default.get(this.props.dataSource,"pageData.pageSecurity.requireLogin")?"membersPagePermission":i.default.get(this.props.dataSource,"pageData.pageSecurity.dialogLanguage")?"passwordPagePermission":null,this.getTitleClass=()=>{const e=!!this.getPagePermissionSymbol(),t=!!this.isHidden(),a=!!this.props.dataSource.parent;return{"menu-item-title":!0,"page-without-attributes":!a&&!e&&!t,"subpage-without-attributes":a&&!e&&!t,"page-with-attribute":!a&&e&&!t||!a&&!e&&t,"subpage-with-attribute":a&&e&&!t||a&&!e&&t,"page-with-attributes":!a&&e&&t,"subpage-with-attributes":a&&e&&t}},this.filterSettingsActions=()=>i.default.filter(this.state.actions,"isSettings"),this.filterRegularActions=()=>i.default.reject(this.state.actions,"isSettings"),this.getTypeSymbolName=()=>{const e=this.props.dataSource;return e.symbol?e.symbol:e.type.isPopupLink?"popupPageType":e.type.isLink?(t=i.default.get(e,"link.type"),i.default.get({AnchorLink:"anchorPageType",ExternalLink:"urlPageType",EmailLink:"emailPageType",PhoneLink:"phonePageType",DocumentLink:"documentPageType"},t,"linkPageType")):e.type.isDropdown?"folderPageType":e.isCustomErrorPage?"pageItemCustom404":e.isHomePage?"homePageType":e.isOldBlog?"oldBlogPageType":"members"===i.default.get(e,"pageData.tpaPageId")?"membersAction":i.default.get(e,"pageData.tpaApplicationId")>0?(a=e.appDefinitionId,i.default.get({"1380b703-ce81-ff05-f115-39571d94dfcd":"storesPageType","13d21c63-b5ec-5912-8397-c3a5ddb27a97":"bookingPageType","14724f35-6794-cd1a-0244-25fd138f9242":"forumPageType","14bcded7-0066-7c35-14d7-466cb3f09103":"blogPageType","135aad86-9125-6074-7346-29dc6a3c9bcf":"hotelsPageType","13c1402c-27f2-d4ab-7463-ee7c89e07578":"restaurantsPageType","13e8d036-5516-6104-b456-c8466db39542":"restaurantsPageType","1484cb44-49cd-5b39-9681-75188ab429de":"searchPageType"},a,"tpaPageType")):"regularPageType";var t,a}}componentWillReceiveProps(e){let{dataSource:t,renamedMenuItemId:a}=e;const i=null!==this.state.inputValue;t.id!==a||i||this.openRenameMode()}render(){return u.call(this)}}return c.displayName="MenuItem",c.propTypes={renamedMenuItemId:s.default.string,dataSource:s.default.object.isRequired,isSelected:s.default.bool,setSelected:s.default.func.isRequired,isDragAvailable:s.default.bool.isRequired,isMobile:s.default.bool.isRequired,info:s.default.string,getMenuItemActions:s.default.func.isRequired,renameEnabled:s.default.bool,biEvent:s.default.func.isRequired,biCategory:s.default.string.isRequired,initialActions:s.default.oneOfType([s.default.array,s.default.object])},c}.apply(t,i))||(e.exports=n)},1890:function(e,t,a){var i,n;i=[a,t,a(0),a(2),a(12),a(6),a(4),a(3),a(8)],void 0===(n=function(e,t,a,i,n,s,o,l,d){"use strict";var r;i=a.__importStar(i),n=a.__importStar(n),s=a.__importDefault(s),o=a.__importDefault(o),l=a.__importDefault(l),d=a.__importDefault(d);const{MAX_STATIC_PAGES_ALLOWED:p,WARNING_COUNTER_NUMBER_OF_STATIC_PAGES:u}=s.default.STATIC_PAGES;return(r=class extends l.default.Component{constructor(){super(...arguments),this.handleTooManyPagesSuggestionClick=()=>{this.props.openPanel("wixData.dynamicPagesStartingPanel",{staticPagesCount:this.props.staticPagesCount,notifyDataBindingAppTooManyPages:this.props.notifyDataBindingAppTooManyPages,origin:"pages_panel_banner_#".concat(this.props.staticPagesCount)},!0),this.props.sendBi(n.events.pages.pagesPanel.too_many_pages_info_click,{origin:"pages_panel",pages_count:this.props.staticPagesCount})},this.getLearnMoreText=()=>this.props.staticPagesCount>=p?"Pages_Menu_Heavy_Sites_Info_Link":"Pages_Menu_Heavy_Sites_Checkpoint1_Info_Link",this.getLabel=()=>this.props.staticPagesCount>=p?i.translate("Pages_Menu_Heavy_Sites_Info_Text"):this.props.staticPagesCount>=u?i.translationUtil.translateTemplate("Pages_Menu_Heavy_Sites_Checkpoint3_Info_Text",{Page_Number:this.props.staticPagesCount}):i.translate("Pages_Menu_Heavy_Sites_Checkpoint1_Info_Text"),this.getClasses=()=>this.props.staticPagesCount>=p?"blocked":this.props.staticPagesCount>=u?"count":"info"}componentDidMount(){this.props.sendBi(n.events.pages.pagesPanel.too_many_pages_banner_shown,{pages_count:this.props.staticPagesCount})}render(){return l.default.createElement("div",{key:"too-many-pages-banner",className:"too-many-pages-banner"},l.default.createElement(d.default.Composites.BannerPremium,null,l.default.createElement(d.default.SectionDivider,{className:this.getClasses()},l.default.createElement(d.default.Composites.RichText,null,l.default.createElement(d.default.RichText,null,"".concat(this.getLabel()," "),l.default.createElement("a",{onClick:()=>{this.handleTooManyPagesSuggestionClick()}},i.translate(this.getLearnMoreText())))))))}}).displayName="TooManyPagesBanner",r.propTypes={sendBi:o.default.func.isRequired,openPanel:o.default.func.isRequired,staticPagesCount:o.default.number.isRequired,notifyDataBindingAppTooManyPages:o.default.func.isRequired},r}.apply(t,i))||(e.exports=n)},1891:function(e,t,a){var i,n;i=[a,t,a(0),a(3),a(4),a(10),a(8)],void 0===(n=function(e,t,a,i,n,s,o){"use strict";function l(){return i.default.createElement("div",{className:"transitions-view-pp"},i.default.createElement(o.default.PanelHeader,{onClose:this.props.onClose,onHelp:()=>{this.props.onHelp("000c9232-9321-4738-94c8-885f8633b35b")},className:"header light"},i.default.createElement("span",null,this.props.title)),i.default.createElement(o.default.Composites.Thumbnails,null,i.default.createElement(o.default.Thumbnails,{value:this.props.selectedTransition,onChange:this.props.onClickTransition,maxThumbsPerRow:3,options:this.getTransitions()})))}i=a.__importDefault(i),n=a.__importDefault(n),s=a.__importStar(s),o=a.__importDefault(o);const d=e=>i.default.createElement(s.symbol,{name:e}),r=[{value:"none",label:"Pages_Menu_Transitions_None",illustration:d("transition-none")},{value:"swipeHorizontalFullScreen",label:"Pages_Menu_Transitions_SwipeH_Selected",illustration:d("transition-pages-horizontal")},{value:"swipeVerticalFullScreen",label:"Pages_Menu_Transitions_SwipeV_Popup",illustration:d("transition-pages-vertical")},{value:"crossfade",label:"Pages_Menu_Transitions_CrossFade",illustration:d("transition-pages-crossfade")},{value:"outIn",label:"Pages_Menu_Transitions_OutIn",illustration:d("transition-pages-inout")}];class p extends i.default.Component{constructor(e){super(e),this.getTransitions=()=>r}render(){return l.call(this)}}return p.displayName="TransitionsView",p.propTypes={onClickTransition:n.default.func.isRequired,title:n.default.string.isRequired,onClose:n.default.func.isRequired,onHelp:n.default.func.isRequired,selectedTransition:n.default.string.isRequired},p}.apply(t,i))||(e.exports=n)},1892:function(e,t,a){var i,n;i=[a,t,a(0),a(3),a(4),a(2),a(8),a(60),a(13)],void 0===(n=function(e,t,a,i,n,s,o,l,d){"use strict";function r(){return i.default.createElement("div",{className:"dynamic-pages-intro-view-pp"},i.default.createElement(o.default.PanelHeader,{onClose:this.props.onClose,onHelp:this.props.onHelp.bind(null,l.default.DYNAMIC_PAGES_INTRO.helpId),className:"header light"},i.default.createElement("span",null,this.props.title)),i.default.createElement("img",{src:s.media.getMediaUrl("panels/pages/add_dynamic_pages_intro.png"),className:"banner"}),i.default.createElement(o.default.Composites.RichTextLabeled,{className:"composite-centered"},i.default.createElement(o.default.TextLabel,{type:"T16",value:d.default.isOpen("specs.wixCode.ContentifyDataTerminology")?"Platform_Pages_Menu_Add_Dynamic_Page_Member_Title_CM":"Platform_Pages_Menu_Add_Dynamic_Page_Member_Title"}),i.default.createElement(o.default.RichText,{type:"T06"},s.translate(d.default.isOpen("specs.wixCode.ContentifyDataTerminology")?"Platform_Pages_Menu_Add_Dynamic_Page_Member_Text_CM":"Platform_Pages_Menu_Add_Dynamic_Page_Member_Text"))),i.default.createElement(o.default.Composites.ActionSetVertical,null,i.default.createElement(o.default.Button,{onClick:this.props.addDynamicPage},i.default.createElement("span",null,s.translate(d.default.isOpen("specs.wixCode.ContentifyDataTerminology")?"Platform_Pages_Menu_Add_Dynamic_Page_Add_Button_CM":"Platform_Pages_Menu_Add_Dynamic_Page_Add_Button")))))}i=a.__importDefault(i),n=a.__importDefault(n),s=a.__importStar(s),o=a.__importDefault(o),l=a.__importDefault(l),d=a.__importDefault(d);class p extends i.default.Component{render(){return r.call(this)}}return p.displayName="DynamicPagesIntroView",p.propTypes={title:n.default.string.isRequired,onClose:n.default.func.isRequired,onHelp:n.default.func.isRequired,addDynamicPage:n.default.func.isRequired},p}.apply(t,i))||(e.exports=n)},1893:function(e,t,a){var i,n;i=[a,t,a(0),a(1),a(60),a(115),a(12),a(6),a(7),a(193),a(64)],void 0===(n=function(e,t,a,i,n,s,o,l,d,r,p){"use strict";i=a.__importDefault(i),n=a.__importDefault(n),s=a.__importDefault(s),o=a.__importStar(o),l=a.__importDefault(l),d=a.__importDefault(d),r=a.__importDefault(r),p=a.__importStar(p);const u=(e,t,a)=>{if(t){if("CUSTOM_MAIN_MENU"===t)return"CUSTOM_MAIN_MENU";const n=e.dsRead.menu.getById(t).appId,s=i.default.find(a,["applicationId",n]);return i.default.get(s,"id")}return null},c=(e,t)=>{const a=e.dsRead.homePage.get(),i=e.menus.getSelectedMenuItemByPageId(t,a);return{selectedPageId:a,selectedMenuItemId:i.id,selectedTabId:i.menuId}},g=(e,t,a)=>{const n=i.default.find(a,e=>{let{pagesData:a}=e;return i.default.some(a,{id:t})}),s=i.default.get(n,"id");return s?{selectedPageId:t,selectedTabId:s,selectedPageIsDynamic:!0}:null},f=(e,t,a)=>{const n=i.default.find(a,e=>{let{pagesData:a}=e;return i.default.some(a,{id:t})}),s=i.default.get(n,"id");return s?{selectedPageId:t,selectedTabId:s,selectedPageIsManagedByApp:!0}:null},m=e=>{const t=e.pages.transitions.get();return i.default.get({outIn:"outIn",crossfade:"crossfade",shrinkfade:"crossfade",swipeHorizontal:"swipeHorizontalFullScreen",swipeHorizontalFullScreen:"swipeHorizontalFullScreen",swipeVertical:"swipeVerticalFullScreen",swipeVerticalFullScreen:"swipeVerticalFullScreen",none:"none"},t,"none")},_=e=>Boolean(e.developerMode.isEnabled())||p.isDataModeOn(e),h=e=>{const t=e.dsRead.siteMembers.getCustomSignupPageId(),a=e.components.get.byId(t);return(a&&e.components.getChildren(a)||[]).some(t=>"wysiwyg.viewer.components.FormContainer"===e.components.getType(t))},P=(e,t,a)=>{let{editorAPI:i}=a;const n=i.dsRead.platform.editorApps.DATA_BINDING.appDefId,s=i.dsRead.platform.getAppDataByAppDefId(n).applicationId;i.dsActions.platform.notifyApplication(s,{eventType:"addDynamicPageClicked",eventPayload:{origin:"pagesPanel"}}),i.bi.event(o.events.topbar.pages.top_bar_PAGES_Add_pages_expand_menu_selection_click,{category:"add_dynamic_page",origin:"dynamic_page_intro"})},y=(e,t,a)=>{let{editorAPI:i}=a;return i};return{mapStateToProps:(e,t)=>{let{editorAPI:a,dsRead:o}=e;var d,p;const P=a.panelManager.getOpenPanels(),y=o.pages.getPagesData(),b=a.isDesktopEditor(),I=((e,t,a)=>r.default.pagesManagedByApps(e,t).map(t=>(t.actions=s.default.application(e,t.id,a,t.biCategory),t)))(a,y,b),S=I.map(e=>e.id),A=((e,t)=>r.default.routers(e).map(a=>(a.actions=s.default.router(e,t,a.applicationId,a.prefix,a.biCategory,a.isSpecial,a.routerType),a)))(a,b).filter(e=>{const t=i.default.get(a.dsRead.platform.getAppDataByApplicationId(e.applicationId),"appDefinitionId");return!i.default.includes(S,t)}),T=A.filter(e=>e.isSpecial),C=A.filter(e=>!e.isSpecial),D=((e,t,a)=>r.default.menus(e,t).map(t=>(t.actions=s.default.menuTab(e,t.appDefId,a),t)))(a,y,b),M=y.some(e=>e.pageSecurity&&e.pageSecurity.requireLogin),E=null===(p=null===(d=P.find(e=>e.name===l.default.ROOT_COMPS.LEFTBAR.MENUS_AND_PAGES_PANEL_NAME))||void 0===d?void 0:d.props)||void 0===p?void 0:p.selectedTabId,{selectedPageId:v,selectedPageIsDynamic:R,selectedMenuItemId:N,selectedTabId:k,selectedPageIsManagedByApp:x}=((e,t,a,s,o,l)=>{const d=e.pages.popupPages.getCurrentPopup();if(d){const t=e.pages.popupPages.getDataList(),a=i.default.get(i.default.find(t,["managingAppDefId","5f4fa4f1-5afd-4ac0-8a85-e5ac1d2b9b7d"]),"id"),s=o?n.default.SIGNUP.id:n.default.MAIN_MENU.id;return{selectedPageId:d.id,selectedTabId:d.id===a?s:n.default.POPUPS.id}}const r=e.pages.getCurrentUrlPageId();if(!r)return c(e,t);const p=f(e,r,s);if(null==p?void 0:p.selectedTabId)return p;const u=g(e,r,a);if(null==u?void 0:u.selectedTabId)return u;const m=e.menus.getSelectedMenuItemByPageId(t,r),_=l||m.menuId;return _?{selectedPageId:r,selectedMenuItemId:null==m?void 0:m.id,selectedTabId:_}:c(e,t)})(a,D,A,I,b,E),O=((e,t,a,i,n)=>e?t.some(e=>e.id===n)?a:i:null)(t.renameEnabled,D,N,v,k),B=r.default.popups(a).filter(e=>{let{managingAppDefId:t}=e;return!t});return{selectedPageId:v,selectedMenuItemId:N,selectedPageIsDynamic:R,selectedTabId:k,isForceSelectedTabId:Boolean(E),selectedPageIsManagedByApp:x,initialTabId:u(a,t.menuId,A)||k,pagesData:y,menus:D,specialRouters:T,userRouters:C,appPages:I,popups:B,isDesktop:b,renamedItemId:O,biPanelName:"pages_panel",shouldShowDynamicPagesIntroTab:_(a),hasRestrictedPage:M,hasCustomSignupLightbox:h(a),selectedTransition:m(a),forceOpenPagesPanelCounter:a.getForceOpenPagesPanelEventCounter()}},mapDispatchToProps:(e,t)=>{let{panelName:a}=t;return{notifyDataBindingAppTooManyPages:e(y).pages.notifyDataBindingAppTooManyPages,onHelp:t=>e(((e,t)=>(a,i,n)=>{let{editorAPI:s}=n;const o={panel_name:e,origin:l.default.BI.HELP.ORIGIN.PAGES_PANEL,learn_more:!0};s.panelManager.openHelpCenter(t,null,o)})(a,t)),onClose:()=>e((e=>(t,a,i)=>{let{editorAPI:n}=i;n.panelManager.closePanelByName(e)})(a)),getPageData:t=>e((e=>(t,a,i)=>{let{dsRead:n}=i;return n.pages.data.get(e)})(t)),biEvent:(t,a)=>e(d.default.editorPlugins.bi.actions.event(t,a)),addDynamicPage:()=>e(P),onClickTransition(t){e((e=>(t,a,n)=>{let{editorAPI:s}=n;const l=e=>i.default.trim(e.link.pageId,"#");s.pages.transitions.set(e),s.bi.event(o.events.pages.pagesPanel.page_transition_selected_click,{category:e});const d=s.dsRead.pages.getPrimaryPageId(),r=i.default(s.dsRead.mainMenu.getMenu(!0)).flatMap(e=>[e,...e.items]).filter(e=>"PageLink"===i.default.get(e,"link.type")&&!s.dsRead.pages.popupPages.isPopup(l(e))).map(l).value(),p=r.indexOf(d),u=(p+1)%r.length;u!==p&&s.pages.navigateTo(r[u]),s.waitForChangesApplied((function(){s.pages.navigateTo(r[p])}))})(t))},clearForceSelectedTabId(){e(y).panelManager.updatePanelProps(l.default.ROOT_COMPS.LEFTBAR.MENUS_AND_PAGES_PANEL_NAME,{selectedTabId:null})}}}}}.apply(t,i))||(e.exports=n)},1894:function(e,t,a){var i,n;i=[a,t,a(0),a(3),a(4),a(1),a(2),a(10),a(60),a(12),a(13),a(8),a(2)],void 0===(n=function(e,t,a,i,n,s,o,l,d,r,p,u,c){"use strict";function g(){return i.default.createElement("div",{className:"tabs-pp"},i.default.createElement(u.default.CustomScroll,null,i.default.createElement("ul",null,s.default.map(this.getTabs(),e=>i.default.createElement("li",{onClick:()=>{this.handleClick(e)},key:"li-".concat(e.id),"data-aid":"tab-".concat(e.title),className:"tab"},i.default.createElement("div",{className:c.cx("container-for-background",{selected:this.props.selectedTabId===e.id})},i.default.createElement(u.default.TooltipOnEllipsis,{marginTop:9},i.default.createElement("div",{className:"title"},e.title)),i.default.createElement(u.default.Tooltip,{marginTop:6,content:"NewPages_Panel_Left_SiteMenu_Actions_Label",closeOnMouseClick:!0,className:"actions-tooltip"},s.default.isEmpty(e.actions)?null:i.default.createElement(u.default.ContextMenu,{customButton:this.getActionsButton(e.id),automationId:"context-menu-".concat(e.id),key:"tab-context-menu",onToggle:t=>{this.handleContextMenuToggle(e,t)}},s.default.map(e.actions,e=>i.default.createElement(u.default.ContextMenuAction,{onClick:e.onClick,key:"action-".concat(e.title)},i.default.createElement(l.symbol,{name:e.symbolName}),i.default.createElement("span",null,e.title)))))),e.separatorAfter?i.default.createElement(u.default.Divider,{key:"separator-after-".concat(e.id)}):null)))))}i=a.__importDefault(i),n=a.__importDefault(n),s=a.__importDefault(s),o=a.__importStar(o),l=a.__importStar(l),d=a.__importDefault(d),r=a.__importStar(r),p=a.__importDefault(p),u=a.__importDefault(u);const f=e=>{let{id:t,title:a,group:i,biCategory:n}=e;return{id:t,title:o.translate(a),group:i,biCategory:n}},m=e=>e.group===d.default.MENUS.group?d.default.MENUS.getBiCategory(e.id):e.group===d.default.TPA_PAGES.group?d.default.TPA_PAGES.getBiCategory(e.id):e.biCategory;class _ extends i.default.Component{constructor(e){super(e),this.shouldDisplaySignupTab=()=>this.props.isDesktop&&this.props.hasRestrictedPage||this.props.hasCustomSignupLightbox,this.getTabs=()=>{const e=((e,t,a)=>{const i=t&&(s.default.isEmpty(a)||p.default.isOpen("se_showDynamicPagesIntroWhenRoutersExist"))&&e,n=[];return i&&n.push(f(d.default.DYNAMIC_PAGES_INTRO)),s.default.forEach(a,e=>{let{id:t,title:a,actions:i}=e;n.push({id:t,title:a,actions:i,group:d.default.DYNAMIC_PAGES.group,biCategory:d.default.DYNAMIC_PAGES.biCategory})}),n})(this.props.shouldShowDynamicPagesIntroTab,this.props.isDesktop,this.props.userRouters);let t=[];return s.default.forEach(this.props.menus,e=>{let{id:a,title:i,actions:n}=e;t.push({id:a,title:i,actions:n,group:d.default.MENUS.group})}),s.default.isEmpty(this.props.specialRouters)||s.default.forEach(this.props.specialRouters,e=>{let{id:a,title:i,actions:n,biCategory:s}=e;t.push({id:a,title:i,actions:n,group:d.default.SPECIAL_PAGES.group,biCategory:s})}),this.shouldDisplaySignupTab()&&t.push(f(d.default.SIGNUP)),s.default.isEmpty(this.props.appPages)||s.default.forEach(this.props.appPages,e=>{let{id:a,title:i,actions:n,biCategory:s}=e;t.push({id:a,title:i,actions:n,group:d.default.APPLICATION_PAGES.group,biCategory:s})}),t=t.concat(e),s.default.isEmpty(this.props.popups)||t.push(f(d.default.POPUPS)),t=(e=>s.default.map(e,(t,a)=>(t.separatorAfter=a===e.length-1,t)))(t),this.props.isDesktop?t.push(f(d.default.TRANSITIONS)):s.default.last(t).separatorAfter=!1,t},this.handleContextMenuToggle=(e,t)=>{t&&this.props.biEvent(r.events.pages.pagesPanel.tab_clicked_on_settings,{category:m(e)})},this.getActionsButton=e=>i.default.createElement("div",{key:"actions-button-".concat(e)},i.default.createElement(l.symbol,{name:"settingsActionSmall"})),this.handleClick=e=>{this.props.biEvent(r.events.pages.pagesPanel.category_click,{category:m(e)}),this.props.onClickTab(e.id)}}render(){return g.call(this)}}return _.displayName="PanelTabs",_.propTypes={popups:n.default.arrayOf(n.default.object).isRequired,userRouters:n.default.arrayOf(n.default.object).isRequired,specialRouters:n.default.arrayOf(n.default.object).isRequired,appPages:n.default.arrayOf(n.default.object).isRequired,menus:n.default.arrayOf(n.default.object).isRequired,onClickTab:n.default.func.isRequired,selectedTabId:n.default.string,biEvent:n.default.func.isRequired,shouldShowDynamicPagesIntroTab:n.default.bool.isRequired,hasCustomSignupLightbox:n.default.bool,hasRestrictedPage:n.default.bool,isDesktop:n.default.bool.isRequired},_}.apply(t,i))||(e.exports=n)},1895:function(e,t,a){var i,n;i=[a,t,a(0),a(1),a(3),a(4),a(2),a(8),a(1896),a(12),a(10),a(2)],void 0===(n=function(e,t,a,i,n,s,o,l,d,r,p,u){"use strict";function c(){return n.default.createElement("div",{onMouseEnter:this.handleMouseEnter,onClick:this.onClick,className:"quick-navigation-pp"},n.default.createElement("div",{onClick:this.props.closePopupPage,key:"exit-lightbox",className:u.cx("exit-lightbox",{"active-exit-lightbox":this.props.isPopupOpened})},n.default.createElement("span",null,o.translate("PopUps_TopBar_Exit")),n.default.createElement(p.symbol,{name:"zoomClose"})),n.default.createElement(l.default.DropDown,{value:this.getSelectedItemId(),onChange:this.handleClickItem,shouldTranslate:!1,searchBox:!0,onToggle:this.handleToggle,forceOpen:this.state.forceOpen,dataLabel:o.translate("NewPages_QuickNav_Label"),optionsContainerClassName:"dropdown-quick-navigation-pp"},this.getContent(),n.default.createElement(l.default.DropDownStickyFooter,{closeOnClick:!0},n.default.createElement(l.default.Button,{onClick:this.props.onClickManagePages,className:"btn-text"},n.default.createElement("span",{className:"manage-pages-text"},o.translate("NewPages_QuickNav_Pages_Manage_Button"))))),n.default.createElement(l.default.Bubble,{arrowAlignment:"top",arrowStyle:{position:"relative",left:"104px",top:"-97px"},contentStyle:this.bubbleContentStyle,className:"bubble-quick-navigation-pp"},n.default.createElement(l.default.TextLabel,{value:"TOPBAR_NEWPAGES_TOOLTIP_TITLE",type:"T03",enableEllipsis:!1,className:"bubble-title-quick-navigation-pp"}),n.default.createElement(l.default.TextLabel,{value:"TOPBAR_NEWPAGES_TOOLTIP_BODY",enableEllipsis:!1})))}i=a.__importDefault(i),n=a.__importDefault(n),s=a.__importDefault(s),o=a.__importStar(o),l=a.__importDefault(l),d=a.__importDefault(d),r=a.__importStar(r),p=a.__importStar(p);const{connect:g,renderWhenMutated:f,STORES:{EDITOR_API:m}}=o.hoc,_=e=>e.isNested?"nested-page":e.isFolder?"folder":e.isLink?"link":void 0;class h extends n.default.Component{constructor(e){super(e),this.state={items:e.selectedItem?this.props.getItems():[],forceOpen:!1},this.handleMouseEnter=()=>{this.setState({items:this.props.getItems()}),this.props.backToAdiTooltipVisibility&&this.props.closeBackToAdiTooltip()},this.getContent=()=>i.default.flatMap(this.state.items,(e,t)=>{return e.id?((e,t)=>n.default.createElement(l.default.DropDownOption,{value:e.id,label:e.title,shouldTranslate:!1,disabled:e.isFolder||e.isLink,optionWrapperClassName:_(e),key:t}))(e,t):(a=e.title,[n.default.createElement(l.default.SectionDivider,{className:"upper",key:i.default.uniqueId("section-divider")},i.default.toUpper(a))]);var a}),this.getSelectedItemId=()=>this.props.selectedItem?this.props.selectedItem.id:null,this.handleClickItem=e=>this.props.onClickItem(i.default.find(this.state.items,{id:e})),this.onClick=()=>{this.props.biEvent(r.events.topbar.top_bar_click,{category:d.default.PANEL_NAME}),this.props.biEvent(r.events.pages.quick_navigation_clicked,{origin:"top_bar"})},this.handleToggle=e=>{e?this.props.closeAllPanels():this.setState({forceOpen:!1})}}componentWillReceiveProps(e){((e,t)=>{const a=!e&&t,i=e&&e.id!==t.id,n=e&&e.id===t.id&&e.title!==t.title;return a||i||n})(this.props.selectedItem,e.selectedItem)&&(this.props.updateRecentlyViewedPages(e.selectedItem),this.setState({items:e.getItems()})),e.forceOpenEventCounter>this.props.forceOpenEventCounter&&this.setState({items:e.getItems(),forceOpen:!0})}render(){return c.call(this)}}h.displayName="QuickNavigation",h.propTypes={onClickItem:s.default.func.isRequired,onClickManagePages:s.default.func.isRequired,getItems:s.default.func.isRequired,closePopupPage:s.default.func,isPopupOpened:s.default.bool,selectedItem:s.default.shape({id:s.default.string.isRequired,title:s.default.string.isRequired,isHomePage:s.default.bool.isRequired}),updateRecentlyViewedPages:s.default.func.isRequired,forceOpenEventCounter:s.default.number,biEvent:s.default.func,closeAllPanels:s.default.func,backToAdiTooltipVisibility:s.default.bool,closeBackToAdiTooltip:s.default.func,currentPageId:s.default.string};const P=g(m,d.default.mapStateToProps,d.default.mapDispatchToProps)(f(h));return P.pure=h,P}.apply(t,i))||(e.exports=n)},1896:function(e,t,a){var i,n;i=[a,t,a(0),a(1),a(2),a(7),a(60),a(12),a(193)],void 0===(n=function(e,t,a,i,n,s,o,l,d){"use strict";i=a.__importDefault(i),n=a.__importStar(n),s=a.__importDefault(s),o=a.__importDefault(o),l=a.__importStar(l),d=a.__importDefault(d);const r=(e,t)=>t>0&&{title:n.translate(e.title)},p=e=>i.default.flatMap(e,e=>{let{title:t,pagesData:a,biCategory:n}=e;return[{title:t},...i.default.map(a,e=>{let{id:t,label:a}=e;return{id:t,title:a,biCategory:n}})]}),u=(e,t,a)=>{const n=o.default.MENUS.getBiCategory(t);if(!i.default.isEmpty(e.items)){const a=i.default(e.items).flatMap(e=>u(e,t,!0)).compact().value();if(!i.default.isEmpty(a))return[{id:i.default.get(e.pageData,"id",e.id),title:i.default.get(e.pageData,"title",e.label),isFolder:e.type.isDropdown,isLink:e.type.isLink,biCategory:n},...a]}return e.type.isPage?{id:e.pageData.id,title:e.pageData.title,isNested:a,biCategory:n}:null},c=e=>i.default.startsWith(e,"RECENTLY-"),g=e=>c(e)?i.default.trimStart(e,"RECENTLY-"):e,f=e=>"".concat(c(e)?"":"RECENTLY-").concat(e),m=e=>{const t=i.default.invoke(e,"dsRead.pages.getFocusedPageId");return t?{id:t,title:e.pages.getPageTitle(t),isHomePage:e.pages.isHomePage(t)}:null},_=e=>s.default.editorPlugins.topBar.selectors.getBackToAdiTooltipVisibility(e.store.getState()),h=(e,t,a)=>{let{editorAPI:n}=a;const l=n.dsRead.pages.getPagesData(),c=n.dsRead.siteMembers.getCustomSignupPageId(),g=d.default.popups(n),f=i.default.filter(g,e=>{let{managingAppDefId:t}=e;return!t}),m=c?i.default.filter(g,e=>{let{managingAppDefId:t}=e;return"5f4fa4f1-5afd-4ac0-8a85-e5ac1d2b9b7d"===t}):[],_=d.default.pagesManagedByApps(n,l,!1),h=_.map(e=>e.id),P=d.default.routers(n).filter(e=>{const t=i.default.get(n.dsRead.platform.getAppDataByApplicationId(e.applicationId),"appDefinitionId");return!i.default.includes(h,t)}),y=(b=_,i.default.flatMap(b,e=>{let{title:t,pagesData:a,biCategory:n}=e;return a?[{title:t},...i.default.map(a,e=>({id:e.id,title:e.title,biCategory:n}))]:[]}));var b;const I=p(i.default.filter(P,"isSpecial")),S=p(i.default.reject(P,"isSpecial")),A=i.default.flatMap([f,m,I,S,y]).length,T=d.default.menus(n,l,!0),C=(e=>i.default.flatMap(e,e=>{let{id:t,title:a,menuItems:n}=e;const s=i.default(n).flatMap(e=>u(e,t)).compact().value();if(!i.default.isEmpty(s))return[{title:a},...s]}))(T),D=C.length-T.length,M=((e,t)=>t<18?[]:s.default.editorPlugins.userPreferences.selectors.getSiteUserPreferences("recentlyViewedPages")(e.store.getState())||[])(n,A+D);return((e,t,a,i)=>{t+a===0&&1===i&&(e[0]=null)})(C,A,M.length,T.length),i.default.compact([r({title:"NewPages_QuickNav_Pages_Recently_Viewed_Label"},M.length),...M,...C,...I,...y,...S,r(o.default.POPUPS,f.length),...f,r(o.default.SIGNUP,m.length),...m])},P=(e,t,a)=>{let{editorAPI:i}=a;i.panelManager.openPanel("pages.pagesPanel"),i.bi.event(l.events.pages.click_on_pages_panel_open,{origin:"quick_navigation"})},y=(e,t,a)=>{let{editorAPI:i}=a;return i.panelManager.closeAllPanels()};return{mapStateToProps:e=>{let{editorAPI:t}=e;return{selectedItem:m(t),closePopupPage:t.pages.popupPages.close,isPopupOpened:!!i.default.invoke(t,"dsRead.pages.popupPages.isPopupOpened"),backToAdiTooltipVisibility:_(t)}},mapDispatchToProps:e=>({getItems:()=>e(h),onClickItem:t=>{let{id:a,biCategory:i}=t;return e(((e,t)=>(a,i,n)=>{let{editorAPI:s}=n;const o=g(e);s.pages.navigateTo(o),s.bi.event(l.events.pages.navigate_to_page,{page_id:o,panel_name:"quick_navigation",category:t})})(a,i))},onClickManagePages:()=>e(P),biEvent(t,a){e(s.default.editorPlugins.bi.actions.event(t,a))},closeAllPanels:()=>e(y),updateRecentlyViewedPages:t=>e((e=>(t,a,n)=>{let{editorAPI:o}=n;if(!e)return[];const{id:l,title:d,isHomePage:r}=e,p=i.default.cloneDeep(s.default.editorPlugins.userPreferences.selectors.getSiteUserPreferences("recentlyViewedPages")(o.store.getState()))||[];if(i.default.isEmpty(p)&&r)return[];const u=i.default.find(p,{id:f(l)}),c=Date.now();u?(u.time=c,u.title=d):p.push({time:c,id:f(l),title:d,biCategory:"recently_viewed"});const m=i.default(p).sortBy("time").filter(e=>o.pages.isPageExist(g(e.id))).reverse().slice(0,3).value();o.store.dispatch(s.default.editorPlugins.userPreferences.actions.setSiteUserPreferences("recentlyViewedPages",m))})(t)),closeBackToAdiTooltip:()=>e(s.default.editorPlugins.topBarTooltip.actions.closeBackToAdiTooltip())}),PANEL_NAME:"quick_navigation"}}.apply(t,i))||(e.exports=n)},19:function(e,t){e.exports=_},193:function(e,t,a){var i,n;i=[a,t,a(0),a(1),a(11),a(60),a(13),a(467)],void 0===(n=function(e,t,a,i,n,s,o,l){"use strict";i=a.__importDefault(i),n=a.__importStar(n),s=a.__importDefault(s),o=a.__importDefault(o),l=a.__importDefault(l);const d=n.utils.tpaTypeUtils,r=e=>i.default.get(e,"pageSecurity.requireLogin")?"membersPagePermission":i.default.get(e,"pageSecurity.dialogLanguage")?"passwordPagePermission":null,p=function(e,t){let a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return i.default(t).map(t=>{const n=e.pages.getReference(t.id),s=i.default.defaults(e.pages.appPages.getPageDescriptor(t.managingAppDefId,n),{orderIndex:0});return{id:t.id,title:t.title,permissionSymbol:r(t),pageDescriptor:a?s:i.default.pick(s,"orderIndex")}}).sortBy(e=>-e.pageDescriptor.orderIndex).value()};return{dynamicPages:(e,t)=>i.default.map(t,e=>{let{id:t,label:a,pageData:i}=e;return{id:t,title:a,permissionSymbol:r(i)}}),popups:e=>i.default.map(e.pages.popupPages.getDataListOrdered(),e=>{let{id:t,title:a,managingAppDefId:i}=e;return{id:t,title:a,managingAppDefId:i,biCategory:s.default.POPUPS.biCategory}}),routers:e=>i.default(e.pages.dynamicPages.getMenuItems()).reject(e=>{let{items:t}=e;return i.default.isEmpty(t)}).map(t=>{let{id:a,label:n,items:l,prefix:d,routerType:r}=t;const p=e.dsRead.pages.getReference(l[0].id),u=e.dsRead.routers.getRouterRef.byPage(p),{appDefinitionId:c}=e.dsRead.routers.get.byRef(u),g=e.dsRead.platform.editorApps.SANTA_MEMBERS.appDefId;if(o.default.isOpen("pagesPanelMembersPagesManifest")&&c===g)return null;const f=c===g,m=f?s.default.SPECIAL_PAGES.getBiCategory(c,g):s.default.DYNAMIC_PAGES.biCategory;return{id:a,title:n,pagesData:l,prefix:d,applicationId:i.default.get(e.dsRead.platform.getAppDataByAppDefId(c),"applicationId"),isSpecial:f,biCategory:m,routerType:r}}).compact().value(),pagesManagedByApps:(e,t,a)=>{const i=e.dsRead.platform.getInstalledEditorApps().map(e=>e.appDefinitionId).filter(e=>(e=>{switch(e){case"14bcded7-0066-7c35-14d7-466cb3f09103":return o.default.isOpen("pagesPanelBlogTab");case"140603ad-af8d-84a5-2c80-a0f60cb47351":return o.default.isOpen("pagesPanelEventsTab");case"14cc59bc-f0b7-15b8-e1c7-89ce41d0e0c9":return o.default.isOpen("pagesPanelMembersPagesManifest");default:return!0}})(e)),n=new Set(i),s=t.reduce((t,a)=>{const i=a.managingAppDefId,s=e.dsRead.platform.getAppDataByApplicationId(a.tpaApplicationId).appDefinitionId,o=a.managingAppDefId===s&&d.isPageNotVisibleInPagesMenu(e.dsRead,a);return i&&n.has(i)&&!o&&(t[i]=t[i]||[],t[i].push(a)),t},{});return i.map(t=>{const i=s[t]||[],n=e.pages.appPages.getApplicationSettings(t)||{},o=e.dsRead.platform.getAppDataByAppDefId(t)||{};return i.length>0?{id:t,title:n.displayName||o.appDefinitionName,pagesData:p(e,i,a),biCategory:t,helpId:n.helpId}:n.emptyState?{id:t,title:n.displayName,emptyStateUrl:n.emptyState.url,biCategory:t,helpId:n.emptyState.helpId||n.helpId}:null}).filter(e=>null!==e)},menus:(e,t,a)=>{const n=e.dsRead.platform.editorApps.SANTA_MEMBERS.appDefId,s=e.dsRead.menu.getAll();return i.default(s).filter(["id","CUSTOM_MAIN_MENU"]).map(i=>{const s=e.dsRead.platform.getAppDataByApplicationId(i.appId).appDefinitionId,o=e.menus.getExtendedMenuItemsTree(i,t);return{id:i.id,appDefId:s,menuItems:o.items,multiPageMenu:o.multiplePagesInMenu,title:l.default.getMenuTabNameIfApplicable(n,i.id,s,i.name,a)}}).value()}}}.apply(t,i))||(e.exports=n)},194:function(e,t,a){var i,n;i=[a,t,a(0),a(1),a(3),a(4),a(26),a(8),a(10),a(1878),a(1879),a(2)],void 0===(n=function(e,t,a,i,n,s,o,l,d,r,p,u){"use strict";function c(){const e=this.props.onClickAdd&&!this.props.emptyStateUrl;return n.default.createElement("div",{className:"pages-view-pp"},n.default.createElement(l.default.PanelHeader,{onClose:this.props.onClose,onHelp:this.props.onHelp,className:"header light"},n.default.createElement("span",{className:"title-pages-view-pp"},this.props.title)),n.default.createElement("div",{className:u.cx({"pages-container-outer":!0,"with-footer":e})},n.default.createElement(l.default.CustomScroll,null,this.props.pages.length>0?n.default.createElement("ul",{key:"pages-container",className:"pages-container-inner"},i.default.map(this.props.pages,e=>n.default.createElement("li",{key:"li-".concat(e.id),className:"page-container"},n.default.createElement(r.default,{id:e.id,title:e.title,info:e.info,typeSymbol:e.typeSymbol,permissionSymbol:e.permissionSymbol,mountInRenameMode:this.props.renamedItemId===e.id,actions:e.actions,biEvent:this.props.biEvent,biCategory:this.props.biCategory,renameEnabled:this.props.renameEnabled,isSelected:this.props.selectedPageId===e.id,onClick:this.handleClickItem})))):null,this.props.emptyStateUrl?n.default.createElement(p.PlatformPanelApplicationFrame,{token:this.generatePanelToken(),key:"emptyStatePanel",url:this.props.emptyStateUrl,initialData:this.props.initialData,panelClass:"appEmptyState"}):null)),e?n.default.createElement("footer",{key:"add-container",className:"add-container"},n.default.createElement(l.default.Button,{onClick:this.props.onClickAdd,className:"add-button"},n.default.createElement(d.symbol,{name:"addPage"}),n.default.createElement("span",null,this.props.titleAdd))):null)}i=a.__importDefault(i),n=a.__importDefault(n),s=a.__importDefault(s),o=a.__importStar(o),l=a.__importDefault(l),d=a.__importStar(d),r=a.__importDefault(r),p=a.__importStar(p);class g extends n.default.Component{constructor(e){super(e),this.handleClickItem=e=>{this.props.navigateTo(e)}}generatePanelToken(){return o.tokenService.generatePanelToken(this.props.appDefinitionId)}render(){return c.call(this)}}return g.displayName="PagesView",g.propTypes={title:s.default.string.isRequired,onClose:s.default.func.isRequired,onHelp:s.default.func.isRequired,navigateTo:s.default.func.isRequired,pages:s.default.arrayOf(s.default.shape({id:s.default.string.isRequired,title:s.default.string.isRequired,info:s.default.string,actions:s.default.arrayOf(s.default.shape({title:s.default.string.isRequired,onClick:s.default.func.isRequired,symbolName:s.default.string.isRequired,isRename:s.default.bool})),typeSymbol:s.default.string,permissionSymbol:s.default.string})).isRequired,selectedPageId:s.default.string,titleAdd:s.default.string,onClickAdd:s.default.func,onShowSettings:s.default.func,renamedItemId:s.default.string,renameEnabled:s.default.bool.isRequired,biEvent:s.default.func.isRequired,biCategory:s.default.string.isRequired},g}.apply(t,i))||(e.exports=n)},2:function(e,t){e.exports=a},26:function(e,t){e.exports=h},270:function(e,t){e.exports=y},3:function(e,t){e.exports=i},4:function(e,t){e.exports=n},467:function(e,t,a){var i,n;i=[a,t,a(0),a(60)],void 0===(n=function(e,t,a,i){"use strict";i=a.__importDefault(i);return{getMenuTabNameIfApplicable:(e,t,a,n,s)=>"CUSTOM_MAIN_MENU"===t?s?i.default.MAIN_MENU.flatMenuTitle:i.default.MAIN_MENU.title:a===e?i.default.MEMBERS_MENU.title:n,getHelpIdForMenu:(e,t,a,n)=>"CUSTOM_MAIN_MENU"===e?n?i.default.MAIN_MENU.helpId:i.default.MAIN_MENU.mobileHelpId:t===a?n?i.default.MEMBERS_MENU.helpId:i.default.MEMBERS_MENU.mobileHelpId:i.default.MENUS.helpId}}.apply(t,i))||(e.exports=n)},6:function(e,t){e.exports=s},60:function(e,t,a){var i,n;i=[a,t,a(0),a(1),a(2),a(13)],void 0===(n=function(e,t,a,i,n,s){"use strict";return i=a.__importDefault(i),s=a.__importDefault(s),{MAIN_MENU:{id:"CUSTOM_MAIN_MENU",title:n.translate("NewPages_Panel_Left_SiteMenu_Label"),flatMenuTitle:n.translate("NewPages_QuickNav_Site_Pages_Label"),helpId:"8278a5f6-119c-412e-8b01-4bd0955cb307",mobileHelpId:"1aeed4d9-19a1-44b7-beec-7bc38a9d4d99",group:"menus"},MEMBERS_MENU:{id:"MEMBERS_SUB_MENU",title:n.translate("NewPages_Panel_Left_MembersMenu_Label"),helpId:"ab4d4af2-0a5a-4ad9-93fe-dbf42f22d2ca",mobileHelpId:"8fa70d57-3d09-4f0b-a966-7ef2475e3f1b",group:"menus"},MENUS:{id:"MENUS",group:"menus",helpId:"8278a5f6-119c-412e-8b01-4bd0955cb307",biCategory:"custom menu",getBiCategory:e=>i.default.includes(["CUSTOM_MAIN_MENU","MEMBERS_SUB_MENU"],e)?e:"CUSTOM_MENU",titleAdd:n.translate("NewPages_Panel_AddPage_Button")},SPECIAL_PAGES:{group:"special_pages",getBiCategory:(e,t)=>{if(e===t)return"members"}},APPLICATION_PAGES:{group:"application_pages"},MEMBERS_PAGES:{helpId:"7710f007-cbdb-4b77-bb8b-fd4d65424ab1"},TPA_PAGES:{id:"TPA_PAGES",group:"tpa_pages",titleAdd:n.translate("NewPages_Panel_AddPage_Button"),getBiCategory:e=>"tpa_".concat(e)},DYNAMIC_PAGES_INTRO:{id:"DYNAMIC_PAGES_INTRO",helpId:"4d88ab53-0157-47aa-9c19-0d5762fcb82b",title:s.default.isOpen("specs.wixCode.ContentifyDataTerminology")?"NewPages_Panel_Left_DynamicPage_Label_CM":"NewPages_Panel_Left_DynamicPage_Label",group:"dynamic_pages",biCategory:"dynamic_page_intro"},DYNAMIC_PAGES:{id:"DYNAMIC_PAGES",helpId:"1e76f0cc-531a-45b3-bfe0-8907cf391fca",mobileHelpId:"4eda8656-f16f-4ddd-9c80-4b80eef09686",group:"dynamic_pages",biCategory:"router"},ROUTER_PAGES:{id:"ROUTER_PAGES",helpId:"aa6cebfb-a948-4767-bb0e-a60cb8fa9146",mobileHelpId:"4b873e86-b218-4589-b84b-8070c775f3c4",group:"dynamic_pages",biCategory:"router"},SIGNUP:{id:"SIGNUP",title:"NewPages_Panel_Signup_Title",biCategory:"signup",helpId:"e8c26342-9c6b-4f7d-ae71-8e105009724b"},POPUPS:{id:"POPUPS",title:"POPUPS_SiteStructure_Panel_Popups",helpId:"24659a21-11c8-41e1-9752-5822677154a0",mobileHelpId:"05438eeb-262a-49e0-a59b-dfda242c5609",group:"popups",biCategory:"lightbox",titleAdd:n.translate("POPUPS_SiteStructure_Panel_Button_Add")},TRANSITIONS:{id:"TRANSITIONS",title:"NewPages_Panel_Transitions_Title",group:"transitions",biCategory:"transitions"}}}.apply(t,i))||(e.exports=n)},64:function(e,t){e.exports=P},7:function(e,t){e.exports=o},8:function(e,t){e.exports=l},9:function(e,t){e.exports=d}})}));
//# sourceMappingURL=pages.min.js.map