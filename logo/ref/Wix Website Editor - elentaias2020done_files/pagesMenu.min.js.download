define("pagesMenu",["tslib","lodash","util","react","prop-types","create-react-class","constants","stateManagement","wix-base-ui","baseUI","santa-editor-symbols","core","coreBi","experiment","santa-core-utils","platform","react-addons-linked-state-mixin","react-dom-factories"],(function(e,t,a,i,s,n,l,o,r,d,u,p,c,g,m,f,_,h){return function(e){var t={};function a(i){if(t[i])return t[i].exports;var s=t[i]={i:i,l:!1,exports:{}};return e[i].call(s.exports,s,s.exports,a),s.l=!0,s.exports}return a.m=e,a.c=t,a.d=function(e,t,i){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)a.d(i,s,function(t){return e[t]}.bind(null,s));return i},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=1914)}({0:function(t,a){t.exports=e},1:function(e,a){e.exports=t},10:function(e,t){e.exports=u},11:function(e,t){e.exports=p},12:function(e,t){e.exports=c},13:function(e,t){e.exports=g},137:function(e,t,a){var i;void 0===(i=function(e,t){"use strict";return Object.freeze({USI_SEO_MAX_LENGTH:35,NAME_MAX_LENGTH:40,TITLE_SEO_MAX_LENGTH:70,KEYWORD_SEO_MAX_LENGTH:250,KEYWORD_SEO_MAX_WORDS:10,DESCRIPTION_SEO_MAX_LENGTH:160,PASSWORD_TEMPLATE:"########",PASSWORD_MAX_LENGTH:15,INVALID_CHARACTERS:'[!#$%^&()+=}{";:\\/><~\\]\\[]',PERMISSION_STATES:{NONE:"none",PASSWORD:"password",MEMBERS:"members"}})}.apply(t,[a,t]))||(e.exports=i)},138:function(e,t,a){var i,s;i=[a,t,a(0),a(11)],void 0===(s=function(e,t,a,i){"use strict";return{mixins:[(i=a.__importStar(i)).mixins.editorAPIMixin],getPageData(){return this.props.pageData||this.props.menuItem.pageData},getPageId(){const e=this.getPageData();return e?e.id:null},getValueFromPageData(e){const t=this.getPageData();return t&&t[e]},linkPageProperty(e){const t=this.getPageId(),a=this.getEditorAPI(),i={};return{value:this.getValueFromPageData(e),requestChange(s){a.history.add("page property change"),i[e]=s,a.pages.data.update(t,i)}}},linkInversePageProperty(e){const t=this.getPageId(),a=this.getEditorAPI(),i={};return{value:!this.getValueFromPageData(e),requestChange(s){i[e]=!s,a.pages.data.update(t,i)}}}}}.apply(t,i))||(e.exports=s)},17:function(e,t){e.exports=m},1914:function(e,t,a){var i,s;i=[a,t,a(0),a(482),a(483),a(1915),a(81),a(196),a(271),a(137),a(484),a(1916),a(1922),a(1928),a(1929),a(1930),a(495),a(494)],void 0===(s=function(e,t,a,i,s,n,l,o,r,d,u,p,c,g,m,f,_,h){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i=a.__importDefault(i),s=a.__importDefault(s),n=a.__importDefault(n),l=a.__importDefault(l),o=a.__importDefault(o),r=a.__importDefault(r),d=a.__importDefault(d),u=a.__importDefault(u),p=a.__importDefault(p),c=a.__importDefault(c),g=a.__importDefault(g),m=a.__importDefault(m),f=a.__importDefault(f),_=a.__importDefault(_),h=a.__importDefault(h),t.pageItem=i.default,t.nodeContentCommon=s.default,t.pageMenuItemHelpers=l.default;const P={desktop:{mainMenu:p.default,subpage:c.default},mobile:{mainMenu:g.default,subpage:m.default}};t.settingsPanels=P;const E={nodeContentUniversalRenderer:n.default};t.mixedList=E;const b={quickActionRenameMixin:u.default};t.mixins=b;const S={convertPageNameToUrl:o.default.convertPageNameToUrl,quickActions:r.default,constants:d.default};t.utils=S;const I={menuLogic:f.default,blog:_.default,tpa:h.default};t.specialPages=I}.apply(t,i))||(e.exports=s)},1915:function(e,t,a){var i,s;i=[a,t,a(0),a(5),a(4),a(11),a(1),a(484),a(3),a(483),a(81),a(271),a(2),a(9),a(10)],void 0===(s=function(e,t,a,i,s,n,l,o,r,d,u,p,c,g,m){"use strict";function f(){const e=this.props.dataSource,t=e.pageData?e.pageData.id:e.id,a=c.translate,i=this.getEditorAPI();return r.default.createElement(d.default,Object.assign({},this.getNodeContentProps()),r.default.createElement(g.dropDown.contextMenu,{toggleIcon:!1,shouldTranslate:!1,onChange:this.actionSelectedHandler,onNotificationClick:p.default.hasNotification(i,t)?this.props.onNotificationClick:void 0,notificationCount:1,icon:"moreRegular",className:"quick-actions action-button"},r.default.createElement(g.dropDown.option,{value:"settings"},r.default.createElement("div",{className:"svg-container"},r.default.createElement(m.symbol,{name:"quickActionsSettings"})),r.default.createElement("span",{className:"qa-label"},a("Pages_Actions_Page_Settings"))),r.default.createElement(g.dropDown.option,{value:"rename"},r.default.createElement("div",{className:"svg-container"},r.default.createElement(m.symbol,{name:"quickActionsRename"})),r.default.createElement("span",{className:"qa-label"},a("Pages_Actions_Page_Rename"))),u.default.canUnhide(this.getEditorAPI(),e)?r.default.createElement(g.dropDown.option,{key:"unhideOption",value:"unhide"},r.default.createElement("div",{className:"svg-container"},r.default.createElement(m.symbol,{name:"quickActionsShow"})),r.default.createElement("span",{className:"qa-label"},a("Pages_Actions_Page_Unhide"))):null,u.default.canHide(this.getEditorAPI(),e)?r.default.createElement(g.dropDown.option,{key:"hideOption",value:"hide"},r.default.createElement("div",{className:"svg-container"},r.default.createElement(m.symbol,{name:"quickActionsHide"})),r.default.createElement("span",{className:"qa-label"},a("Pages_Actions_Page_Hide"))):null,u.default.canRemoveMenuItem(this.getEditorAPI(),e)?r.default.createElement(g.dropDown.option,{key:"removeOption",value:"remove"},r.default.createElement("div",{className:"svg-container"},r.default.createElement(m.symbol,{name:"qaDelete"})),r.default.createElement("span",{className:"qa-label"},a("Pages_Actions_Page_Delete"))):null))}function _(){return r.default.createElement(d.default,Object.assign({},this.getNodeContentProps()),r.default.createElement("a",{href:"javascript://settings",onClick:()=>{this.props.onActionSelected("settings",this.props.dataSource)},className:"action-button action-settings"},r.default.createElement(m.symbol,{name:"quickActionsSettings"})))}return i=a.__importDefault(i),s=a.__importDefault(s),n=a.__importStar(n),l=a.__importDefault(l),o=a.__importDefault(o),r=a.__importDefault(r),d=a.__importDefault(d),u=a.__importDefault(u),p=a.__importDefault(p),c=a.__importStar(c),g=a.__importStar(g),m=a.__importStar(m),i.default({displayName:"nodeContentUniversalRenderer",mixins:[n.mixins.editorAPIMixin,o.default],propTypes:{isBelongToSubmenu:s.default.bool.isRequired,dataSource:s.default.object.isRequired,onActionSelected:s.default.func.isRequired,editedPageIdLink:s.default.object,setSelected:s.default.func,isSelected:s.default.bool},getRenderFn(){return this.getEditorAPI().isMobileEditor()||this.props.isBelongToSubmenu?_:f},getNodeContentProps(){const e=this.getEditorAPI();let t;return t=!!this.props.isBelongToSubmenu||(e.isMobileEditor()?this.props.dataSource.isVisibleMobile:this.props.dataSource.isVisible),l.default.assign({},this.props,{isVisible:t,editorAPI:e})},render(){return this.getRenderFn().call(this)}})}.apply(t,i))||(e.exports=s)},1916:function(e,t,a){var i,s;i=[a,t,a(0),a(5),a(4),a(1),a(11),a(81),a(12),a(3),a(9),a(10),a(2),a(1917),a(1919),a(487)],void 0===(s=function(e,t,a,i,s,n,l,o,r,d,u,p,c,g,m,f){"use strict";return i=a.__importDefault(i),s=a.__importDefault(s),n=a.__importDefault(n),l=a.__importStar(l),o=a.__importDefault(o),r=a.__importStar(r),d=a.__importDefault(d),u=a.__importStar(u),p=a.__importStar(p),c=a.__importStar(c),g=a.__importDefault(g),m=a.__importDefault(m),f=a.__importDefault(f),i.default({mixins:[l.mixins.editorAPIMixin],setActiveTab(e){this.setState({activeTab:e}),this.getEditorAPI().bi.event(r.events.topbar.pages.top_bar_PAGES_settings_tab_click,{category:e})},getInitialState(){return{activeTab:this.props.activeTab||this.getDefaultTabName()}},componentWillReceiveProps(e){if(e.activeTab&&this.props.activeTab!==e.activeTab)this.setActiveTab(e.activeTab);else{const t=e.menuItem.pageData.id,a=this.props.menuItem.pageData.id;t!==a&&this.tryToPreserveSelectedTab(t,a)}},tryToPreserveSelectedTab(e,t){const a=this.getEditorAPI(),i=!!a.dsRead.routers.getRouterDataForPageIfExist(e),s=!!a.dsRead.routers.getRouterDataForPageIfExist(t);if(i&&!s||!i&&s)this.setActiveTab(this.getDefaultTabName(e));else if(i&&s){const t=this.getDynamicPageTabs(e);n.default.find(t,{title:this.state.activeTab})||this.setActiveTab(this.getDefaultTabName(e))}},getHelpId(){if(this.isDynamicPage()){const e=this.getDynamicPageTabs(this.props.menuItem.pageData.id),t=n.default.find(e,{title:this.state.activeTab});return t.helpId?t.helpId:"995c5103-5599-4725-9e4f-c6ae4a47bf35"}return"2f65df85-2eba-4b41-a9bf-2a841a5e5a53"},displayName:"pageSettingsDesktop",propTypes:{menuItem:s.default.object.isRequired,activeTab:s.default.string,actions:s.default.object,closeSettingsPanel:s.default.func.isRequired},render(){const e=c.translate;return d.default.createElement(f.default,{title:this.props.menuItem.label,closeSettingsPanel:this.props.closeSettingsPanel,helpId:this.getHelpId()},this.isDynamicPage()?null:d.default.createElement(m.default,Object.assign({key:"pageSettingsPanelTabs",setActiveTab:this.setActiveTab,selectedTab:this.state.activeTab,ref:"pageSettingsPanelTabs"},this.props)),this.isDynamicPage()?d.default.createElement(g.default,Object.assign({developerModeEnabled:this.isDeveloperModeEnabled(),tabs:this.getDynamicPageTabs(this.props.menuItem.pageData.id),key:"dynamicPageSettingsPanelTabs",setActiveTab:this.setActiveTab,selectedTab:this.state.activeTab,ref:"dynamicPageSettingsPanelTabs"},this.props)):null,d.default.createElement("footer",null,this.isDynamicPage()?null:d.default.createElement("div",{key:"pageSettingsControls",className:"page-settings-controls"},this.shouldShowDuplicateButton()?d.default.createElement("span",{key:"page-settings-controls-duplicate",onClick:this.duplicatePage,className:"duplicate"},d.default.createElement("span",null,d.default.createElement(p.symbol,{name:"duplicate"})),e("Pages_Settings_Footer_Duplicate")):null,this.shouldShowRemoveButton()?d.default.createElement("span",{key:"page-settings-controls-remove",onClick:this.deletePage,className:"remove"},d.default.createElement("span",null,d.default.createElement(p.symbol,{name:"pageDelete"})),e("Pages_Settings_Footer_Delete")):null),d.default.createElement(u.button,{label:"Pages_Settings_Footer_Done",onClick:this.doneClickHandler})))},shouldShowDuplicateButton(){return o.default.canDuplicate(this.getEditorAPI(),this.props.menuItem)},shouldShowRemoveButton(){return o.default.canRemoveMenuItem(this.getEditorAPI(),this.props.menuItem)},duplicatePage(){this.props.actions.duplicate(this.props.menuItem),this.getEditorAPI().bi.event(r.events.topbar.pages.top_bar_PAGES_settings_duplicate_page_click)},deletePage(){const e=this.props.menuItem,t=this.getEditorAPI();this.props.closeSettingsPanel("deletePage"),t.dsActions.waitForChangesApplied(n.default.partial(o.default.removeMenuItem,t,e)),t.bi.event(r.events.topbar.pages.top_bar_PAGES_settings_delete_page_click)},getDefaultTabName(e){if(e=e||n.default.get(this.props.menuItem.pageData,"id"),this.isDynamicPage(e)){const t=this.getDynamicPageTabs(e);return n.default.isEmpty(t)?"Page Info":t[0].title}return"page"},getDynamicPageTabs(e){return this.getEditorAPI().pages.dynamicPages.getDynamicPageActions(e,"pageSettings")},doneClickHandler(){this.props.closeSettingsPanel("done")},isDynamicPage(e){const t=this.getEditorAPI();return!!(e=e||n.default.get(this.props.menuItem.pageData,"id"))&&!!t.dsRead.routers.getRouterDataForPageIfExist(e)},isDeveloperModeEnabled(){return this.getEditorAPI().developerMode.isEnabled()}})}.apply(t,i))||(e.exports=s)},1917:function(e,t,a){var i,s;i=[a,t,a(0),a(3),a(5),a(4),a(9),a(26),a(1),a(11),a(1918),a(272),a(273)],void 0===(s=function(e,t,a,i,s,n,l,o,r,d,u,p,c){"use strict";return i=a.__importDefault(i),s=a.__importDefault(s),n=a.__importDefault(n),l=a.__importStar(l),o=a.__importStar(o),r=a.__importDefault(r),d=a.__importStar(d),u=a.__importDefault(u),p=a.__importDefault(p),c=a.__importDefault(c),s.default({mixins:[d.mixins.editorAPIMixin],displayName:"dynamicPageSettingsPanelTabs",propTypes:{menuItem:n.default.object.isRequired,selectedTab:n.default.string,setActiveTab:n.default.func.isRequired,tabs:n.default.array.isRequired},render(){return i.default.createElement("div",null,i.default.createElement(l.tabs.holder,{value:this.props.selectedTab,onChange:e=>{this.props.setActiveTab(e)},className:"top page-settings-tabs dynamic-page-settings-tabs"},i.default.createElement(l.tabs.header,null,r.default.map(this.props.tabs,(e,t)=>i.default.createElement(l.tabs.label,{tabsAmount:this.props.tabs.length,key:e.title+t,htmlFor:e.title},e.title))),i.default.createElement(l.tabs.content,{className:"page-settings-panel-content"},r.default.map(this.props.tabs,(e,t)=>i.default.createElement(l.tabs.tab,{key:t,name:e.title,children:this.getTabContent(e,t)})))))},componentWillMount(){const e=this.getEditorAPI(),t=e.components.get.byId(this.props.menuItem.pageData.id);if(t){const a=e.dsRead.routers.getRouterRef.byPage(t);this.routerData=a?e.dsRead.routers.get.byRef(a):""}else this.routerData=""},getInitialState:()=>({iframeLoaded:!1}),shouldComponentUpdate(e){const t=this.getEditorAPI(),a=t.components.get.byId(this.props.menuItem.pageData.id);if(a){const e=t.dsRead.routers.getRouterRef.byPage(a),i=e?t.dsRead.routers.get.byRef(e):"";if(!r.default.isEqual(i,this.routerData))return this.routerData=i,!0}else this.routerData="";return this.props.developerModeEnabled!==e.developerModeEnabled||!!(this.props.menuItem.pageData.id!==e.menuItem.pageData.id||e.selectedTab&&this.props.selectedTab!==e.selectedTab)},getPostMessageHandler(e){const t=this.getEditorAPI(),a=t.components.get.byId(this.props.menuItem.pageData.id),i={routerRef:t.dsRead.routers.getRouterRef.byPage(a),publicUrl:t.dsRead.generalInfo.getPublicUrl(),pageRef:a,origin:"dynamic_page_settings_panel_tab"};return o.platformPostMessageService.createPostMessageListener({token:e,initialData:i},e)},getAppData(){const e=this.getEditorAPI(),t=e.components.get.byId(this.props.menuItem.pageData.id),a=e.dsRead.routers.getRouterRef.byPage(t);if(a){const t=e.dsRead.routers.get.byRef(a);return{appDefId:t.appDefinitionId,applicationId:r.default.get(e.dsRead.platform.getAppDataByAppDefId(t.appDefinitionId),"applicationId")}}},getIframeFullSrc(e,t,a){const i=this.getEditorAPI().dsRead.platform.getAppDataByAppDefId(t);return o.utils.getFullApplicationUrl(i,e,t,a)},iframeLoadedHandler(){},getTabContent(e,t){const a=o.constants,s=this.state.iframeLoaded?"content-iframe loaded":"content-iframe";if(r.default.isObject(e)&&e.url){const a=this.getEditorAPI(),n=[a.dsRead.platform.editorApps.DYNAMIC_PAGES.appDefId,a.dsRead.platform.editorApps.DATA_BINDING.appDefId],o=this.getAppData();return r.default.includes(n,o.appDefId)&&!this.props.developerModeEnabled?i.default.createElement(u.default,r.default.assign({},this.props,{key:"dynamic-page-default-tab".concat(this.props.menuItem.pageData.id).concat(t).concat(o.appDefId)})):i.default.createElement(l.iframe,r.default.assign({},this.props,{key:"dynamic-page-iframe".concat(this.props.menuItem.pageData.id).concat(t).concat(o.appDefId),ref:"dynamic-page-iframe".concat(this.props.menuItem.pageData.id).concat(o.appDefId),className:s,appData:o,name:this.props.token,src:this.getIframeFullSrc(e.url,o.appDefId,o.applicationId),onPostMessage:this.getPostMessageHandler(this.props.token),onLoad:this.iframeLoadedHandler}))}switch(e.type){case a.pages.page_settings.layout.type:case a.pages.page_settings.layout.fallbackType:return i.default.createElement(p.default,r.default.assign({},this.props,{menuItem:this.props.menuItem,key:"tab-layout".concat(t).concat(this.props.menuItem.pageData.id)}));case a.pages.page_settings.permissions.type:case a.pages.page_settings.permissions.fallbackType:return i.default.createElement(c.default,r.default.assign({},this.props,{pageData:this.props.menuItem.pageData,key:"tab-premissions".concat(t).concat(this.props.menuItem.pageData.id)}))}}})}.apply(t,i))||(e.exports=s)},1918:function(e,t,a){var i,s;i=[a,t,a(0),a(3),a(8),a(2)],void 0===(s=function(e,t,a,i,s,n){"use strict";var l;return i=a.__importDefault(i),s=a.__importDefault(s),(l=class extends i.default.Component{render(){return i.default.createElement("div",{className:"tab tab-dynamic-page-no-dev-node"},i.default.createElement(s.default.CustomScroll,null,i.default.createElement("div",{className:n.cx({"tab-inner":!0})},i.default.createElement(s.default.Composites.RichTextLabeled,null,i.default.createElement(s.default.TextLabel,{type:"T06",value:n.translate("PLATFORM_PAGE_SETTINGS_DEVTOOLS_DISABLED_TITLE"),shouldTranslate:!1}),i.default.createElement(s.default.RichText,null,i.default.createElement("p",null,n.translate("Platform_Page_Settings_DevTools_Disabled_Paragraph1")),i.default.createElement("p",null,n.translate("Platform_Page_Settings_DevTools_Disabled_Paragraph2")))))))}}).displayName="dynamicPageSettingsNoDevMode",l}.apply(t,i))||(e.exports=s)},1919:function(e,t,a){var i,s;i=[a,t,a(0),a(4),a(3),a(9),a(2),a(1920),a(272),a(273),a(1921)],void 0===(s=function(e,t,a,i,s,n,l,o,r,d,u){"use strict";var p;return i=a.__importDefault(i),s=a.__importDefault(s),n=a.__importStar(n),l=a.__importStar(l),o=a.__importDefault(o),r=a.__importDefault(r),d=a.__importDefault(d),u=a.__importDefault(u),(p=class extends s.default.Component{render(){const e=l.translate;return s.default.createElement("div",null,s.default.createElement(n.tabs.holder,{value:this.props.selectedTab,onChange:e=>{this.props.setActiveTab(e)},className:"top page-settings-tabs"},s.default.createElement(n.tabs.header,null,s.default.createElement(n.tabs.label,{htmlFor:"page"},e("Pages_Info_Tab_Title")),s.default.createElement(n.tabs.label,{htmlFor:"layout"},e("Pages_Layouts_Tab_Title")),s.default.createElement(n.tabs.label,{htmlFor:"privacy"},e("Pages_Permissions_Tab_Title")),s.default.createElement(n.tabs.label,{htmlFor:"seo"},e("Pages_SEO_Tab_Title"))),s.default.createElement(n.tabs.content,{className:"page-settings-panel-content"},s.default.createElement(n.tabs.tab,{name:"page"},s.default.createElement(o.default,{menuItem:this.props.menuItem})),s.default.createElement(n.tabs.tab,{name:"layout"},s.default.createElement(r.default,{menuItem:this.props.menuItem})),s.default.createElement(n.tabs.tab,{name:"privacy"},s.default.createElement(d.default,{pageData:this.props.menuItem.pageData})),s.default.createElement(n.tabs.tab,{name:"seo",className:"seo"},s.default.createElement(u.default,{pageData:this.props.menuItem.pageData})))))}}).displayName="pageSettingsPanelTabs",p.propTypes={menuItem:i.default.object.isRequired,selectedTab:i.default.string,setActiveTab:i.default.func.isRequired},p}.apply(t,i))||(e.exports=s)},1920:function(e,t,a){var i,s;i=[a,t,a(0),a(5),a(4),a(81),a(138),a(12),a(3),a(9),a(10),a(2),a(137),a(8)],void 0===(s=function(e,t,a,i,s,n,l,o,r,d,u,p,c,g){"use strict";return i=a.__importDefault(i),s=a.__importDefault(s),n=a.__importDefault(n),l=a.__importDefault(l),o=a.__importStar(o),r=a.__importDefault(r),d=a.__importStar(d),u=a.__importStar(u),p=a.__importStar(p),c=a.__importDefault(c),g=a.__importDefault(g),i.default({displayName:"tabPageInfoMainMenu",mixins:[l.default],render(){const e=p.translate,t=this.isHomePage();return r.default.createElement(g.default.CustomScroll,null,r.default.createElement("div",{className:"page-info tab-inner"},r.default.createElement("section",{className:"section-page-title"},r.default.createElement(d.textInput,{label:"Pages_Info_Name_Title",maxLength:c.default.NAME_MAX_LENGTH,validator:[p.validate.notEmptyString,p.validate.noHTMLTags],invalidMessage:"Pages_Info_Name_Error_Tooltip",value:this.getValueFromPageData("title"),onChange:this.onChange,validateOnBlurOnly:!0,infoText:"Pages_Info_Name_Tooltip",className:"control-text-input"})),r.default.createElement("section",{className:"section-hide-page"},r.default.createElement(g.default.ToggleSwitch,{value:this.linkPageProperty("hidePage").value,label:"Pages_Info_Hide_Toggle",onChange:this.linkPageProperty("hidePage").requestChange})),t?null:r.default.createElement("section",{key:"page-settings-tab-page-non-home",className:"page-settings-control-description"},r.default.createElement("span",null,e("Pages_Info_Home_NotSelected")),r.default.createElement(d.button,{icon:"settingsHome",label:"Pages_Info_Home_Set",onClick:this.setAsHomepage})),t?r.default.createElement("section",{key:"page-settings-tab-page-home",className:"page-settings-control-description"},r.default.createElement("span",null,r.default.createElement(u.symbol,{name:"settingsHome"}),e("Pages_Info_Home_IsSelected")),r.default.createElement(d.infoIcon,{uniqueId:"changeHomePageTooltip",title:"Pages_Info_Home_Popup_Title",text:"Pages_Info_Home_Popup_Text",className:"page-settings-change-homepage-tooltip"})):null))},propTypes:{menuItem:s.default.object.isRequired},setAsHomepage(){const e=this.getEditorAPI();e.homePage.set(this.getPageId()),e.bi.event(o.events.topbar.pages.top_bar_PAGES_settings_page_info_home_page_change_set_click)},onChange(e){n.default.renamePage(this.getEditorAPI(),this.props.menuItem.pageData,e)},isHomePage(){return!(!this.props.menuItem.pageData||!this.props.menuItem.pageData.id)&&this.getEditorAPI().pages.isHomePage(this.props.menuItem.pageData.id)}})}.apply(t,i))||(e.exports=s)},1921:function(e,t,a){var i,s;i=[a,t,a(0),a(27),a(1),a(5),a(4),a(2),a(138),a(196),a(13),a(12),a(3),a(9),a(485),a(81),a(137),a(486),a(8),a(10),a(2)],void 0===(s=function(e,t,a,i,s,n,l,o,r,d,u,p,c,g,m,f,_,h,P,E,b){"use strict";function S(e,t){const a=[{callback:o.validate.notEmptyString,message:"Pages_Info_URL_Error_Tooltip"},{callback:o.validate.byInvalidCharacters(o.validationExpressions.invalidUrlCharacters),message:"Pages_Info_URL_Error_Tooltip"}];return e.dsRead.generalInfo.urlFormat.isSlash()?a.concat([{callback:s.default.negate(e.pages.data.pageUriSEO.isForbidden.bind(null,t)),message:"Pages_Info_Forbidden_URI_SEO_Error_Tooltip"},{callback:s.default.negate(e.pages.data.pageUriSEO.isDuplicate.bind(null,t)),message:"Pages_Info_Duplicate_URI_SEO_Error_Tooltip"}]):a}return i=a.__importDefault(i),s=a.__importDefault(s),n=a.__importDefault(n),l=a.__importDefault(l),o=a.__importStar(o),r=a.__importDefault(r),d=a.__importDefault(d),u=a.__importDefault(u),p=a.__importStar(p),c=a.__importDefault(c),g=a.__importStar(g),m=a.__importDefault(m),f=a.__importDefault(f),_=a.__importDefault(_),h=a.__importDefault(h),P=a.__importDefault(P),E=a.__importStar(E),n.default({displayName:"tabSEO",mixins:[r.default,i.default],render(){return c.default.createElement("div",{className:"tab tab-seo"},c.default.createElement(P.default.CustomScroll,null,c.default.createElement("div",{className:b.cx({"seo-google":!0,"tab-inner":!0,"google-preview-expanded":this.state.isGooglePreviewExpanded})},c.default.createElement("section",{key:"seo-section-seo-wiz",className:"seo-section-seo-wiz"},c.default.createElement("div",{className:"seo-section-seo-wiz-inner-div"},c.default.createElement(P.default.Composites.RichTextWithIllustration,null,c.default.createElement(P.default.Illustration,null,c.default.createElement(E.symbol,{name:"getFoundOnGoogle"})),c.default.createElement(P.default.Composites.RichTextLabeled,null,c.default.createElement(P.default.TextLabel,{value:"Pages_SEO_Wizard_Title",type:"T03"}),c.default.createElement(P.default.RichText,null,c.default.createElement("p",null,o.translate("Pages_SEO_Wizard_Description")," ",c.default.createElement("a",{href:this.getWixSEOWizURL(),target:"_blank",onClick:this.reportSeoWizardLinkClicked},o.translate("Pages_SEO_Wizard_Button_Label")))))))),c.default.createElement("section",{className:"seo-section-title"},c.default.createElement(g.textInput,{label:"Pages_SEO_Title_Caption",placeholder:"Pages_SEO_Title_Placeholder",maxLength:_.default.TITLE_SEO_MAX_LENGTH,validator:[o.validate.noHTMLTags,o.validate.noEmoji],invalidMessage:"Pages_SEO_Title_Error_Tooltip",valueLink:this.linkGooglePreviewProperty("pageTitleSEO"),infoText:"Pages_SEO_Title_Tooltip",onBlur:this.onPagesSEOTitleBlur,className:"control-text-input"})),c.default.createElement("section",{className:"seo-section-description"},c.default.createElement(g.textInput,{isMultiLine:!0,label:"Pages_SEO_Description_Caption",placeholder:"Pages_SEO_Description_Placeholder",maxLength:_.default.DESCRIPTION_SEO_MAX_LENGTH,validator:[o.validate.noHTMLTags,o.validate.noEmoji],invalidMessage:"Pages_SEO_Description_Error_Tooltip",valueLink:this.linkGooglePreviewProperty("descriptionSEO"),infoText:"Pages_SEO_Description_Tooltip",onBlur:this.onPagesSEODescBlur,className:"control-text-input"})),c.default.createElement("section",null,c.default.createElement(P.default.ToggleSwitch,{value:!this.getValueFromPageData("indexable"),label:"Pages_SEO_Hide_Toggle",onChange:this.onHidePageChanged})),u.default.isOpen("se_newPageSEOSection")?null:c.default.createElement("section",{key:"section-page-address",className:"seo-section-page-address-old"},c.default.createElement(g.textInput,{label:"Pages_Info_Address_Title",maxLength:_.default.USI_SEO_MAX_LENGTH,validator:this.getPageUriSEOValidators(),invalidMessage:this.getPageUriSEOInvalidMessages(),valueLink:this.linkUrlProperty("pageUriSEO"),onBlur:this.onPageAddressBlur,infoText:"Pages_Info_Address_Tooltip",className:"control-text-input"}),c.default.createElement("span",{className:"page-address-prefix"},"https://www.../"),this.getEditorAPI().dsRead.generalInfo.isSitePublished()?c.default.createElement("a",{key:"page-web-address",href:f.default.getPublicUrl(this.getEditorAPI(),this.props.pageData),onClick:this.onGoToUrlClicked,target:"_blank"},c.default.createElement(g.button,{label:"Pages_SEO_Goto_URL",className:"btn-text"})):null,this.isUriSEOTranslated()?c.default.createElement("span",{key:"googleAttribution",className:"translated-by"},o.translate("Pages_Info_URL_Popup_Google")," ",c.default.createElement(g.symbol,{name:"google-logo"})):null),c.default.createElement("section",{key:"seo_tab_keywords_bottom",className:"seo-section-keywords"},c.default.createElement(g.textInput,{label:"Pages_SEO_Keywords_Caption",placeholder:"Pages_SEO_Keywords_Placeholder",maxLength:_.default.KEYWORD_SEO_MAX_LENGTH,validator:[o.validate.rangeOfWords(0,_.default.KEYWORD_SEO_MAX_WORDS,","),o.validate.noEmoji],invalidMessage:"Pages_SEO_Keywords_Error_Tooltip",valueLink:this.linkPageProperty("metaKeywordsSEO"),infoText:"Pages_SEO_Keywords_New_Tooltip",validateOnBlurOnly:!0,onBlur:this.onPagesSEOKeywordsBlur,className:"control-text-input"})),u.default.isOpen("se_newPageSEOSection")?c.default.createElement(h.default,{key:"seoTabPageAddressSection",pageData:this.props.pageData,shouldShowLinkToPage:!0}):null)),c.default.createElement(m.default,{isExpandedLink:this.linkState("isGooglePreviewExpanded"),pageData:this.props.pageData}))},propTypes:{pageData:l.default.object.isRequired},getInitialStateFromPageData:()=>({isGooglePreviewExpanded:!1}),getInitialState(){return this.getInitialStateFromPageData()},componentWillReceiveProps(e){this.props.pageData.id!==e.pageData.id&&this.setState(this.getInitialStateFromPageData())},componentWillMount(){this.debouncedUpdateEditorAPI=s.default.debounce((function(e,t,a){e.pages.data.update(t,a)}),20),this.seoInfo={pageTitleSEO:this.getValueFromPageData("pageTitleSEO"),pageDescSeo:this.getValueFromPageData("descriptionSEO"),pageKeywordsSEO:this.getValueFromPageData("metaKeywordsSEO")}},linkGooglePreviewProperty(e){const t=this.props.pageData.id,a=this.getEditorAPI(),i={};return{value:this.getValueFromPageData(e),requestChange:function(s){this.state.isGooglePreviewExpanded||this.setState({isGooglePreviewExpanded:!0}),i[e]=s,this.debouncedUpdateEditorAPI(a,t,i)}.bind(this)}},onPagesSEOTitleBlur(){const e=this.seoInfo.pageTitleSEO,t=this.getValueFromPageData("pageTitleSEO");if(t!==e){const e=this.getEditorAPI();e.bi.event(p.events.topbar.pages.top_bar_PAGES_settings_seo_title_set,{field:"page title"}),e.history.add("SEO title updated"),this.seoInfo.pageTitleSEO=t}},onPageAddressBlur(){const e=this.seoInfo.pageUriSEO,t=this.getValueFromPageData("pageUriSEO");if(t!==e){const e=this.getEditorAPI();e.bi.event(p.events.topbar.pages.top_bar_PAGES_settings_seo_title_set,{field:"page url"}),e.history.add("SEO address updated"),this.seoInfo.pageUriSEO=t}},onPagesSEODescBlur(){const e=this.seoInfo.pageDescSeo,t=this.getValueFromPageData("descriptionSEO");if(t!==e){const e=this.getEditorAPI();e.bi.event(p.events.topbar.pages.top_bar_PAGES_settings_seo_description_set),e.history.add("SEO description updated"),this.seoInfo.pageDescSeo=t}},onPagesSEOKeywordsBlur(){const e=this.seoInfo.pageKeywordsSEO,t=this.getValueFromPageData("metaKeywordsSEO");if(t!==e){const e=this.getEditorAPI();e.bi.event(p.events.topbar.pages.top_bar_PAGES_settings_seo_keywords_set),e.history.add("SEO keywords updated"),this.seoInfo.pageKeywordsSEO=t}},linkUrlProperty(e){const t=this.getPageId(),a=this.getEditorAPI(),i={},s=a.dsRead.generalInfo.urlFormat.isSlash()?a.pages.data.pageUriSEO:d.default;return{value:this.getValueFromPageData(e),requestChange:function(n){i[e]=n&&s.convertPageNameToUrl(n),this.debouncedUpdateEditorAPI(a,t,i)}.bind(this)}},isUriSEOTranslated(){const e=this.getValueFromPageData("translationData");return u.default.isOpen("urlFormatGoogleTranslate")&&e&&e.uriSEOTranslated},getPageUriSEOValidators(){const e=S(this.getEditorAPI(),this.getPageId());return s.default.map(e,"callback")},getPageUriSEOInvalidMessages(){const e=S(this.getEditorAPI(),this.getPageId());return s.default.map(e,"message")},getWixSEOWizURL(){return this.getEditorAPI().account.getWixSEOWizURL("EDITOR_PAGES")},reportSeoWizardLinkClicked(){this.getEditorAPI().bi.event(p.events.topbar.pages.top_bar_PAGES_settings_seo_wiz_lets_go_click)},onGoToUrlClicked(){this.getEditorAPI().bi.event(p.events.topbar.pages.top_bar_PAGES_settings_seo_go_to_url_click)},onHidePageChanged(e){const t=this.getEditorAPI(),a=this.getPageId(),i={indexable:!e};this.debouncedUpdateEditorAPI(t,a,i),t.bi.event(p.events.topbar.pages.top_bar_PAGES_settings_hide_page_clicked,{title:this.getPageData().title,toggle:e})}})}.apply(t,i))||(e.exports=s)},1922:function(e,t,a){var i,s;i=[a,t,a(0),a(5),a(4),a(1),a(11),a(81),a(12),a(3),a(9),a(1923),a(487)],void 0===(s=function(e,t,a,i,s,n,l,o,r,d,u,p,c){"use strict";return i=a.__importDefault(i),s=a.__importDefault(s),n=a.__importDefault(n),l=a.__importStar(l),o=a.__importDefault(o),r=a.__importStar(r),d=a.__importDefault(d),u=a.__importStar(u),p=a.__importDefault(p),c=a.__importDefault(c),i.default({mixins:[l.mixins.editorAPIMixin],displayName:"pageSettingsDesktopSubpage",propTypes:{menuItem:s.default.object.isRequired,actions:s.default.object,closeSettingsPanel:s.default.func.isRequired},render(){return d.default.createElement(c.default,{title:this.props.menuItem.label,closeSettingsPanel:this.props.closeSettingsPanel,helpId:"2f65df85-2eba-4b41-a9bf-2a841a5e5a53"},d.default.createElement(p.default,Object.assign({ref:"pageSettingsPanelTabs"},this.props)),d.default.createElement("footer",null,d.default.createElement(u.button,{label:"Pages_Settings_Footer_Done",onClick:()=>{this.props.closeSettingsPanel("done")}})))},shouldShowDuplicateButton(){return o.default.canDuplicate(this.getEditorAPI(),this.props.menuItem)},shouldShowRemoveButton(){return o.default.canRemoveMenuItem(this.getEditorAPI(),this.props.menuItem)},duplicatePage(){this.props.actions.duplicate(this.props.menuItem),this.getEditorAPI().bi.event(r.events.topbar.pages.top_bar_PAGES_settings_duplicate_page_click)},deletePage(){const e=this.props.menuItem,t=this.getEditorAPI();this.props.closeSettingsPanel("deletePage"),t.dsActions.waitForChangesApplied(n.default.partial(o.default.remove,t,e)),t.bi.event(r.events.topbar.pages.top_bar_PAGES_settings_delete_page_click)}})}.apply(t,i))||(e.exports=s)},1923:function(e,t,a){var i,s;i=[a,t,a(0),a(5),a(4),a(11),a(12),a(3),a(9),a(8),a(2),a(489),a(1924),a(490),a(1925),a(1926),a(1927),a(491),a(492),a(272),a(273),a(81)],void 0===(s=function(e,t,a,i,s,n,l,o,r,d,u,p,c,g,m,f,_,h,P,E,b,S){"use strict";return i=a.__importDefault(i),s=a.__importDefault(s),n=a.__importStar(n),l=a.__importStar(l),o=a.__importDefault(o),r=a.__importStar(r),d=a.__importDefault(d),u=a.__importStar(u),p=a.__importDefault(p),c=a.__importDefault(c),g=a.__importDefault(g),m=a.__importDefault(m),f=a.__importDefault(f),_=a.__importDefault(_),h=a.__importDefault(h),P=a.__importDefault(P),E=a.__importDefault(E),b=a.__importDefault(b),S=a.__importDefault(S),i.default({displayName:"pageSettingsPanelTabsSubpage",mixins:[n.mixins.editorAPIMixin],propTypes:{menuItem:s.default.object.isRequired,actions:s.default.object},render(){const e=this.props.menuItem.pageData,t=u.translate,a=this.getEditorAPI(),i=n.utils.blogTypeUtils.isBlog(this.getEditorAPI(),this.props.menuItem.pageData),s=n.utils.wixStoreTypeUtils,l=s.isWixStoreProductPage(e),I=s.isWixStoreCartPage(e),D=s.isWixStoreThankYouPage(e),y=this.getSiteName(),v=S.default.getPublicUrl(a,e);return o.default.createElement("div",null,o.default.createElement(r.tabs.holder,{value:this.state.activeTab,onChange:e=>{this.setActiveTab(e)},className:"top page-settings-tabs"},o.default.createElement(r.tabs.header,null,o.default.createElement(r.tabs.label,{htmlFor:"page"},t("Pages_Info_Tab_Title")),o.default.createElement(r.tabs.label,{htmlFor:"layout"},t("Pages_Layouts_Tab_Title")),o.default.createElement(r.tabs.label,{htmlFor:"privacy"},t("Pages_Permissions_Tab_Title")),o.default.createElement(r.tabs.label,{htmlFor:"seo"},t("Pages_SEO_Tab_Title"))),o.default.createElement(r.tabs.content,{className:"page-settings-panel-content"},o.default.createElement(r.tabs.tab,{name:"page",className:"wixapps-subpage"},o.default.createElement(d.default.CustomScroll,null,i?o.default.createElement(p.default,Object.assign({key:"page-settings-tab-page-blog"},this.props)):null,l?o.default.createElement(g.default,Object.assign({key:"page-settings-tab-page-tpa-product"},this.props)):null,I?o.default.createElement(h.default,Object.assign({key:"page-settings-tab-page-tpa-cart"},this.props)):null,D?o.default.createElement(P.default,Object.assign({key:"page-settings-tab-page-tpa-thank-you"},this.props)):null)),o.default.createElement(r.tabs.tab,{name:"layout"},o.default.createElement(E.default,{menuItem:this.props.menuItem})),o.default.createElement(r.tabs.tab,{name:"privacy"},o.default.createElement(b.default,{pageData:e})),o.default.createElement(r.tabs.tab,{name:"seo",className:"wixapps-subpage"},o.default.createElement(d.default.CustomScroll,null,i?o.default.createElement(c.default,{key:"page-settings-tab-seo-blog-single-post",siteName:y,publicUrl:v,menuItem:this.props.menuItem}):null,l?o.default.createElement(m.default,{key:"page-settings-tab-seo-tpa-product",siteName:y,publicUrl:v}):null,D?o.default.createElement(f.default,{key:"page-settings-tab-seo-tpa-thank-you"}):null,I?o.default.createElement(_.default,{key:"page-settings-tab-seo-tpa-cart"}):null)),"--\x3e")))},getInitialState:()=>({activeTab:"page"}),setActiveTab(e){this.setState({activeTab:e}),this.getEditorAPI().bi.event(l.events.topbar.pages.top_bar_PAGES_settings_tab_click,{category:e})},getSiteName(){const e=this.getEditorAPI();return e.dsRead.seo.title.get()||e.siteName.get()}})}.apply(t,i))||(e.exports=s)},1924:function(e,t,a){var i,s;i=[a,t,a(0),a(3),a(2),a(486),a(485),a(13),a(2)],void 0===(s=function(e,t,a,i,s,n,l,o,r){"use strict";var d;return i=a.__importDefault(i),s=a.__importStar(s),n=a.__importDefault(n),l=a.__importDefault(l),o=a.__importDefault(o),(d=class extends i.default.Component{render(){const e=s.translate;return i.default.createElement("div",{className:"seo-google tab-inner"},i.default.createElement("p",{className:"title"},e("Pages_Blog_Post_SEO_Title")),i.default.createElement(l.default,{isExpanded:!0,shouldHideExpandingButton:!0,pageData:this.props.menuItem.pageData,previewDescriptionText:e("Pages_Blog_Post_SEO_Placeholder"),title:"".concat(e("Pages_Blog_Post_SEO_Preview")," | ").concat(this.props.siteName)}),o.default.isOpen("se_blogChangeSinglePostPageName")?i.default.createElement(n.default,{key:"blogSeoTabChangePageName",pageData:this.props.menuItem.pageData,inputFocusTooltipMessage:"SEO_URL_Changing_Warning",className:r.cx({"blog-seo-setting":!0})}):null)}}).displayName="blogSinglePostSeo",d}.apply(t,i))||(e.exports=s)},1925:function(e,t,a){var i,s;i=[a,t,a(0),a(3),a(2)],void 0===(s=function(e,t,a,i,s){"use strict";var n;return i=a.__importDefault(i),s=a.__importStar(s),(n=class extends i.default.Component{render(){const e=s.translate;return i.default.createElement("div",{className:"seo-google tab-inner"},i.default.createElement("p",{className:"title"},e("Pages_Store_Product_SEO_Title")),i.default.createElement("div",{className:"google-preview"},i.default.createElement("p",{className:"google-preview-title"},i.default.createElement("span",{className:"google-preview-title-site-name"},"".concat(this.props.siteName," | ")),i.default.createElement("span",null,e("Pages_Store_Product_SEO_Preview"))),i.default.createElement("p",{className:"google-preview-url"},this.props.publicUrl.replace(/#!.*/,"#!product-title")),i.default.createElement("p",{className:"google-preview-description"},e("Pages_Store_Product_SEO_Placeholder"))))}}).displayName="tpaProductPageSeo",n}.apply(t,i))||(e.exports=s)},1926:function(e,t,a){var i,s;i=[a,t,a(0),a(3),a(2)],void 0===(s=function(e,t,a,i,s){"use strict";var n;return i=a.__importDefault(i),s=a.__importStar(s),(n=class extends i.default.Component{render(){const e=s.translate;return i.default.createElement("div",{className:"seo-google tab-inner empty"},i.default.createElement("p",null,e("Pages_Store_Cart_SEO_Text")),i.default.createElement("p",null,i.default.createElement("span",null,"".concat(e("Pages_Store_Thankyou_Tracking_Text")," ")),i.default.createElement("a",{href:"https://support.wix.com/en/article/tracking-sales-in-wix-stores-using-your-thank-you-page-url",target:"_blank"},e("Pages_Store_Thankyou_Tracking_Link"))))}}).displayName="tpaThankYouPageSeo",n}.apply(t,i))||(e.exports=s)},1927:function(e,t,a){var i,s;i=[a,t,a(0),a(3),a(2)],void 0===(s=function(e,t,a,i,s){"use strict";var n;return i=a.__importDefault(i),s=a.__importStar(s),(n=class extends i.default.Component{render(){const e=s.translate;return i.default.createElement("div",{className:"seo-google tab-inner empty"},i.default.createElement("p",null,e("Pages_Store_Cart_SEO_Text")))}}).displayName="tpaCartPageSeo",n}.apply(t,i))||(e.exports=s)},1928:function(e,t,a){var i,s;i=[a,t,a(0),a(3),a(43),a(5),a(4),a(1),a(10),a(11),a(6),a(2),a(9),a(26),a(12),a(81),a(8),a(493)],void 0===(s=function(e,t,a,i,s,n,l,o,r,d,u,p,c,g,m,f,_,h){"use strict";return i=a.__importDefault(i),s=a.__importDefault(s),n=a.__importDefault(n),l=a.__importDefault(l),o=a.__importDefault(o),r=a.__importStar(r),d=a.__importStar(d),u=a.__importDefault(u),p=a.__importStar(p),c=a.__importStar(c),g=a.__importStar(g),m=a.__importStar(m),f=a.__importDefault(f),_=a.__importDefault(_),h=a.__importDefault(h),n.default({mixins:[d.mixins.editorAPIMixin],displayName:"pageSettingsMobile",propTypes:{menuItem:l.default.object.isRequired,actions:l.default.object,isDeveloperModeEnabled:l.default.bool,closeSettingsPanel:l.default.func.isRequired,token:l.default.string},render(){return i.default.createElement("div",null,this.isDynamicPage()?null:i.default.createElement(h.default,{key:"regular-page-mobile-settings",title:this.props.menuItem.label,closeSettingsPanel:this.props.closeSettingsPanel},i.default.createElement(_.default.CustomScroll,null,i.default.createElement("div",{className:"page-info tab-inner page-settings-mobile-common-page"},i.default.createElement("section",null,i.default.createElement(_.default.ToggleSwitch,{value:!this.props.menuItem.isVisibleMobile,label:this.getMobileVisibilityContent(),onChange:this.changeMobileVisibility,shouldTranslate:!1})),i.default.createElement("section",{className:"hidden-from-desktop"},this.props.menuItem.isVisible?i.default.createElement("span",{key:"page-settings-mobile-visible"},i.default.createElement(r.symbol,{name:"desktopVisible"}),i.default.createElement("span",{className:"label"},p.translate("Pages_Mobile_Settings_IsVisible"))):null,this.props.menuItem.isVisible?null:i.default.createElement("span",{key:"page-settings-mobile-hidden"},i.default.createElement(r.symbol,{name:"desktopHidden"}),i.default.createElement("span",{className:"label"},p.translate("Pages_Mobile_Settings_IsHidden"))))))),this.isDynamicPage()&&this.shouldShowDynamicPageSettings()?i.default.createElement(h.default,{key:"dynamic-page-mobile-settings",title:this.props.menuItem.label,closeSettingsPanel:this.props.closeSettingsPanel},i.default.createElement(_.default.CustomScroll,null,i.default.createElement("div",{className:"page-info tab-inner page-settings-mobile-common-page"},this.props.isDeveloperModeEnabled?i.default.createElement(_.default.Composites.RichTextLabeled,{key:"title-dev-mode-enabled"},i.default.createElement(_.default.TextLabel,{type:"T06",value:p.translate("Platform_Page_Settings_Mobile_View_DevTools_Enabled_Title"),shouldTranslate:!1}),i.default.createElement(_.default.RichText,null,p.translate("Platform_Page_Settings_Mobile_View_DevTools_Enabled_Text"))):null,this.props.isDeveloperModeEnabled?null:i.default.createElement(_.default.Composites.RichTextLabeled,{key:"title-dev-mode-not-enabled"},i.default.createElement(_.default.TextLabel,{type:"T06",value:p.translate("Platform_Page_Settings_Mobile_View_DevTools_Disabled_Title"),shouldTranslate:!1}),i.default.createElement(_.default.RichText,null,i.default.createElement("div",null,p.translate("Platform_Page_Settings_Mobile_View_DevTools_Disabled_Text")),i.default.createElement("br",null),i.default.createElement("div",null,p.translate("Platform_Page_Settings_Mobile_View_DevTools_Disabled_Text2"))))))):null,this.isDynamicPage()&&!this.shouldShowDynamicPageSettings()?i.default.createElement(h.default,{key:"dynamic-page-mobile-settings",title:this.props.menuItem.label,closeSettingsPanel:this.props.closeSettingsPanel},i.default.createElement(c.tabs.tab,{children:this.getAppTabContent()})):null)},getMobileIconProps(){return this.props.menuItem.isVisibleMobile?{name:"mobileVisible",className:"mobileVisible",key:"visible"}:{name:"mobileHidden",className:"mobileHidden",key:"hidden"}},getMobileVisibilityContent(){return s.default.div({className:"toggle-with-icon"},s.default.span(null,i.default.createElement(r.symbol,this.getMobileIconProps())),s.default.span({className:"label"},p.translate("Pages_Mobile_Settings_Hide")))},changeMobileVisibility(e){f.default.setHidden(this.getEditorAPI(),this.props.menuItem,void 0,e),this.getEditorAPI().bi.event(m.events.topbar.pages.top_bar_PAGES_settings_hide_from_mobile_done_click,{category:e?"hide":"show"})},isDynamicPage(){const e=this.getEditorAPI();return!!this.props.menuItem.pageData&&!!e.dsRead.routers.getRouterDataForPageIfExist(this.props.menuItem.pageData.id)},shouldShowDynamicPageSettings(){const e=this.getEditorAPI(),t=[e.dsRead.platform.editorApps.DYNAMIC_PAGES.appDefId,e.dsRead.platform.editorApps.DATA_BINDING.appDefId],a=this.getAppData();return o.default.includes(t,a.appDefId)},getAppMobileTabs(e){return this.getEditorAPI().pages.dynamicPages.getDynamicPageActions(e,"pageSettings")},getAppData(){const e=this.getEditorAPI(),t=e.components.get.byId(this.props.menuItem.pageData.id),a=e.dsRead.routers.getRouterRef.byPage(t);if(a){const t=e.dsRead.routers.get.byRef(a);return{appDefId:t.appDefinitionId,applicationId:o.default.get(e.dsRead.platform.getAppDataByAppDefId(t.appDefinitionId),"applicationId")}}},getIframeFullSrc(e,t,a){const i=this.getEditorAPI().dsRead.platform.getAppDataByAppDefId(t);return g.utils.getFullApplicationUrl(i,e,t,a)},iframeLoadedHandler(){},getPostMessageHandler(){const e=this.getEditorAPI(),t=e.components.get.byId(this.props.menuItem.pageData.id),a={routerRef:e.dsRead.routers.getRouterRef.byPage(t),publicUrl:e.dsRead.generalInfo.getPublicUrl(),pageRef:t,origin:"dynamic_page_settings_panel_tab"};return g.platformPostMessageService.createPostMessageListener({token:this.props.token,initialData:a},this.props.token)},getAppTabContent(){if(this.isDynamicPage()&&!this.shouldShowDynamicPageSettings()){const e=this.getAppData(),t=this.getAppMobileTabs(this.props.menuItem.pageData.id),a=o.default.find(t,{type:u.default.PAGE_SETTINGS_TABS.PAGE_INFO});return i.default.createElement(c.iframe,o.default.assign({},{menuItem:this.props.menuItem},{key:"dynamic-page-iframe".concat(this.props.menuItem.pageData.id).concat(e.appDefId),ref:"dynamic-page-iframe".concat(this.props.menuItem.pageData.id).concat(e.appDefId),className:"content-iframe",appData:e,name:this.props.token,src:this.getIframeFullSrc(a.url,e.appDefId,e.applicationId),onPostMessage:this.getPostMessageHandler(this.props.token),onLoad:this.iframeLoadedHandler}))}}})}.apply(t,i))||(e.exports=s)},1929:function(e,t,a){var i,s;i=[a,t,a(0),a(5),a(4),a(11),a(3),a(8),a(489),a(490),a(491),a(492),a(493)],void 0===(s=function(e,t,a,i,s,n,l,o,r,d,u,p,c){"use strict";return i=a.__importDefault(i),s=a.__importDefault(s),n=a.__importStar(n),l=a.__importDefault(l),o=a.__importDefault(o),r=a.__importDefault(r),d=a.__importDefault(d),u=a.__importDefault(u),p=a.__importDefault(p),c=a.__importDefault(c),i.default({mixins:[n.mixins.editorAPIMixin],displayName:"pageSettingsMobileSubpage",propTypes:{menuItem:s.default.object.isRequired,actions:s.default.object,closeSettingsPanel:s.default.func.isRequired},render(){const e=this.props.menuItem.pageData,t=n.utils.blogTypeUtils,a=n.utils.wixStoreTypeUtils,i=this.getEditorAPI();return l.default.createElement(c.default,{title:this.props.menuItem.label,closeSettingsPanel:this.props.closeSettingsPanel},l.default.createElement(o.default.CustomScroll,null,l.default.createElement("div",{className:"wixapps-subpage"},t.isBlog(i,e)?l.default.createElement(r.default,Object.assign({key:"page-settings-mobile-blog-single-post"},this.props)):null,a.isWixStoreProductPage(e)?l.default.createElement(d.default,Object.assign({key:"page-settings-mobile-tpa-product-page"},this.props)):null,a.isWixStoreCartPage(e)?l.default.createElement(u.default,Object.assign({key:"page-settings-mobile-tpa-cart-page"},this.props)):null,a.isWixStoreThankYouPage(e)?l.default.createElement(p.default,Object.assign({key:"page-settings-mobile-tpa-thank-you-page"},this.props)):null)))}})}.apply(t,i))||(e.exports=s)},1930:function(e,t,a){var i,s;i=[a,t,a(0),a(1),a(11),a(494),a(495)],void 0===(s=function(e,t,a,i,s,n,l){"use strict";i=a.__importDefault(i),s=a.__importStar(s),n=a.__importDefault(n),l=a.__importDefault(l);const o=s.utils,r=o.blogTypeUtils.isBlog,d=o.tpaTypeUtils.isTPA;return{isSpecialPage:(e,t)=>o.blogTypeUtils.isBlogSpecialPage(t)||o.tpaTypeUtils.isTPASpecialPage(e.dsRead,t)||o.dynamicTypeUtils.isDynamicPage(e,t),isSubPageMenuItem(e,t){return this.isSpecialPage(e,t)&&!o.tpaTypeUtils.isPageNotVisibleInPagesMenu(e.dsRead,t)},getSectionPagesIds(e,t){const a=n.default.getSectionPagesDataList(e,t),s=l.default.getSectionPagesDataList(e,t);return i.default.union(i.default.map(a,"id"),i.default.map(s,"id"))},getSpecialPagesListBySectionPageOrBySibling(e,t,a){if(t){if(r(e,t))return function(e,t){return l.default.getSpecialPagesDataList(e,t||e.dsRead.pages.getPagesData())}(e,a);if(d(t))return function(e,t,a){return n.default.getSpecialPagesDataListByTPAId(e,t,a)}(e,t.tpaApplicationId,a)}return[]}}}.apply(t,i))||(e.exports=s)},196:function(e,t,a){var i,s;i=[a,t,a(0),a(1),a(2)],void 0===(s=function(e,t,a,i,s){"use strict";function n(e,t){return i.default.isUndefined(n.cache[t])&&(n.cache[t]=e.dsRead.pages.isContainsCompWithType(t,e.dsRead.tpa.constants.COMP_TYPES.TPA_MULTI_SECTION)),n.cache[t]}function l(e,t){return i.default.isUndefined(l.cache[t])&&(l.cache[t]=!n(e,t)),l.cache[t]}function o(e,t){return i.default.isUndefined(o.cache[t])&&(o.cache[t]=e.pages.isDuplicable(t)),o.cache[t]}return i=a.__importDefault(i),s=a.__importStar(s),n.cache={},l.cache={},o.cache={},{canRemove:l,canDuplicate:o,isTPASectionSubPage:n,convertPageNameToUrl:function(e){const t=e.replace(/\s/g,"-");return s.validate.byInvalidCharacters(s.validationExpressions.invalidUrlCharacters)(t)?t.toLowerCase():"blank"}}}.apply(t,i))||(e.exports=s)},2:function(e,t){e.exports=a},26:function(e,t){e.exports=f},27:function(e,t){e.exports=_},271:function(e,t,a){var i,s;i=[a,t,a(0),a(7)],void 0===(s=function(e,t,a,i){"use strict";function s(e){return"quick-actions-notification-".concat(e)}function n(e,t,a){const n=s(t);e.store.dispatch(i.default.editorPlugins.userPreferences.actions.setSessionUserPreferences(n,a))}return i=a.__importDefault(i),{hasNotification:function(e,t){const a=s(t);return i.default.editorPlugins.userPreferences.selectors.getSessionUserPreferences(a)(e.store.getState())},turnNotificationOn:function(e,t){n(e,t,!0)},turnNotificationOff:function(e,t){n(e,t,!1)}}}.apply(t,i))||(e.exports=s)},272:function(e,t,a){var i,s;i=[a,t,a(0),a(5),a(4),a(6),a(138),a(3),a(9),a(10),a(2),a(8)],void 0===(s=function(e,t,a,i,s,n,l,o,r,d,u,p){"use strict";return i=a.__importDefault(i),s=a.__importDefault(s),n=a.__importDefault(n),l=a.__importDefault(l),o=a.__importDefault(o),r=a.__importStar(r),d=a.__importStar(d),u=a.__importStar(u),p=a.__importDefault(p),i.default({displayName:"tabLayout",mixins:[l.default],propTypes:{menuItem:s.default.object.isRequired},openLearnMore(){const e={panel_name:"tab_layout",origin:n.default.BI.HELP.ORIGIN.PAGES,learn_more:!0};this.getEditorAPI().panelManager.openHelpCenter("97778018-fd88-4953-8be3-d994a1637882",null,e)},render(){const e=u.translate;return o.default.createElement(p.default.CustomScroll,null,o.default.createElement("div",{className:"layout tab-inner"},o.default.createElement(r.tabs.holder,{valueLink:this.linkPageProperty("isLandingPage"),className:"left radio"},o.default.createElement(r.tabs.header,null,o.default.createElement(r.tabs.label,{htmlFor:!1},o.default.createElement(d.symbol,{name:"layoutStandardSelected"}),o.default.createElement(d.symbol,{name:"layoutStandardNotSelected"}),o.default.createElement("div",null,o.default.createElement("h3",null,e("Pages_Layouts_Standard_Title")),o.default.createElement("p",null,e("Pages_Layouts_Standard_Text")))),o.default.createElement(r.tabs.label,{htmlFor:!0},o.default.createElement(d.symbol,{name:"layoutLandingSelected"}),o.default.createElement(d.symbol,{name:"layoutLandingNotSelected"}),o.default.createElement("div",null,o.default.createElement("h3",null,e("Pages_Layouts_Landing_Title")),o.default.createElement("p",null,e("Pages_Layouts_Landing_Text"),o.default.createElement("br",null),o.default.createElement(r.button,{label:"Pages_Layouts_Landing_Learn",onClick:this.openLearnMore,className:"btn-text"}))))))))}})}.apply(t,i))||(e.exports=s)},273:function(e,t,a){var i,s;i=[a,t,a(0),a(5),a(1),a(2),a(137),a(12),a(138),a(3),a(9),a(8)],void 0===(s=function(e,t,a,i,s,n,l,o,r,d,u,p){"use strict";i=a.__importDefault(i),s=a.__importDefault(s),n=a.__importStar(n),l=a.__importDefault(l),o=a.__importStar(o),r=a.__importDefault(r),d=a.__importDefault(d),u=a.__importStar(u),p=a.__importDefault(p);const c=function(e,t,a,i){e.pages.data.update(t,{pageSecurity:a}),function(e,t,a){e.bi.event(o.events.topbar.pages.top_bar_PAGES_settings_privacy_changed,{privacy:a,page_id:t})}(e,t,i)},g=function(e,t){e.pages.permissions.removePassword(t)};return i.default({displayName:"tabPermissions",mixins:[r.default],getInitialState(){return this.getInitialPageState()},componentWillReceiveProps(e){e.pageData.id!==this.state.pageId&&this.setState(this.getInitialPageState())},getInitialPageState(){return{focusedProtectionType:this.getInitialProtectionType(),passwordDialogLanguage:this.getInitialLanguage(),membersDialogLanguage:this.getInitialLanguage(),pageId:this.props.pageData.id,isNewValidPasswordInserted:!1,passwordInputType:"password",plainPassword:""}},getInitialProtectionType(){return s.default.get(this.props,"pageData.pageSecurity").requireLogin?l.default.PERMISSION_STATES.MEMBERS:this.isPageProtectedWithPassword()?l.default.PERMISSION_STATES.PASSWORD:l.default.PERMISSION_STATES.NONE},isPageProtectedWithPassword(){return!s.default.isEmpty(s.default.get(this.props,"pageData.pageSecurity.passwordDigest"))||(e=this.getEditorAPI(),t=this.props.pageData.id,e.pages.permissions.hasPassword(t));var e,t},savePageSecurityData(){const e=this.props.pageData.id,t=s.default.partialRight(c,this.state.focusedProtectionType);switch(this.state.focusedProtectionType){case l.default.PERMISSION_STATES.NONE:t(this.getEditorAPI(),e,{requireLogin:!1}),g(this.getEditorAPI(),e);break;case l.default.PERMISSION_STATES.PASSWORD:this.state.isNewValidPasswordInserted&&function(e,t,a){e.pages.permissions.updatePassword(t,a)}(this.getEditorAPI(),e,this.state.plainPassword),(this.state.isNewValidPasswordInserted||this.isPageProtectedWithPassword())&&t(this.getEditorAPI(),e,{requireLogin:!1,dialogLanguage:this.state.passwordDialogLanguage});break;case l.default.PERMISSION_STATES.MEMBERS:t(this.getEditorAPI(),e,{requireLogin:!0,dialogLanguage:this.state.membersDialogLanguage}),g(this.getEditorAPI(),e)}},setFocusedProtectionType(e){this.setState({focusedProtectionType:e},this.savePageSecurityData)},isSiteSaved(){return!this.getEditorAPI().dsRead.generalInfo.isFirstSave()},getSiteMembersUrl(){return"//www.wix.com/my-account/sites/"+this.getEditorAPI().dsRead.generalInfo.getMetaSiteId()+"/contacts/?tag=contacts-site_members_approved"},getInitialLanguage(){const e=this.getEditorAPI().dsRead.generalInfo.getLanguage(),t=s.default.get(this.props,"pageData.pageSecurity.dialogLanguage");return s.default.isEmpty(t)?e:t},isValidPassword(e){const t=n.validate.byInvalidCharacters(l.default.INVALID_CHARACTERS);return n.validate.notEmpty(e)&&t(e)},isPasswordHidden(){return"password"===this.state.passwordInputType},shouldShowPasswordMockElement(){return this.isPasswordHidden()&&s.default.isEmpty(this.state.plainPassword)&&this.isPageProtectedWithPassword()},onPasswordBlur(e){const t=e.target.value;this.setState({plainPassword:t,isNewValidPasswordInserted:this.isValidPassword(t),passwordInputType:"password"},this.savePageSecurityData)},onPasswordFocus(){"text"!==this.state.passwordInputType&&this.setState({passwordInputType:"text"})},setDialogLanguage(e,t){const a={};a[e]=t,this.setState(a,this.savePageSecurityData),this.getEditorAPI().bi.event(o.events.topbar.pages.top_bar_PAGES_settings_privacy_language_selected_click,{language_selected:t,category:this.state.focusedProtectionType})},getDialogLanguageLink(e){return{value:this.state[e],requestChange:function(t){this.state[e]!==t&&this.setDialogLanguage(e,t)}.bind(this)}},getTabFocusLink(){return{value:this.state.focusedProtectionType,requestChange:function(e){this.state.focusedProtectionType!==e&&this.setFocusedProtectionType(e)}.bind(this)}},openSiteMembersSettingsPanel(){this.getEditorAPI().panelManager.openPanel("panels.focusPanels.siteMembersSettingsPanel",{panelName:"panels.focusPanels.siteMembersSettingsPanel"},!0)},render(){const e=n.translate;return d.default.createElement(p.default.CustomScroll,null,d.default.createElement("div",{className:"privacy tab-inner page-settings-permissions-tab"},d.default.createElement(u.tabs.holder,{valueLink:this.getTabFocusLink(),className:"left radio"},d.default.createElement(u.tabs.header,null,d.default.createElement(u.tabs.label,{htmlFor:l.default.PERMISSION_STATES.NONE},d.default.createElement("h4",null,e("Pages_Permissions_NoRestrict_Title")),d.default.createElement("span",null,e("Pages_Permissions_NoRestrict_Text"))),d.default.createElement(u.tabs.label,{htmlFor:"password"},d.default.createElement("h4",null,e("Pages_Permissions_Password_Title")),d.default.createElement("span",null,e("Pages_Permissions_Password_Text")),this.state.focusedProtectionType===l.default.PERMISSION_STATES.PASSWORD?d.default.createElement("div",{key:"page-settings-tab-privacy-password",className:"password-settings-content"},d.default.createElement("hr",{className:"separator-permissions-password"}),d.default.createElement(p.default.Composites.TextInputLabeled,null,d.default.createElement(p.default.TextLabel,{value:"Pages_Permissions_Password_Choose"}),this.shouldShowPasswordMockElement()?d.default.createElement(p.default.TextInput,{key:"passwordMockElement",onClick:this.onPasswordFocus,value:l.default.PASSWORD_TEMPLATE,type:"password"}):null,this.shouldShowPasswordMockElement()?null:d.default.createElement(p.default.TextInput,{key:"realPasswordElement",focus:!this.isPasswordHidden(),onFocus:this.onPasswordFocus,onBlur:this.onPasswordBlur,value:this.state.plainPassword,type:this.state.passwordInputType,placeholder:"Pages_Permissions_Password_Placeholder",maxLength:l.default.PASSWORD_MAX_LENGTH,validator:this.isValidPassword,invalidMessage:"Pages_Permissions_Password_Error_Tooltip"})),d.default.createElement("hr",{className:"separator-permissions-password-language"}),d.default.createElement(u.dropDown.select,{valueLink:this.getDialogLanguageLink("passwordDialogLanguage"),label:"Pages_Permissions_Password_Language",tabIndex:1,className:"control-permissions-password-language"},s.default.map(n.languages.getLanguagesList(),e=>d.default.createElement(u.dropDown.option,{shouldTranslate:!1,key:e.value,value:e.value},e.label)))):null),d.default.createElement(u.tabs.label,{htmlFor:l.default.PERMISSION_STATES.MEMBERS},d.default.createElement("h4",null,e("Pages_Permissions_Members_Title")),d.default.createElement("span",null,e("Pages_Permissions_Members_Text")),this.state.focusedProtectionType===l.default.PERMISSION_STATES.MEMBERS?d.default.createElement("div",{key:"page-settings-tab-privacy-member"},d.default.createElement("p",{className:"site-members-info"},e("Pages_Permissions_Members_Link"),this.isSiteSaved()?d.default.createElement("a",{key:"page-settings-tab-privacy-member-url",href:this.getSiteMembersUrl(),target:"_blank"},d.default.createElement(u.button,{label:"Pages_Permissions_Members_Link_Clickhere",className:"btn-text"})):null,this.isSiteSaved()?null:d.default.createElement("span",{key:"page-settings-tab-privacy-member-non-url"},e("Pages_Permissions_Members_Link_Clickhere"))),d.default.createElement("hr",{className:"separator-site-members-info"}),d.default.createElement(u.dropDown.select,{valueLink:this.getDialogLanguageLink("membersDialogLanguage"),label:"Pages_Permissions_Members_Language",tabIndex:2,className:"control-permissions-member-language"},s.default.map(n.languages.getLanguagesList(),e=>d.default.createElement(u.dropDown.option,{shouldTranslate:!1,key:e.value,value:e.value},e.label))),d.default.createElement("hr",{className:"separator-permissions-member-language"}),d.default.createElement("div",{key:"smSettingsPanelBtn",className:"site-members-settings"},d.default.createElement(u.symbol,{name:"site-members"}),d.default.createElement("a",{onClick:this.openSiteMembersSettingsPanel,className:"link"},e("Pages_Permissions_Member_Signup_Settings_Label")),d.default.createElement(u.infoIcon,{text:"Pages_Permissions_Member_Signup_Settings_Tooltip"}))):null)))))}})}.apply(t,i))||(e.exports=s)},3:function(e,t){e.exports=i},4:function(e,t){e.exports=s},43:function(e,t){e.exports=h},482:function(e,t,a){var i,s;i=[a,t,a(0),a(3),a(5),a(4),a(1),a(2),a(9),a(17),a(13),a(10),a(137),a(6),a(2)],void 0===(s=function(e,t,a,i,s,n,l,o,r,d,u,p,c,g,m){"use strict";function f(){const e=this.state.isEditMode;return i.default.createElement("div",{onClick:this.onClick,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,className:m.cx(this.getTopLevelClasses(this.quickActionsList.length))},e?null:i.default.createElement("div",{key:"pageInfo",onDoubleClick:this.onDoubleClick,className:"wrapper-view-mode"},this.shouldShowDragSymbol()?i.default.createElement(p.symbol,{name:"dragIcon",key:"drag-icon",dataHintMyData:"hint_my_data",className:"page-item-drag"}):null,i.default.createElement("span",{className:"page-title"},i.default.createElement("span",{className:"page-title-name"},this.props.label),this.props.isHome?i.default.createElement(p.symbol,{name:"pageItemHomeIcon",key:"isHome"}):null,this.props.isLink?i.default.createElement(p.symbol,{name:"pageItemLinkIcon",key:"isLink"}):null,this.props.isDropdown?i.default.createElement(p.symbol,{name:"pageItemDropdownIcon",key:"isDropDown"}):null,this.props.isVisible?null:i.default.createElement(p.symbol,{name:"pageItemHideIcon",key:"isHidden"}),this.props.isRouter?i.default.createElement(p.symbol,{name:"pageItemRouterIcon",key:"isRouter"}):null,this.props.routerType===g.default.ROUTER_TYPES.CUSTOM_ROUTER?i.default.createElement(p.symbol,{name:"pageItemCustomerRouterPageIcon",key:"isDynamicPageCustomRouter"}):null,this.props.routerType===g.default.ROUTER_TYPES.DATA_BINDING?i.default.createElement(p.symbol,{name:"pageItemDataBindingRouterPageIcon",key:"isDynamicPageDataBinding"}):null),this.shouldShowQuickActions()?i.default.createElement("ul",{key:"quickActions",className:"pages-quick-actions"},l.default.map(this.quickActionsList,(e,t)=>i.default.createElement("li",{key:"qAction".concat(t)},e))):null),e?i.default.createElement(r.textInputWithFixedButton,Object.assign({buttonLabel:"Pages_Actions_Rename_Button",key:"nameInput",maxLength:c.default.NAME_MAX_LENGTH,ref:"nameInput",selectOnFocus:!0,onOuterClick:this.handleOuterClick,shouldChangeOnOuterClick:!0,validator:this.validateName,invalidMessage:"Pages_Info_Name_Error_Tooltip"},this.getInputProps())):null)}return i=a.__importDefault(i),s=a.__importDefault(s),n=a.__importDefault(n),l=a.__importDefault(l),o=a.__importStar(o),r=a.__importStar(r),d=a.__importDefault(d),u=a.__importDefault(u),p=a.__importStar(p),c=a.__importDefault(c),g=a.__importDefault(g),s.default({displayName:"pageItem",propTypes:{label:n.default.string,value:n.default.string,onChange:n.default.func,isVisible:n.default.bool,isSelected:n.default.bool,onClick:n.default.func,depth:n.default.number,quickActionButtons:n.default.number,isHome:n.default.bool,isLink:n.default.bool,isDropdown:n.default.bool,isMobile:n.default.bool,isMobileVisible:n.default.bool,hasNotification:n.default.bool,editModeLink:n.default.object},mixins:[r.inputMixin,d.default.timersMixins.timeoutsMixin],getInitialState(){return{isEditMode:this.props.editModeLink&&this.props.editModeLink.value,hasMouseInside:!1,wasClicked:!1}},getTopLevelClasses(e){const t={"hidden-page":!this.props.isVisible,selected:this.props.isSelected,"has-notification":this.props.hasNotification,"edit-mode":this.state.isEditMode,"pages-tree-item":!0,"pages-tree-page-item-in-edit-mode":this.state.isEditMode,"disable-pages-drag":this.props.isMobile},a=this.props.isHome||this.props.isLink||this.props.isDropdown?1:0,i=this.props.isVisible?0:1;return t["icon-cnt-".concat(a+i)]=!0,t["depth-".concat(this.props.depth||0)]=!0,t["qa-".concat(e||0)]=!0,u.default.isOpen("pagesFirstTimeSteps")&&l.default.forEach(this.props.additionalClasses,(function(e){t[e]=!0})),t},getChildren(){const e=[];return i.default.Children.forEach(this.props.children,(function(t){t&&i.default.isValidElement(t)&&e.push(i.default.cloneElement(t))})),e},getInputProps(){return l.default.omit(this.props,"label","isVisible","isSelected","onClick","isHome","isLink","isDropdown")},handleOuterClick(){this.props.editModeLink&&this.props.editModeLink.value&&this.props.editModeLink.requestChange(!1)},onDoubleClick(){this.props.isDynamicPage||this.props.isRouter||this.props.isSelected&&this.props.editModeLink&&!this.props.editModeLink.value&&this.props.editModeLink.requestChange(!0)},lastValidationMessage:null,validateName(e){return this.lastValidationMessage=o.validate.pageNameValidator(e),!this.lastValidationMessage},getLastValidationMessage(){return this.lastValidationMessage||""},render(){return this.quickActionsList=this.shouldShowQuickActions()?this.getChildren():[],f.call(this)},shouldShowQuickActions(){return(!this.props.isRouter||this.props.isRouter&&!this.props.isMobile)&&(this.state.hasMouseInside||this.props.isSelected||this.props.hasNotification)},shouldShowDragSymbol(){return!this.props.isDynamicPage&&!this.props.isRouter&&!this.props.isMobile},componentWillReceiveProps(e){this.setState({isEditMode:e.editModeLink&&e.editModeLink.value})},componentDidUpdate(e,t){this.state.isEditMode&&!t.isEditMode&&this.refs.nameInput.focusControl()},onMouseEnter(){this.setState({hasMouseInside:!0})},onMouseLeave(e){this.state.wasClicked||(l.default.isFunction(this.props.onMouseLeave)&&this.props.onMouseLeave(e),this.setState({hasMouseInside:!1})),this.setState({wasClicked:!1})},onClick(e){this.setState({wasClicked:!0}),this.props.onClick&&this.props.onClick(e)}})}.apply(t,i))||(e.exports=s)},483:function(e,t,a){var i,s;i=[a,t,a(0),a(4),a(1),a(3),a(482),a(271)],void 0===(s=function(e,t,a,i,s,n,l,o){"use strict";var r;return i=a.__importDefault(i),s=a.__importDefault(s),n=a.__importDefault(n),l=a.__importDefault(l),o=a.__importDefault(o),(r=class extends n.default.Component{constructor(){super(...arguments),this.onChange=e=>{this.props.onActionSelected&&this.props.onActionSelected("rename",this.props.dataSource,e),this.props.editedPageIdLink&&this.props.editedPageIdLink.requestChange(null)},this.editModeLink=()=>{const e=this.props.dataSource,t=this.props.editedPageIdLink;return{value:t&&t.value===e.id,requestChange(a){t&&t.requestChange(a?e.id:null)}}},this.onClick=e=>{this.props.setSelected(e),s.default.isFunction(this.props.onClick)&&this.props.onClick(e)}}render(){const e=this.props.dataSource;return n.default.createElement(l.default,Object.assign({ref:"pageItem",value:e.label,actions:this.props.actions,hasNotification:e.type.isPage&&o.default.hasNotification(this.props.editorAPI,e.pageData.id),onChange:this.onChange,onClick:this.onClick,isMobile:"MOBILE"===this.props.editorAPI.dsRead.viewMode.get(),onMouseLeave:this.props.onMouseLeave,onContextMenu:this.props.setSelected},{label:e.label,isVisible:this.props.isVisible,isSelected:this.props.isSelected,isHome:e.pageData&&this.props.editorAPI.pages.isHomePage(e.pageData.id),isPage:e.type.isPage,isLink:e.type.isLink,isDropdown:e.type.isDropdown,isDynamicPage:e.type.isDynamicPage,routerType:e.type.routerType,isRouter:e.type.isRouter,depth:this.props.nodePath?this.props.nodePath.length-1:0,editModeLink:this.editModeLink(),additionalClasses:s.default.has(e,"additionalClasses")?e.additionalClasses:[]}),this.props.children)}}).displayName="nodeContentCommon",r.propTypes={editorAPI:i.default.object.isRequired,dataSource:i.default.object.isRequired,onActionSelected:i.default.func,editedPageIdLink:i.default.object,setSelected:i.default.func,isVisible:i.default.bool,isSelected:i.default.bool,nodePath:i.default.array},r}.apply(t,i))||(e.exports=s)},484:function(e,t,a){var i;void 0===(i=function(e,t){"use strict";return{actionSelectedHandler(e){"rename"===e?this.props.editedPageIdLink.requestChange(this.props.dataSource.id):this.props.onActionSelected(e,this.props.dataSource)}}}.apply(t,[a,t]))||(e.exports=i)},485:function(e,t,a){var i,s;i=[a,t,a(0),a(27),a(5),a(4),a(138),a(3),a(2),a(10),a(81),a(2)],void 0===(s=function(e,t,a,i,s,n,l,o,r,d,u,p){"use strict";return i=a.__importDefault(i),s=a.__importDefault(s),n=a.__importDefault(n),l=a.__importDefault(l),o=a.__importDefault(o),r=a.__importStar(r),d=a.__importStar(d),u=a.__importDefault(u),s.default({displayName:"googlePreviewExpandable",mixins:[l.default,i.default],render(){const e=r.translate;return o.default.createElement("div",{className:p.cx({"google-preview":!0,expanded:this.isExpanded()})},this.props.shouldHideExpandingButton?null:o.default.createElement("div",{key:"google-seo-expand-button",onClick:()=>{this.openGooglePreview()},className:"google-preview-header"},o.default.createElement("div",{className:"google-preview-corner-container left"},o.default.createElement("div",{className:"google-preview-corner"})),o.default.createElement("div",{className:"google-preview-corner-container right"},o.default.createElement("div",{className:"google-preview-corner"})),o.default.createElement(d.symbol,{name:"equals"}),o.default.createElement(d.symbol,{name:"arrowDown"}),o.default.createElement("span",{className:"google-preview-header-title"},e("Pages_SEO_Preview_Caption")),o.default.createElement("div",{className:"google-preview-bottom-header-border"})),o.default.createElement("p",{className:"google-preview-title"},o.default.createElement("span",{className:"google-preview-title-site-name"},this.getTitle())),o.default.createElement("p",{className:"google-preview-url"},u.default.getPublicUrl(this.getEditorAPI(),this.props.pageData)),o.default.createElement("p",{className:"google-preview-description"},this.props.previewDescriptionText||this.getValueFromPageData("descriptionSEO")||e("Pages_SEO_Description_Placeholder")))},propTypes:{pageData:n.default.object.isRequired,isExpanded:n.default.bool,shouldHideExpandingButton:n.default.bool,isExpandedLink:n.default.object,previewDescriptionText:n.default.string},isExpanded(){return this.props.isExpanded||this.props.isExpandedLink.value},openGooglePreview(){this.props.isExpandedLink.requestChange(!this.props.isExpandedLink.value)},getTitle(){if(this.props.title)return this.props.title;const e=this.getEditorAPI();return this.getValueFromPageData("pageTitleSEO")?this.getValueFromPageData("pageTitleSEO"):(e.dsRead.seo.title.get()||e.siteName.get())+(e.pages.isHomePage(this.props.pageData.id)?"":" | ".concat(this.getValueFromPageData("title")))}})}.apply(t,i))||(e.exports=s)},486:function(e,t,a){var i,s;i=[a,t,a(0),a(27),a(1),a(5),a(4),a(2),a(138),a(196),a(13),a(3),a(9),a(81),a(137)],void 0===(s=function(e,t,a,i,s,n,l,o,r,d,u,p,c,g,m){"use strict";function f(e,t){const a=[{callback:o.validate.notEmptyString,message:"Pages_Info_URL_Error_Tooltip"},{callback:o.validate.emoji,message:"Pages_Info_URL_Error_Tooltip"},{callback:o.validate.byInvalidCharacters(o.validationExpressions.invalidUrlCharacters),message:"Pages_Info_URL_Error_Tooltip"}];return e.dsRead.generalInfo.urlFormat.isSlash()?a.concat([{callback:s.default.negate(e.pages.data.pageUriSEO.isForbidden.bind(null,t)),message:"Pages_Info_Forbidden_URI_SEO_Error_Tooltip"},{callback:s.default.negate(e.pages.data.pageUriSEO.isDuplicate.bind(null,t)),message:"Pages_Info_Duplicate_URI_SEO_Error_Tooltip"}]):a}return i=a.__importDefault(i),s=a.__importDefault(s),n=a.__importDefault(n),l=a.__importDefault(l),o=a.__importStar(o),r=a.__importDefault(r),d=a.__importDefault(d),u=a.__importDefault(u),p=a.__importDefault(p),c=a.__importStar(c),g=a.__importDefault(g),m=a.__importDefault(m),n.default({displayName:"seoUrlSettings",mixins:[r.default,i.default],render(){return p.default.createElement("div",{key:"section-page-address",className:this.getClassName("seo-section-page-address")},p.default.createElement("span",{className:"seo-section-title-label"},o.translate("Pages_Info_Address_Title")),p.default.createElement("div",{className:"seo-section-site-url"},p.default.createElement("span",{className:"page-address-prefix"},"http://www.../"),p.default.createElement(c.textInput,{maxLength:m.default.NAME_MAX_LENGTH,validator:this.getPageUriSEOValidators(),invalidMessage:this.getPageUriSEOInvalidMessages(),valueLink:this.linkUrlProperty("pageUriSEO"),inputFocusTooltipMessage:this.props.inputFocusTooltipMessage,infoText:"Pages_Info_Address_Tooltip",className:"control-text-input-seo"})),this.shouldShowLinkToPage()?p.default.createElement("a",{key:"page-web-address",href:g.default.getPublicUrl(this.getEditorAPI(),this.props.pageData),target:"_blank"},p.default.createElement(c.button,{label:"Pages_SEO_Goto_URL",className:"btn-text"})):null,this.isUriSEOTranslated()?p.default.createElement("span",{key:"googleAttribution",className:"translated-by"},o.translate("Pages_Info_URL_Popup_Google")," ",p.default.createElement(c.symbol,{name:"google-logo"})):null)},propTypes:{pageData:l.default.object.isRequired},shouldShowLinkToPage(){return this.props.shouldShowLinkToPage&&this.getEditorAPI().dsRead.generalInfo.isSitePublished()},linkUrlProperty(e){const t=this.getPageId(),a=this.getEditorAPI(),i={},s=a.dsRead.generalInfo.urlFormat.isSlash()?a.pages.data.pageUriSEO:d.default;return{value:this.getValueFromPageData(e),requestChange(n){i[e]=n&&s.convertPageNameToUrl(n),a.pages.data.update(t,i)}}},isUriSEOTranslated(){const e=this.getValueFromPageData("translationData");return u.default.isOpen("urlFormatGoogleTranslate")&&e&&e.uriSEOTranslated},getPageUriSEOValidators(){const e=f(this.getEditorAPI(),this.getPageId());return s.default.map(e,"callback")},getPageUriSEOInvalidMessages(){const e=f(this.getEditorAPI(),this.getPageId());return s.default.map(e,"message")},getClassName(e){return o.inheritClassName(this.props,e)}})}.apply(t,i))||(e.exports=s)},487:function(e,t,a){var i,s;i=[a,t,a(0),a(5),a(4),a(11),a(3),a(488)],void 0===(s=function(e,t,a,i,s,n,l,o){"use strict";return i=a.__importDefault(i),s=a.__importDefault(s),n=a.__importStar(n),l=a.__importDefault(l),o=a.__importDefault(o),i.default({mixins:[n.mixins.editorAPIMixin],displayName:"pageSettingsDesktopCommon",propTypes:{title:s.default.string,closeSettingsPanel:s.default.func.isRequired,helpId:s.default.string},render(){return l.default.createElement(o.default,{helpId:this.props.helpId,title:this.props.title,closeSettingsPanel:this.props.closeSettingsPanel},this.props.children)}})}.apply(t,i))||(e.exports=s)},488:function(e,t,a){var i,s;i=[a,t,a(0),a(3),a(5),a(4),a(11),a(6),a(10),a(2),a(8)],void 0===(s=function(e,t,a,i,s,n,l,o,r,d,u){"use strict";return i=a.__importDefault(i),s=a.__importDefault(s),n=a.__importDefault(n),l=a.__importStar(l),o=a.__importDefault(o),r=a.__importStar(r),d=a.__importStar(d),u=a.__importDefault(u),s.default({displayName:"pageSettingsFrame",propTypes:{helpId:n.default.string,title:n.default.string,closeSettingsPanel:n.default.func.isRequired},mixins:[l.mixins.editorAPIMixin],render(){return i.default.createElement("div",{className:"page-settings-panel"},i.default.createElement("div",{className:"page-settings-panel-inner"},i.default.createElement(u.default.PanelHeader,{onClose:()=>{this.props.closeSettingsPanel("back")},onHelp:e=>{e.stopPropagation(),this.openHelpPanel()},closeSymbol:this.getCloseSymbol(),className:"dark"},i.default.createElement("span",null,"".concat(d.translate("Pages_Settings_Header_Text")," (").concat(this.props.title,")"))),this.props.children))},openHelpPanel(e){if(e=e||this.props.helpId){const t={learn_more:!1,panel_name:"page_settings",origin:o.default.BI.HELP.ORIGIN.PAGES};this.getEditorAPI().panelManager.openHelpCenter(e,null,t)}},getCloseSymbol:()=>i.default.createElement(r.symbol,{name:"arrowLeft"})})}.apply(t,i))||(e.exports=s)},489:function(e,t,a){var i,s;i=[a,t,a(0),a(5),a(11),a(3),a(9),a(2)],void 0===(s=function(e,t,a,i,s,n,l,o){"use strict";return i=a.__importDefault(i),s=a.__importStar(s),n=a.__importDefault(n),l=a.__importStar(l),o=a.__importStar(o),i.default({displayName:"blogSinglePostInfo",render(){const e=o.translate;return n.default.createElement("div",{className:"page-info tab-inner"},n.default.createElement("section",null,n.default.createElement("p",{className:"title"},e("Pages_Blog_Post_Info_WhatisTitle")),n.default.createElement("p",null,e("Pages_Blog_Post_Info_WhatisText"))),n.default.createElement("section",null,n.default.createElement("p",{className:"title"},e("Pages_Blog_Post_Info_HowTitle")),n.default.createElement("p",null,e("Pages_Blog_Post_Info_HowText"))),n.default.createElement("section",null,n.default.createElement("p",{className:"title"},e("Pages_Blog_Post_Info_ChangeTitle")),n.default.createElement("p",null,n.default.createElement("span",null,"".concat(e("Pages_Blog_Post_Info_ChangeText")," ")),this.isDesktop()?n.default.createElement("span",{key:"openBlogManagerButton"},n.default.createElement(l.button,{label:"Pages_Blog_Post_Info_ChangeLink",onClick:e=>{e.stopPropagation(),this.props.actions.openBlogManager()},className:"btn-text"}),n.default.createElement("span",null,".")):null,this.isMobile()?n.default.createElement("span",{key:"openBlogManagerText"},e("Pages_Blog_Post_Info_ChangeLink"),"."):null)))},mixins:[s.mixins.editorAPIMixin],isDesktop(){return this.getEditorAPI().viewMode.get()===this.getEditorAPI().dsRead.viewMode.VIEW_MODES.DESKTOP},isMobile(){return this.getEditorAPI().viewMode.get()===this.getEditorAPI().dsRead.viewMode.VIEW_MODES.MOBILE}})}.apply(t,i))||(e.exports=s)},490:function(e,t,a){var i,s;i=[a,t,a(0),a(5),a(11),a(3),a(9),a(2)],void 0===(s=function(e,t,a,i,s,n,l,o){"use strict";return i=a.__importDefault(i),s=a.__importStar(s),n=a.__importDefault(n),l=a.__importStar(l),o=a.__importStar(o),i.default({displayName:"tpaProductPageInfo",mixins:[s.mixins.editorAPIMixin],render(){const e=o.translate,t=this.getEditorAPI();return n.default.createElement("div",{className:"page-info tab-inner"},n.default.createElement("section",null,n.default.createElement("p",{className:"title"},e("Pages_Store_Product_Info_WhatisTitle")),n.default.createElement("p",null,e("Pages_Store_Product_Info_WhatisText"))),n.default.createElement("section",null,n.default.createElement("p",{className:"title"},e("Pages_Store_Product_Info_HowTitle")),n.default.createElement("p",null,e("Pages_Store_Product_Info_HowText"))),n.default.createElement("section",null,n.default.createElement("p",{className:"title"},e("Pages_Store_Product_Info_ChangeTitle")),n.default.createElement("p",null,t.isDesktopEditor()?n.default.createElement("span",{key:"desktop"},e("Pages_Store_Product_Info_ChangeText")," "):null,t.isMobileEditor()?n.default.createElement("span",{key:"mobile"},e("Pages_Store_Product_Info_ChangeText_Mobile")," "):null,n.default.createElement(l.button,{label:"Pages_Store_Product_Info_ChangeLink",onClick:e=>{e.stopPropagation(),this.props.actions.openStoreManager()},className:"btn-text"}),n.default.createElement("span",null,"."))))}})}.apply(t,i))||(e.exports=s)},491:function(e,t,a){var i,s;i=[a,t,a(0),a(5),a(11),a(3),a(2)],void 0===(s=function(e,t,a,i,s,n,l){"use strict";return i=a.__importDefault(i),s=a.__importStar(s),n=a.__importDefault(n),l=a.__importStar(l),i.default({displayName:"tpaCartPageInfo",mixins:[s.mixins.editorAPIMixin],render(){const e=l.translate,t=this.getEditorAPI();return n.default.createElement("div",{className:"page-info tab-inner"},n.default.createElement("section",null,n.default.createElement("p",{className:"title"},e("Pages_Store_Cart_Info_WhatisTitle")),n.default.createElement("p",null,e("Pages_Store_Cart_Info_WhatisText"))),n.default.createElement("section",null,n.default.createElement("p",{className:"title"},e("Pages_Store_Cart_Info_HowTitle")),t.isDesktopEditor()?n.default.createElement("p",{key:"desktop"},e("Pages_Store_Cart_Info_HowText")," "):null,t.isMobileEditor()?n.default.createElement("p",{key:"mobile"},e("Pages_Store_Cart_Info_HowText_Mobile")," "):null))}})}.apply(t,i))||(e.exports=s)},492:function(e,t,a){var i,s;i=[a,t,a(0),a(5),a(11),a(3),a(2)],void 0===(s=function(e,t,a,i,s,n,l){"use strict";return i=a.__importDefault(i),s=a.__importStar(s),n=a.__importDefault(n),l=a.__importStar(l),i.default({displayName:"tpaThankYouPageInfo",mixins:[s.mixins.editorAPIMixin],render(){const e=l.translate,t=this.getEditorAPI();return n.default.createElement("div",{className:"page-info tab-inner"},n.default.createElement("section",null,n.default.createElement("p",{className:"title"},e("Pages_Store_Thankyou_Info_WhatisTitle")),n.default.createElement("p",null,e("Pages_Store_Thankyou_Info_WhatisText"))),n.default.createElement("section",null,n.default.createElement("p",{className:"title"},e("Pages_Store_Thankyou_Info_HowTitle")),t.isDesktopEditor()?n.default.createElement("p",{key:"desktop"},e("Pages_Store_Thankyou_Info_HowText")," "):null,t.isMobileEditor()?n.default.createElement("p",{key:"mobile"},e("Pages_Store_Thankyou_Info_HowText_Mobile")," "):null))}})}.apply(t,i))||(e.exports=s)},493:function(e,t,a){var i,s;i=[a,t,a(0),a(5),a(4),a(11),a(3),a(488)],void 0===(s=function(e,t,a,i,s,n,l,o){"use strict";return i=a.__importDefault(i),s=a.__importDefault(s),n=a.__importStar(n),l=a.__importDefault(l),o=a.__importDefault(o),i.default({mixins:[n.mixins.editorAPIMixin],displayName:"pageSettingsMobileCommon",propTypes:{title:s.default.string,closeSettingsPanel:s.default.func.isRequired},getHelpId(){return this.getEditorAPI().developerMode.isEnabled()?"2d9fb141-61ac-45e6-809d-a8f178c6c1bc":"24b83680-5690-488d-b382-ac051e329c23"},render(){return l.default.createElement(o.default,{title:this.props.title,closeSettingsPanel:this.props.closeSettingsPanel,helpId:this.getHelpId()},l.default.createElement("div",{className:"page-setting-mobile page-settings-panel-content"},this.props.children))}})}.apply(t,i))||(e.exports=s)},494:function(e,t,a){var i,s;i=[a,t,a(0),a(1),a(11)],void 0===(s=function(e,t,a,i,s){"use strict";i=a.__importDefault(i),s=a.__importStar(s);const{tpaTypeUtils:n}=s.utils;function l(e,t,a){return i.default.includes(t,a.tpaApplicationId)&&!i.default.has(e,a.id)}const o={getSectionPagesDataList(e,t){const a=function(e,t){return i.default(e).filter(e=>n.isTPASpecialPage(t.dsRead,e)).keyBy("id").value()}(t,e),s=function(e,t){return i.default(e).filter(e=>i.default.has(t,e.id)).map("tpaApplicationId").uniq().value()}(t,a);return i.default.filter(t,i.default.partial(l,a,s))},getSpecialPagesDataList:(e,t)=>i.default.filter(t,t=>n.isTPASpecialPage(e.dsRead,t,!0)),getSpecialPagesDataListByTPAId:(e,t,a)=>i.default.filter(o.getSpecialPagesDataList(e,a||e.dsRead.pages.getPagesData()),["tpaApplicationId",t])};return o}.apply(t,i))||(e.exports=s)},495:function(e,t,a){var i,s;i=[a,t,a(0),a(1),a(11)],void 0===(s=function(e,t,a,i,s){"use strict";i=a.__importDefault(i);const n=(s=a.__importStar(s)).utils.blogTypeUtils;return{getSectionPagesDataList:(e,t)=>i.default.filter(t,i.default.partial(n.isBlogSectionPage,e)),getSpecialPagesDataList:(e,t)=>i.default.filter(t,n.isBlogSpecialPage)}}.apply(t,i))||(e.exports=s)},5:function(e,t){e.exports=n},6:function(e,t){e.exports=l},7:function(e,t){e.exports=o},8:function(e,t){e.exports=r},81:function(e,t,a){var i,s;i=[a,t,a(0),a(1),a(6),a(196),a(2),a(12),a(17)],void 0===(s=function(e,t,a,i,s,n,l,o,r){"use strict";i=a.__importDefault(i),s=a.__importDefault(s),n=a.__importDefault(n),l=a.__importStar(l),o=a.__importStar(o),r=a.__importDefault(r);function d(e,t,a){e.pages.data.update(t,a),e.history.debouncedAdd("Rename Page")}function u(e){const t=new RegExp(/copy\s(\d+\s|)of\s/i);let a;return t.test(e)?(a=RegExp.$1?parseInt(RegExp.$1,10)+1:2,e.replace(t,"Copy ".concat(a," of "))):((e="".concat(l.translate("Pages_Actions_Duplicate_CopyOf")," ").concat(e)).length>40&&(e="".concat(e.substr(0,37),"...")),e)}function p(e,t,a){const i=a?e.pages.popupPages.duplicate(t.id):e.pages.duplicate(t.id),s=u(t.title),l=(e.dsRead.generalInfo.urlFormat.isSlash()?e.pages.data.pageUriSEO:n.default).convertPageNameToUrl(s);return e.pages.data.update(i.id,{title:s,pageUriSEO:l}),i.id}function c(e,t){const a=e.dsRead.viewMode.get();return a===e.dsRead.viewMode.VIEW_MODES.DESKTOP?t.isVisible:a===e.dsRead.viewMode.VIEW_MODES.MOBILE&&t.isVisibleMobile}function g(e){const t=0===e.position;return!e.parent&&!t}function m(e){return null!==e.parent}function f(e,t){const a=t.dsRead.mainMenu.getMenu();return i.default.find(a,t=>t.link&&t.link.pageId===e)}function _(e,t,a){const i=function e(t,a,i){const s={itemIndex:null,parentId:i};for(let i=0;i<t.length;i++){const n=t[i];if(n.id===a)return s.itemIndex=i,s;if(n.items&&n.items.length){const t=e(n.items,a,n.id);if(null!==t.itemIndex)return t}}return s}(e.mainMenu.getMenuItemsTreeForMainMenu(),a,null);e.dsActions.mainMenu.moveItem(t,i.parentId,i.itemIndex+1)}return{renamePage:function(e,t,a){const s={title:a};if(a&&t.title!==a)if(t.isPopup)d(e,t.id,s);else if(function(e,t){return!e.dsRead.generalInfo.urlFormat.isSlash()||!e.dsRead.generalInfo.isSitePublished()||t===l.translate("Pages_Menu_Add_New_Page")}(e,t.title)){const o=e.dsRead.generalInfo.urlFormat.isSlash()?e.pages.data.pageUriSEO:n.default;let r=o.convertPageNameToUrl(a);r?(s.pageUriSEO=r,d(e,t.id,s)):l.googleTranslate(a,(function(a){r=o.convertPageNameToUrl(a),r&&(s.pageUriSEO=r,s.translationData=i.default.assign({}||s.translationData,{uriSEOTranslated:!0})),d(e,t.id,s)}))}else d(e,t.id,s)},renameMenuItem:function(e,t,a){a&&t.label!==a&&(e.dsActions.mainMenu.setItemLabel(t.id,a),e.history.debouncedAdd("Rename Menu Item"))},duplicatePopup:function(e,t,a){const s=e.dsRead.pages.getFocusedPageId(),n=p(e,t,!0);e.pages.navigateTo(n),e.history.add("popup page was duplicated",{currentPage:s}),e.dsActions.waitForChangesApplied((function(){i.default.isFunction(a)&&a(n)}))},duplicateMenuItem:function(e,t,a){t.type.isPage?function(e,t,a,s){const n=e.dsRead.pages.getFocusedPageId(),l=p(e,t,!1);e.dsActions.waitForChangesApplied((function(){const t=f("#".concat(l),e);_(e,t.id,a),e.pages.navigateTo(l),e.history.add("duplicating a page",{currentPage:n}),e.dsActions.waitForChangesApplied((function(){i.default.isFunction(s)&&s(t.id,l)}))}))}(e,t.pageData,t.id,a):t.type.isDropdown?function(e,t,a){const i=u(t.label),s=e.dsActions.mainMenu.addHeaderItem(i,null,!t.isVisible,!t.isVisibleMobile);_(e,s,t.id),e.history.add("duplicating a dropdown"),e.dsActions.waitForChangesApplied((function(){a(s)}))}(e,t,a):t.type.isLink?function(e,t,a){const i=e.data.getById(t.id).link,s=u(t.label),n=e.dsActions.mainMenu.addLinkItem(i,s,null,!t.isVisible,!t.isVisibleMobile);_(e,n,t.id),e.history.add("duplicating a link"),e.dsActions.waitForChangesApplied((function(){a(n)}))}(e,t,a):r.default.log.error("not supported menu type")},setHidden:function(e,t,a,i){const s={};"boolean"==typeof a?s.hidePage=a:a=!t.isVisible,"boolean"==typeof i?s.mobileHidePage=i:i=!t.isVisibleMobile,t.pageData?e.pages.data.update(t.pageData.id,s):e.dsActions.mainMenu.setItemVisibility(t.id,a,i),e.history.add("hiding a page")},removeMenuItem:function(e,t){if(t.pageData)if(e.mainMenu.hasOnlyLastPageMenuItem())e.panelManager.openPanel("panels.messagePanels.deleteLastPageMessage",{isLastPage:!0},!0);else{const a=e.dsRead.pages.getFocusedPageId();e.pages.remove(t.pageData.id,(function(){e.history.add("removing a page",{currentPage:a})}))}else e.pages.navigateTo(e.homePage.get(),(function(){e.dsActions.mainMenu.removeItem(t.id),e.history.add("removing menu item")}))},removePopup:function(e,t){e.dsActions.waitForChangesApplied((function(){e.pages.remove(t,i.default.partial(e.history.add,"removed popup"))}))},subpage:function(e,t){let a,s;g(t)&&(a=e.mainMenu.getMenuItemsTreeForMainMenu()[t.position-1],s=a.items.length,function(e,t,a,s){i.default.forEachRight(t.items,(function(t){e.dsActions.waitForChangesApplied((function(){e.dsActions.mainMenu.moveItem(t.id,a,s)}))}))}(e,t,a.id,s),e.dsActions.waitForChangesApplied((function(){e.dsActions.mainMenu.moveItem(t.id,a.id,s),e.bi.event(o.events.topbar.pages.top_bar_PAGES_menu_sub_page_created,{origin:"quick actions"})}))),e.history.add("subpaging a page")},moveUp:function(e,t){if(m(t)){const a=t.parent.parent&&t.parent.parent.id,i=t.parent.position+1;e.dsActions.mainMenu.moveItem(t.id,a,i),e.bi.event(o.events.topbar.pages.top_bar_PAGES_menu_user_reverted_to_main_page,{origin:"quick actions"})}e.history.add("moving a page out of its parent")},addPage:function(e,t,a,i,n){let l;const o=e.pages.add(t,a);return e.dsActions.waitForChangesApplied((function(){l=f("#".concat(o.id),e),_(e,l.id,i),e.history.add("adding new page",{actionType:s.default.DS_ACTIONS.ADD_PAGE,nextPage:o.id}),e.pages.navigateTo(o.id),n(o.id,l.id)})),o},addLink:function(e,t,a,i,s){const n=e.dsActions.mainMenu.addLinkItem(t,a);_(e,n,i),e.dsActions.waitForChangesApplied((function(){s(n),e.history.add("adding new page link")}))},updateLink:function(e,t,a){e.dsActions.mainMenu.updateLinkItem(t,a),e.history.add("updating menu link")},addDropdown:function(e,t,a,i){const s=e.dsActions.mainMenu.addHeaderItem(t);_(e,s,a),e.dsActions.waitForChangesApplied((function(){i(s),e.history.add("adding new page header")}))},canBeSetAsDynamicPage:function(e,t){const a=t.pageData&&t.pageData.id;return!!a&&e.dsRead.routers.pages.isConnectablePage(a)},canDuplicate:function(e,t){return t.type.isPage&&t.pageData?n.default.canDuplicate(e,t.pageData.id):t.type.isDropdown||t.type.isLink},canUnhide:function(e,t){return!c(e,t)},canHide:c,canRemoveMenuItem:function(e,t){return!t.pageData||n.default.canRemove(e,t.pageData.id)},canSubpage:g,canMoveUp:m,getPublicUrl:function(e,t){const a=e.dsRead.generalInfo.getPublicUrl(),i=e.dsRead.generalInfo.isFirstSave()?"".concat(a,"your-site-name"):"";return e.pages.getPageUrl(t.id,i)}}}.apply(t,i))||(e.exports=s)},9:function(e,t){e.exports=d}})}));
//# sourceMappingURL=pagesMenu.min.js.map