define("panelUtils",["tslib","lodash","util","react","prop-types","create-react-class","wix-base-ui","baseUI","core"],(function(e,t,l,n,a,o,i,r,s){return function(e){var t={};function l(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,l),a.l=!0,a.exports}return l.m=e,l.c=t,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)l.d(n,a,function(t){return e[t]}.bind(null,a));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="",l(l.s=2063)}({0:function(t,l){t.exports=e},1:function(e,l){e.exports=t},11:function(e,t){e.exports=s},2:function(e,t){e.exports=l},2063:function(e,t,l){var n,a;n=[l,t,l(0),l(504),l(2064)],void 0===(a=function(e,t,l,n,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=l.__importDefault(n),a=l.__importDefault(a),t.linkColorPickerMixin=n.default,t.shadowControl=a.default}.apply(t,n))||(e.exports=a)},2064:function(e,t,l){var n,a;n=[l,t,l(0),l(5),l(1),l(9),l(11),l(2),l(504),l(3),l(8)],void 0===(a=function(e,t,l,n,a,o,i,r,s,u,d){"use strict";n=l.__importDefault(n),a=l.__importDefault(a),o=l.__importStar(o),i=l.__importStar(i),r=l.__importStar(r),s=l.__importDefault(s),u=l.__importDefault(u),d=l.__importDefault(d);const c=180/Math.PI,p=1/c;const f=/rgba\(([^)]+)\)/,h=/rgba\(/;function g(e){const t=f.exec(e)[1];return a.default.map(t.split(","),(function(e){return parseFloat(e)}))}function m(e){const t=r.valueLink.getValueFromProps(this.props);return t?t.split(e):[]}return n.default({displayName:"shadowControl",mixins:[o.inputMixin,i.mixins.editorAPIMixin,s.default],getDefaultProps:()=>({angle:0,distance:0,size:0,blur:0,color:"rgba(0,0,0,1)"}),changeAngle(e){this.oldDistance=this.getDistanceValue(),this.oldAngle=e,this.handleChange({angle:e})},distanceChanged(e){this.oldAngle=this.getAngleValue(),this.oldDistance=void 0,this.handleChange({distance:e})},sizeChanged(e){this.handleChange({size:e})},blurChanged(e){this.handleChange({blur:e})},getAngleValue(){if(this.oldAngle)return this.oldAngle;const e=m.call(this," "),t=a.default.map(e,(function(e){return parseFloat(e)}));return l=t[0],n=t[1],((180+Math.atan2(l,-n)*c)%360).toFixed(2);var l,n},getDistanceValue(){if(this.oldDistance)return this.oldDistance;const e=m.call(this," "),t=a.default.map(e,(function(e){return parseFloat(e)}));return l=t[0],n=t[1],Math.sqrt(l*l+n*n).toFixed(2);var l,n},getBlurValue(){const e=m.call(this," ");return parseFloat(e[2])},getSizeValue(){const e=m.call(this," "),t=parseFloat(e[3]);return t||0},getColorValue(){let e=r.valueLink.getValueFromProps(this.props);e=e.substr(e.indexOf("rgb"));const t=/rgba\(([^)]+)\)/.exec(e);return t?t[0]:"rgba(0,0,0,1)"},getStringForValues(e){const t=a.default.defaults(e,{distance:this.getDistanceValue(),angle:this.getAngleValue(),blur:this.getBlurValue(),size:this.getSizeValue(),color:this.getColorValue()}),l=function(e,t){const l=t*p;return{x:(e*Math.sin(-l)).toFixed(2),y:(e*Math.cos(-l)).toFixed(2)}}(t.distance,t.angle);return"".concat(l.x,"px ").concat(l.y,"px ").concat(t.blur,"px ").concat(t.size,"px ").concat(t.color)},linkColorWithOpacity(){const e=this.getColorValue();return{value:{color:e,alpha:function(e){if(e.match(h)){return g(e)[3]}return 1}(e)},requestChange:function(e){const t=function(e){const t=g(e.color);return t[3]=e.alpha,"rgba(".concat(t.join(","),")")}(e);this.handleChange({color:t})}.bind(this)}},getColorPickerProps(){return{colorResolver:this.resolveColor,openColorPicker:this.openColorPicker}},handleChange(e){r.valueLink.callOnChangeIfExists(this.props,this.getStringForValues(e))},render(){return this.props.disabled?null:u.default.createElement("div",{key:"shadowControl",className:"shadow-control"},u.default.createElement(d.default.Composites.AngleInputLabeled,null,u.default.createElement(d.default.TextLabel,{value:"CustomDesign_Shadow_Angle",disabled:this.props.disabled,shouldTranslate:!0}),u.default.createElement(d.default.AngleInput,{disabled:this.props.disabled,value:this.getAngleValue(),onChange:this.changeAngle})),u.default.createElement(d.default.Divider,{long:!1}),u.default.createElement(d.default.Composites.SliderLabeled,null,u.default.createElement(d.default.TextLabel,{value:"CustomDesign_Shadow_Distance",shouldTranslate:!0,disabled:this.props.disabled}),u.default.createElement(d.default.Slider,{min:0,max:50,value:this.getDistanceValue(),step:1,onChange:this.distanceChanged,disabled:this.props.disabled,unit:"px"})),u.default.createElement(d.default.Divider,{long:!1}),u.default.createElement(d.default.Composites.SliderLabeled,null,u.default.createElement(d.default.TextLabel,{value:"CustomDesign_Shadow_Size",shouldTranslate:!0,disabled:this.props.disabled}),u.default.createElement(d.default.Slider,{min:0,max:50,value:this.getSizeValue(),step:1,onChange:this.sizeChanged,disabled:this.props.disabled,unit:"px"})),u.default.createElement(d.default.Divider,{long:!1}),u.default.createElement(d.default.Composites.SliderLabeled,null,u.default.createElement(d.default.TextLabel,{value:"CustomDesign_Shadow_Blur",shouldTranslate:!0,disabled:this.props.disabled}),u.default.createElement(d.default.Slider,{min:0,max:50,value:this.getBlurValue(),step:1,onChange:this.blurChanged,disabled:this.props.disabled,unit:"px"})),u.default.createElement(d.default.Divider,{long:!1}),u.default.createElement(o.colorPickerInputWithOpacity,Object.assign({disabled:this.props.disabled,isSmallStepper:!0,label:"CustomDesign_Shadow_Color&Opacity",valueLink:this.linkColorWithOpacity()},this.getColorPickerProps())),this.props.disabled?u.default.createElement("div",{key:"blockingLayer",className:"blocking-layer"}):null)}})}.apply(t,n))||(e.exports=a)},3:function(e,t){e.exports=n},4:function(e,t){e.exports=a},5:function(e,t){e.exports=o},504:function(e,t,l){var n,a;n=[l,t,l(0),l(4),l(1)],void 0===(a=function(e,t,l,n,a){"use strict";function o(e,t){if(t)return t;var l;return((l=e)?{top:"".concat(l.top+72,"px"),left:"".concat(l.left-12,"px")}:null)||{top:null,left:null}}return n=l.__importDefault(n),a=l.__importDefault(a),{contextTypes:{panelPosition:n.default.object},componentDidMount(){if(!a.default.isFunction(this.getEditorAPI))throw new Error("You must use editorAPIMixin to use the linkColorPickerMixin")},componentWillUpdate(e,t,l){const n=this.context.panelPosition,i=l.panelPosition&&l.panelPosition;if(n&&i&&!a.default.isEqual(n,i)){const e=o(i);this.getEditorAPI().panelManager.updatePanelProps("panels.toolPanels.colorPicker.colorPickerPanel",{top:e.top,left:e.left})}},openColorPicker(e,t,l,n,a,i,r){const s=this.getEditorAPI(),u=o(this.context.panelPosition,n),d={onChange:e,allowPaletteEditing:l,onClose:r,enableHistory:i,previewOnHover:a,overridePosition:!0};s.openColorPicker(t,u,d)},updateSitePalette(e){this.getEditorAPI().theme.colors.update(e)},resolveColor(e){return this.getEditorAPI().theme.colors.render(e)}}}.apply(t,n))||(e.exports=a)},8:function(e,t){e.exports=i},9:function(e,t){e.exports=r}})}));
//# sourceMappingURL=panelUtils.min.js.map