define("panels",["tslib","lodash","util","react","prop-types","create-react-class","constants","stateManagement","wix-base-ui","baseUI","santa-editor-symbols","core","coreBi","experiment","helpIds","addPanelDataConsts","santa-core-utils","react-dom","zepto","santa-editor-utils","react-addons-linked-state-mixin","higherOrderComponents","wix-json-schema-utils","platformUtils","popups","pms"],(function(e,t,a,l,n,i,o,s,r,u,d,p,c,m,f,h,_,g,E,b,P,C,y,S,N,T){return function(e){var t={};function a(l){if(t[l])return t[l].exports;var n=t[l]={i:l,l:!1,exports:{}};return e[l].call(n.exports,n,n.exports,a),n.l=!0,n.exports}return a.m=e,a.c=t,a.d=function(e,t,l){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:l})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var l=Object.create(null);if(a.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(l,n,function(t){return e[t]}.bind(null,n));return l},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=1931)}({0:function(t,a){t.exports=e},1:function(e,a){e.exports=t},10:function(e,t){e.exports=d},101:function(e,t,a){var l,n;l=[a,t,a(0),a(4),a(1),a(12),a(2),a(41),a(1953),a(6),a(3),a(28),a(9),a(8),a(10)],void 0===(n=function(e,t,a,l,n,i,o,s,r,u,d,p,c,m,f){"use strict";l=a.__importDefault(l),n=a.__importDefault(n),i=a.__importStar(i),o=a.__importStar(o),s=a.__importDefault(s),r=a.__importDefault(r),u=a.__importDefault(u),d=a.__importDefault(d),p=a.__importDefault(p),c=a.__importStar(c),m=a.__importDefault(m),f=a.__importStar(f);const{connect:h,renderWhenMutated:_,STORES:{EDITOR_API:g}}=o.hoc;function E(e,t,a){const l="Warning: Failed propType: ";return!e.symbolName^!e.imageClassName?e[t]&&!n.default.isString(e[t])?new Error("".concat(l,"Invalid prop `").concat(t,"` of type `").concat(typeof e[t],"` supplied to `").concat(a,"`, expected `string`.")):void 0:new Error("".concat(l+a," must have either symbolName or imageClassName but not both."))}class b extends d.default.Component{constructor(){super(...arguments),this.openLearnMore=()=>{const e={component:this.props.selectedComponentType,panel_name:this.props.panelName,origin:u.default.BI.HELP.ORIGIN.PANEL,learn_more:!0};this.props.openHelpCenter(this.props.helpId,null,e)},this.handleBtnClick=e=>{n.default.isFunction(e.onClick)&&e.onClick(),this.props.close()},this.hasCustomButtons=()=>this.props.buttons&&this.props.buttons.length,this.handleDontShowAgainClick=()=>{this.props.toggleDontShowAgain(),this.props.sendBi(i.events.commonControls.dont_show_again_click,{panel_name:this.props.panelName,toggle:this.props.dontShowAgain})}}render(){const e=o.translate;return d.default.createElement(p.default,{shouldHideHeader:!0,isSingleInstance:this.props.isSingleInstance,panelName:this.props.panelName,shouldNotCloseOnBlur:this.props.shouldNotCloseOnBlur},d.default.createElement("div",{className:"popup-template-panel ".concat(this.props.className||"")},d.default.createElement("div",{className:"panel-header dark"},d.default.createElement("button",{onClick:this.props.close,className:"close"},d.default.createElement(f.symbol,{name:"headerCloseButton"})),this.props.h1text?d.default.createElement("h1",{key:"h1text"},e(this.props.h1text)):null,this.props.h2text?d.default.createElement("h2",{key:"h2text"},e(this.props.h2text)):null,d.default.createElement("div",{className:"image ".concat(this.props.imageClassName||"")},this.props.symbolName?d.default.createElement(c.symbol,{key:"symbol",name:this.props.symbolName,className:"popup-symbol"}):null)),d.default.createElement("div",{className:"content"},d.default.createElement("div",{className:"panel-text"},d.default.createElement("span",null,"".concat(e(this.props.bodyText)," ")),this.props.helpId?d.default.createElement("span",{key:"learnMoreLink",onClick:this.openLearnMore,className:"learn-more-link"},e("Notification_Box_Learn_More")):null),d.default.createElement("div",{className:"bottom-controls"},this.props.hideDontShowCheckbox?null:d.default.createElement(m.default.Checkbox,{value:this.props.dontShowAgain,onChange:this.handleDontShowAgainClick,key:"dont-show-again-checkbox",labelAfterSymbol:!0,label:"Notification_Box_Dont_Show_Again",className:"dont-show-again"}),this.hasCustomButtons()?null:d.default.createElement(c.button,{key:"hasNoCustomButtons",onClick:this.props.close,label:this.props.btnText||"Notification_Box_Got_It",className:"btn-ok btn-md"}),this.hasCustomButtons()?d.default.createElement("span",{key:"hasCustomButtons"},n.default.map(this.props.buttons,(t,a)=>d.default.createElement(m.default.Button,{key:a,onClick:this.handleBtnClick.bind(this,t),automationId:t.automationId,className:t.className},t.icon?d.default.createElement(f.symbol,{key:"symbol-".concat(t.icon),name:t.icon,className:t.label?"symbol-with-label":""}):null,d.default.createElement("span",{"data-hint-id":t.hintId},e(t.label))))):null))))}}b.displayName="popupTemplate",b.propTypes={close:l.default.func.isRequired,openHelpCenter:l.default.func.isRequired,sendBi:l.default.func.isRequired,panelName:l.default.string.isRequired,h1text:l.default.string,h2text:l.default.string,symbolName:E,imageClassName:E,bodyText:l.default.string,btnText:l.default.string,buttons:l.default.arrayOf(l.default.object),helpId:l.default.string,selectedComponentType:l.default.string,dontShowAgain:l.default.bool,toggleDontShowAgain:l.default.func.isRequired,hideDontShowCheckbox:l.default.bool,shouldNotCloseOnBlur:l.default.bool};const P=h(g,r.default)(_(b)),C=s.default.linkUserPreferences()(P);return C.pure=b,C}.apply(t,l))||(e.exports=n)},11:function(e,t){e.exports=p},116:function(e,t,a){var l,n;l=[a,t,a(0),a(1),a(2)],void 0===(n=function(e,t,a,l,n){"use strict";l=a.__importDefault(l);const i=(n=a.__importStar(n)).keyboardShortcuts;let o=0;const s=[];return{componentWillMount(){let e=!1;i.isEnabled()||(i.enable(),e=!0),s.push(i.getContext()),this.dynamicKeyboardContext="".concat(i.CONTEXTS.MODAL_PANEL,"_").concat(o++),i.registerContext(this.dynamicKeyboardContext,this.getPanelShortcuts()),i.setContext(this.dynamicKeyboardContext),e&&i.disable()},componentWillUnmount(){let e=!1;i.isEnabled()||(i.enable(),e=!0),i.unregisterContext(this.dynamicKeyboardContext);const t=s.pop();t!==this.dynamicKeyboardContext&&i.setContext(t),e&&i.disable()},getPanelShortcuts(){return this.props.keyboardShortcuts?this.props.shouldExtendDefaultShortcuts?l.default.assign(this.getDefaultShortcuts(),this.props.keyboardShortcuts):this.props.keyboardShortcuts:this.getDefaultShortcuts()},getDefaultShortcuts(){let e;return e=this.props.isBareMode?l.default.noop:this.onCancel||this.onEscape||this.close||this.props.close,{esc:e}}}}.apply(t,l))||(e.exports=n)},117:function(e,t,a){var l;void 0===(l=function(e,t){"use strict";return{HEADER_CLOSE_BUTTON:"header_close_button",CLICK_OUTSIDE:"click_outside",OUT_OF_FOCUS:"out_of_focus",ESCAPE_PRESS:"escape_press",DONE_BUTTON:"done_button",CONFIRM_BUTTON:"confirm_button"}}.apply(t,[a,t]))||(e.exports=l)},118:function(e,t,a){var l,n;l=[a,t,a(0),a(5),a(4),a(1),a(11),a(2),a(12),a(3),a(28),a(10)],void 0===(n=function(e,t,a,l,n,i,o,s,r,u,d,p){"use strict";l=a.__importDefault(l),n=a.__importDefault(n),i=a.__importDefault(i),o=a.__importStar(o),s=a.__importStar(s),r=a.__importStar(r),u=a.__importDefault(u),d=a.__importDefault(d),p=a.__importStar(p);const c=r;return l.default({displayName:"welcomeScreenPanel",mixins:[o.mixins.editorAPIMixin],propTypes:{title:n.default.string,subtitle:n.default.string,linkedVideoData:n.default.string,content:n.default.object,contentClass:n.default.string,className:n.default.string,panelName:n.default.string,onCloseByX:n.default.func,onCloseByESC:n.default.func},close(){this.getEditorAPI().panelManager.closePanelByName(this.props.panelName)},closeByX(){i.default.isFunction(this.props.onCloseByX)&&this.props.onCloseByX(),this.close()},getKeyboardShortcuts(){return{esc:this.closeByESC}},closeByESC(){i.default.isFunction(this.props.onCloseByESC)?this.props.onCloseByESC():this.getEditorAPI().bi.event(c.events.welcomeVideoPanel.WELCOME_SCREEN_CLOSED,{panel_name:this.props.panelName,origin:"ESC"}),this.close()},handleShouldCloseOnBlur(){return this.getEditorAPI().bi.event(c.events.welcomeVideoPanel.WELCOME_SCREEN_CLOSED,{panel_name:this.props.panelName,origin:"outerClick"}),!0},getContent(e){const t=this.props.content;return t?s.translate(t[e]):""},getContentClass(){return this.props.contentClass||""},render(){return u.default.createElement(d.default,{ref:"frame",panelName:this.props.panelName,shouldHideHeader:!0,shouldHideHelp:!0,isBareMode:!0,onClose:this.handleShouldCloseOnBlur,keyboardShortcuts:this.getKeyboardShortcuts(),shouldNotCloseOnBlur:this.props.shouldNotCloseOnBlur,className:"welcome-screen-panel ".concat(this.props.className||"")},u.default.createElement("header",{key:"header",className:"panel-header dark"},u.default.createElement("button",{onClick:()=>{this.closeByX()},className:"close"},u.default.createElement(p.symbol,{name:"headerCloseButton"})),u.default.createElement("div",{className:"welcome-panel-header-title"},this.props.title),u.default.createElement("div",{className:"welcome-panel-header-subtitle"},this.props.subtitle),u.default.createElement("div",{className:"videoInput-wrapper"},u.default.createElement("iframe",{src:this.props.linkedVideoData,frameBorder:"0",allowFullScreen:!0}),u.default.createElement("div",{className:"video-pixel-cover"}))),u.default.createElement("div",{className:"content ".concat(this.getContentClass())},u.default.createElement("p",null,this.getContent("line1")," ",this.getContent("link")),u.default.createElement("p",null,this.getContent("line2"))),"\n",this.props.children)}})}.apply(t,l))||(e.exports=n)},12:function(e,t){e.exports=c},13:function(e,t){e.exports=m},131:function(e,t){e.exports=N},139:function(e,t,a){var l,n;l=[a,t,a(0),a(1)],void 0===(n=function(e,t,a,l){"use strict";let n;return l=a.__importDefault(l),{componentDidMount(){n=Date.now()},startNow(){this.sendPanelClosedBIEvent("startNow"),this.getEditorAPI().panelManager.closePanelByName(this.props.panelName),this.onVideoClosed()},getContentClass:()=>"only-new",sendBIEventWhenClosedByX(){this.sendPanelClosedBIEvent("xButton"),this.onVideoClosed()},sendBIEventWhenClosedByESC(){this.sendPanelClosedBIEvent("ESC"),this.onVideoClosed()},onVideoClosed(){l.default.isFunction(this.openTooltip)&&this.openTooltip()},sendPanelClosedBIEvent(e){const t=this.getEditorAPI(),a={site_id:t.dsRead.generalInfo.getSiteId(),duration:Date.now()-n,origin:e,video_url:this.props.linkedVideoData,panel_name:this.constructor.displayName};t.bi.event(this.getBIEvent(),a)}}}.apply(t,l))||(e.exports=n)},14:function(e,t){e.exports=f},16:function(e,t){e.exports=h},17:function(e,t){e.exports=_},18:function(e,t){e.exports=g},1931:function(e,t,a){var l,n;l=[a,t,a(0),a(1932),a(1933),a(1937),a(1940),a(1942),a(1945),a(2014),a(2027),a(2061),a(2062),a(275)],void 0===(n=function(e,t,a,l,n,i,o,s,r,u,d,p,c,m){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),l=a.__importDefault(l),n=a.__importDefault(n),i=a.__importDefault(i),o=a.__importDefault(o),s=a.__importDefault(s),r=a.__importDefault(r),u=a.__importDefault(u),d=a.__importDefault(d),p=a.__importDefault(p),c=a.__importDefault(c),m=a.__importDefault(m),t.PanelManager=l.default,t.frames=n.default,t.mixins=i.default,t.helpPanels=o.default,t.errorPages=s.default,t.focusPanels=r.default,t.messagePanels=u.default,t.toolPanels=d.default,t.linkToMixin=m.default;const f={linkTo:p.default,linkToButton:c.default};t.commonControls=f}.apply(t,l))||(e.exports=n)},1932:function(e,t,a){var l,n;l=[a,t,a(0),a(1),a(7)],void 0===(n=function(e,t,a,l,n){"use strict";return l=a.__importDefault(l),n=a.__importDefault(n),{create:function(e){return{openPanel:function(t,a,l){e.dispatch(n.default.editorPlugins.panels.actions.updateOrOpenPanel(t,a,l))},openComponentPanel:function(t,a){e.dispatch(n.default.editorPlugins.panels.actions.openComponentPanel(t,a))},replaceComponentPanel:function(t,a){e.dispatch(n.default.editorPlugins.panels.actions.openComponentPanel(t,l.default.assign({},a,{useLastPanelPosition:!0})))},closePanelByName:function(t,a){e.dispatch(n.default.editorPlugins.panels.actions.closePanelByName(t,a))},closeAllPanels:function(){e.dispatch(n.default.editorPlugins.panels.actions.closeOpenedPanels())},getOpenPanels:function(){return n.default.editorPlugins.panels.selectors.selectOpenPanels(e.getState())},registerPanelType:function(t,a,l){e.dispatch(n.default.editorPlugins.panels.actions.setPanelType(t,a,l))},getPanelsOfType:function(t){const a=n.default.editorPlugins.panels.selectors.selectOpenPanels(e.getState());return l.default.filter(a,{frameType:t})},closeAllPanelsOfType:function(t){e.dispatch(n.default.editorPlugins.panels.actions.closeAllPanelsOfType(t))},openHelpCenter:function(t,a,l){e.dispatch(n.default.editorPlugins.panels.actions.openHelpCenter(t,a,l))},openHelpCenterHome:function(t,a,l){e.dispatch(n.default.editorPlugins.panels.actions.openHelpCenterHome(t,a,l))},closeHelpCenter:function(){e.dispatch(n.default.editorPlugins.helpPanel.actions.closeHelpCenter())},notifyMouseDown:function(){e.dispatch(n.default.editorPlugins.panels.actions.stageMouseDown())},openPlatformPanel:function(t){e.dispatch(n.default.editorPlugins.panels.actions.openPlatformPanel(t))},openFirstTimePanel:function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.dispatch(n.default.editorPlugins.panels.actions.openFirstTimePanel(t,a))},updatePanelProps:function(t,a){e.dispatch(n.default.editorPlugins.panels.actions.updatePanel(t,a))},findPlatformPanelByType:function(t){const a=n.default.editorPlugins.panels.selectors.selectOpenPanels(e.getState());return l.default.some(a,["props.type",t])}}}}}.apply(t,l))||(e.exports=n)},1933:function(e,t,a){var l,n;l=[a,t,a(0),a(1934),a(67),a(48),a(28),a(496),a(274),a(1935),a(1936),a(497),a(197),a(498)],void 0===(n=function(e,t,a,l,n,i,o,s,r,u,d,p,c,m){"use strict";return l=a.__importDefault(l),n=a.__importDefault(n),i=a.__importDefault(i),o=a.__importDefault(o),s=a.__importDefault(s),r=a.__importDefault(r),u=a.__importDefault(u),d=a.__importDefault(d),p=a.__importDefault(p),c=a.__importDefault(c),m=a.__importDefault(m),{leftPanelFrame:l.default,messagePanelFrame:n.default,toolPanelFrame:i.default,focusPanelFrame:o.default,helpPanelFrame:s.default,confirmationPanelFrame:r.default,bgSubPanelFrame:u.default,backgroundPanelFrame:d.default,tpaSettingsPanelFrame:p.default,dangerMessagePanelFrame:c.default,emptyPanelFrame:m.default}}.apply(t,l))||(e.exports=n)},1934:function(e,t,a){var l,n;l=[a,t,a(0),a(5),a(1),a(4),a(11),a(6),a(7),a(3),a(8)],void 0===(n=function(e,t,a,l,n,i,o,s,r,u,d){"use strict";l=a.__importDefault(l),n=a.__importDefault(n),i=a.__importDefault(i),o=a.__importStar(o),s=a.__importDefault(s),r=a.__importDefault(r),u=a.__importDefault(u),d=a.__importDefault(d);const p=l.default({displayName:s.default.PANEL_TYPES.LEFT,mixins:[o.mixins.editorAPIMixin],PropTypes:{panelClass:i.default.string.isRequired,panelIndex:i.default.number.isRequired,label:i.default.string,onClose(e,t){if(e.title&&"function"!=typeof e[t])return new Error("onClose prop must be of type a function")},styleOverride:i.default.object,openPanelBiEvent:i.default.object,openPanelBiParams:i.default.object},getFrameStyle(){return this.props.styleOverride},UNSAFE_componentWillMount(){const e=this.getEditorAPI().panelManager,t=n.default.filter(e.getOpenPanels(),{frameType:s.default.PANEL_TYPES.LEFT});n.default.size(t)>1&&e.closePanelByName(n.default.head(t).name)},render(){return u.default.createElement("div",{style:this.getFrameStyle(),onWheel:this.props.blockOuterScroll,onContextMenu:e=>{this.props.onContextMenu&&this.props.onContextMenu(e)},className:"left-panel-frame panel-index-".concat(this.props.panelIndex," ").concat(this.props.panelClass).concat(0===this.props.panelIndex?" first-panel":"")},this.props.label?u.default.createElement(d.default.PanelHeader,{key:"header",onClose:this.props.close,onHelp:this.props.openHelpCenter,noHelpBtn:!this.props.helpId&&!this.props.onHelpClicked,className:"light"},u.default.createElement("span",null,this.props.label)):null,u.default.createElement("div",{id:this.props.id,className:"left-panel-frame-content ".concat(this.props.className||"")},this.props.children))}}),c=r.default.editorPlugins.panels.hoc.panelFrame(s.default.PANEL_TYPES.LEFT)(p);return c.pure=p,c}.apply(t,l))||(e.exports=n)},1935:function(e,t,a){var l,n;l=[a,t,a(0),a(5),a(1),a(4),a(6),a(2),a(7),a(3),a(8),a(2)],void 0===(n=function(e,t,a,l,n,i,o,s,r,u,d,p){"use strict";l=a.__importDefault(l),n=a.__importDefault(n),i=a.__importDefault(i),o=a.__importDefault(o),s=a.__importStar(s),r=a.__importDefault(r),u=a.__importDefault(u),d=a.__importDefault(d);const{panelDragLimits:c,panelFrame:m}=r.default.editorPlugins.panels.hoc,f=l.default({displayName:o.default.PANEL_TYPES.BG_SUB_PANEL,mixins:[s.draggableMixin],propTypes:{panelName:i.default.string.isRequired,title:i.default.string,width:i.default.number,height:i.default.number,top:i.default.number,left:i.default.number,getPanelDragLimits:i.default.func.isRequired,contentClass:i.default.string},getPanelProps(){const e={};n.default.forEach(["width","height","top","left"],n.default.bind((function(t){this.props[t]&&(e[t]=this.props[t])}),this));const{className:t}=this.props;return{style:e,className:t}},render(){var e;return u.default.createElement("div",Object.assign({},this.getPanelProps(),{className:p.cx("background-sub-panel-frame",null===(e=this.getPanelProps())||void 0===e?void 0:e.className)}),this.props.label?u.default.createElement(d.default.PanelHeader,{ref:"header",key:"header",onMouseDown:e=>{this.startDrag(e,this.props.getPanelDragLimits())},onClose:this.props.close,onHelp:this.props.openHelpCenter,className:"dragger dark"},this.props.label?u.default.createElement("span",{key:"label"},s.translate(this.props.label)):null):null,u.default.createElement("div",{className:"content".concat(this.props.contentClass?" ".concat(this.props.contentClass):"")},this.props.children))}}),h=n.default.flow(m(o.default.PANEL_TYPES.BG_SUB_PANEL),c())(f);return h.pure=f,h}.apply(t,l))||(e.exports=n)},1936:function(e,t,a){var l,n;l=[a,t,a(0),a(5),a(1),a(4),a(7),a(6),a(2),a(3),a(8)],void 0===(n=function(e,t,a,l,n,i,o,s,r,u,d){"use strict";l=a.__importDefault(l),n=a.__importDefault(n),i=a.__importDefault(i),o=a.__importDefault(o),s=a.__importDefault(s),r=a.__importStar(r),u=a.__importDefault(u),d=a.__importDefault(d);const{panelFrame:p,panelDragLimits:c}=o.default.editorPlugins.panels.hoc,m=l.default({displayName:s.default.PANEL_TYPES.BG_PANEL,mixins:[r.draggableMixin],PropTypes:{label:i.default.string,onClose(e,t){if(e.title&&"function"!=typeof e[t])return new Error("onClose prop must be of type a function")},openPanelBiEvent:i.default.object,getPanelDragLimits:i.default.func.isRequired,openPanelBiParams:i.default.object},render(){return u.default.createElement("div",{className:"background-panel-frame"},this.props.label?u.default.createElement(d.default.PanelHeader,{key:"header",onMouseDown:e=>{this.startDrag(e,this.props.getPanelDragLimits())},onClose:this.props.close,onHelp:this.props.openHelpCenter,noHelpBtn:!this.props.helpId&&!this.props.onHelpClicked,className:"dragger dark"},u.default.createElement("span",null,this.props.label)):null,u.default.createElement("div",{id:this.props.id,className:this.props.className||""},this.props.children))}}),f=n.default.flow(p(s.default.PANEL_TYPES.BG_PANEL),c())(m);return f.pure=m,f}.apply(t,l))||(e.exports=n)},1937:function(e,t,a){var l,n;l=[a,t,a(0),a(116),a(1938),a(1939),a(139)],void 0===(n=function(e,t,a,l,n,i,o){"use strict";return l=a.__importDefault(l),n=a.__importDefault(n),i=a.__importDefault(i),o=a.__importDefault(o),{disableKeyboardShortcutsMixin:l.default,statefulKeyboardContextMixin:n.default,reportBiEventOnUiChangeMixin:i.default,focusPanelMixin:o.default}}.apply(t,l))||(e.exports=n)},1938:function(e,t,a){var l,n;l=[a,t,a(0),a(2)],void 0===(n=function(e,t,a,l){"use strict";const n=(l=a.__importStar(l)).keyboardShortcuts;let i=0;const o=[];return{componentWillMount(){var e;o.push(n.getContext()),this.myKeyboardContextName=(e=this.keyboardShortcutsContextNamePrefix,"".concat((e||"")+n.CONTEXTS.AUTOMATIC,"_").concat(i++)),n.registerContext(this.myKeyboardContextName,this.getCustomKeyboardShortcuts()),n.setContext(this.myKeyboardContextName)},componentWillUnmount(){if(n.unregisterContext(this.myKeyboardContextName),this.myKeyboardContextName===n.getContext()){const e=o.pop();n.setContext(e)}o.splice(o.indexOf(this.myKeyboardContextName),1)},getCustomKeyboardShortcuts(){return this.getKeyboardShortcuts?this.getKeyboardShortcuts():this.getDefaultShortcuts()},getDefaultShortcuts:()=>({})}}.apply(t,l))||(e.exports=n)},1939:function(e,t,a){var l,n;l=[a,t,a(0),a(4),a(1),a(2),a(17)],void 0===(n=function(e,t,a,l,n,i,o){"use strict";l=a.__importDefault(l),n=a.__importDefault(n),i=a.__importStar(i),o=a.__importDefault(o);function s(e,t,a){const l=i.uiControlsBIUtil.getEventDefinition(e);if(!l)return void o.default.log.warn("There is no BI event for the control [%s], in [%s] panel.\n\tDear developer, Please add the control mapping to core/bi/controlsToEvents and the event to core/bi/events.json .",e,this.constructor.displayName);const s=i.uiControlsBIUtil.getParams(e,a),r=n.default.merge({panel_name:this.constructor.displayName,control_name:t},s);this.getEditorAPI().selectedComponent.sendSelectedComponentBI(l,r)}function r(e,t,a){s.call(this,e,t,a)}return{childContextTypes:{reportUIChange:l.default.func},componentDidMount(){if(!n.default.isFunction(this.getEditorAPI))throw new Error("You must use editorAPIMixin to use the reportBiEventOnUiChangeMixin")},getChildContext(){return{reportUIChange:r.bind(this)}}}}.apply(t,l))||(e.exports=n)},1940:function(e,t,a){var l,n;l=[a,t,a(0),a(1941)],void 0===(n=function(e,t,a,l){"use strict";return{helpPanel:(l=a.__importDefault(l)).default}}.apply(t,l))||(e.exports=n)},1941:function(e,t,a){var l,n;l=[a,t,a(0),a(5),a(2),a(3),a(496)],void 0===(n=function(e,t,a,l,n,i,o){"use strict";return l=a.__importDefault(l),n=a.__importStar(n),i=a.__importDefault(i),o=a.__importDefault(o),l.default({displayName:"exampleHelpPanel",PropTypes:{helpUrl(e,t){if(!n.validate.url(e[t]))return new Error("helpUrl prop must be a string representing a valid url")}},render(){return i.default.createElement(o.default,{panelName:this.props.panelName,helpUrl:this.props.helpUrl})}})}.apply(t,l))||(e.exports=n)},1942:function(e,t,a){var l,n;l=[a,t,a(0),a(1943)],void 0===(n=function(e,t,a,l){"use strict";return{errorPagePanel:(l=a.__importDefault(l)).default}}.apply(t,l))||(e.exports=n)},1943:function(e,t,a){var l,n;l=[a,t,a(0),a(5),a(1),a(11),a(2),a(1944),a(3),a(9),a(8)],void 0===(n=function(e,t,a,l,n,i,o,s,r,u,d){"use strict";return l=a.__importDefault(l),n=a.__importDefault(n),i=a.__importStar(i),o=a.__importStar(o),s=a.__importDefault(s),r=a.__importDefault(r),u=a.__importStar(u),d=a.__importDefault(d),l.default({displayName:"404_errorPopup",propTypes:{},mixins:[o.translationMixin,i.mixins.editorAPIMixin],openErrorPageInNewTab(){window.open(this.getConstants().routerAddress)},getConstants(){if(this.constants)return this.constants;let e=s.default[this.props.errorInfo.statusCode];return e?(e=n.default.clone(e),e.title=o.translate(e.title)):(e=s.default.other,e=n.default.clone(e),e.title=o.translate(e.title).replace("{error_code}",this.props.errorInfo.statusCode)),this.constants=e,e},onClose(){this.getEditorAPI().panelManager.closePanelByName("panels.errorPages.errorPagePanel")},render(){return r.default.createElement("div",{className:"panel-frame-container screen-centered-frame error-page-panel-frame-z-index "},r.default.createElement("div",{className:"confirmation-panel-frame info-error-page error-page-panel"},r.default.createElement(d.default.PanelHeader,{key:"header",onClose:this.onClose,noHelpBtn:!0,className:"dark"},r.default.createElement("span",{key:"headerTitle"},this.getConstants().title)),r.default.createElement("div",{className:"content-wrapper"},r.default.createElement("div",{className:"error-logo"},r.default.createElement(u.symbol,{name:this.getConstants().symbol})),r.default.createElement("div",{className:"description-wrapper"},r.default.createElement("span",{className:"description-line"},o.translate(this.getConstants().errorBodyTop)),r.default.createElement("br",null),r.default.createElement("span",{className:"description-line"},r.default.createElement("b",null,this.props.routerAddress)),r.default.createElement("br",null),r.default.createElement("span",{className:"description-line"},o.translate(this.getConstants().errorBodyBottom)))),r.default.createElement("footer",null,r.default.createElement(u.button,{key:"cancelButton",onClick:this.openErrorPageInNewTab,label:this.getConstants().btnViewErrorPage,className:"btn-confirm-secondary  btn-md"}),r.default.createElement(u.button,{onClick:this.onClose,label:this.getConstants().btnClose,className:"btn-confirm-primary  btn-md"}))),r.default.createElement("div",{className:"dark-frame-overlay"}))}})}.apply(t,l))||(e.exports=n)},1944:function(e,t,a){var l;void 0===(l=function(e,t){"use strict";return{404:{panelName:"404-errorPanel",title:"DYNAMIC_PAGES_404_ERROR_TITLE",symbol:"404_Error_message_illustration",errorBodyTop:"DYNAMIC_Pages_404_Error_Body_1",routerAddress:"https://www.wix.com/error-pages-samples/error404",errorBodyBottom:"DYNAMIC_Pages_404_Error_Body_2",btnViewErrorPage:"DYNAMIC_Pages_Error_View_Error_Page_Button",btnClose:"DYNAMIC_Pages_Error_Close_Button"},500:{panelName:"500-errorPanel",title:"DYNAMIC_PAGES_500_ERROR_TITLE",symbol:"500_Error_message_illustration",errorBodyTop:"DYNAMIC_Pages_500_Error_Body_1",routerAddress:"https://www.wix.com/error-pages-samples/error500",errorBodyBottom:"DYNAMIC_Pages_500_Error_Body_2",btnViewErrorPage:"DYNAMIC_Pages_Error_View_Error_Page_Button",btnClose:"DYNAMIC_Pages_Error_Close_Button"},403:{panelName:"403-errorPanel",title:"DYNAMIC_PAGES_403_ERROR_TITLE",symbol:"403_page_forbidden_message_illustration",errorBodyTop:"DYNAMIC_Pages_403_Error_Body_1",routerAddress:"https://www.wix.com/error-pages-samples/error403",errorBodyBottom:"DYNAMIC_Pages_403_Error_Body_2",btnViewErrorPage:"DYNAMIC_Pages_Error_View_Error_Page_Button",btnClose:"DYNAMIC_Pages_Error_Close_Button"},other:{panelName:"other-errorPanel",title:"DYNAMIC_PAGES_GENERAL_ERROR_TITLE",symbol:"general_error_message_illustration",errorBodyTop:"DYNAMIC_Pages_General_Error_Body_1",routerAddress:"https://www.wix.com/error-pages-samples/error",errorBodyBottom:"DYNAMIC_Pages_General_Error_Body_2",btnViewErrorPage:"DYNAMIC_Pages_Error_View_Error_Page_Button",btnClose:"DYNAMIC_Pages_Error_Close_Button"}}}.apply(t,[a,t]))||(e.exports=l)},1945:function(e,t,a){var l,n;l=[a,t,a(0),a(118),a(1946),a(1947),a(1948),a(1949),a(1950),a(1952),a(1954),a(1955),a(1956),a(1957),a(1959),a(1961),a(1962),a(1963),a(1964),a(1965),a(1966),a(1967),a(1968),a(1969),a(1970),a(1971),a(1972),a(1973),a(1974),a(1975),a(1976),a(1977),a(1978),a(101),a(1979),a(1980),a(1981),a(1982),a(1983),a(1984),a(1985),a(1986),a(1987),a(1988),a(1992),a(1994),a(1996),a(1998),a(1999),a(2e3),a(2001),a(2002),a(2003),a(2004),a(2005),a(2006),a(2007),a(501),a(2009),a(2010),a(2011),a(2012)],void 0===(n=function(e,t,a,l,n,i,o,s,r,u,d,p,c,m,f,h,_,g,E,b,P,C,y,S,N,T,I,v,D,A,L,k,x,O,w,R,M,B,H,U,F,V,G,W,q,K,Y,j,z,Q,X,J,$,Z,ee,te,ae,le,ne,ie,oe,se){"use strict";return l=a.__importDefault(l),n=a.__importDefault(n),i=a.__importDefault(i),o=a.__importDefault(o),s=a.__importDefault(s),r=a.__importDefault(r),u=a.__importDefault(u),d=a.__importDefault(d),p=a.__importDefault(p),c=a.__importDefault(c),m=a.__importDefault(m),f=a.__importDefault(f),h=a.__importDefault(h),_=a.__importDefault(_),g=a.__importDefault(g),E=a.__importDefault(E),b=a.__importDefault(b),P=a.__importDefault(P),C=a.__importDefault(C),y=a.__importDefault(y),S=a.__importDefault(S),N=a.__importDefault(N),T=a.__importDefault(T),I=a.__importDefault(I),v=a.__importDefault(v),D=a.__importDefault(D),A=a.__importDefault(A),L=a.__importDefault(L),k=a.__importDefault(k),x=a.__importDefault(x),O=a.__importDefault(O),w=a.__importDefault(w),R=a.__importDefault(R),M=a.__importDefault(M),B=a.__importDefault(B),H=a.__importDefault(H),U=a.__importDefault(U),F=a.__importDefault(F),V=a.__importDefault(V),G=a.__importDefault(G),W=a.__importDefault(W),q=a.__importDefault(q),K=a.__importDefault(K),Y=a.__importDefault(Y),j=a.__importDefault(j),z=a.__importDefault(z),Q=a.__importDefault(Q),X=a.__importDefault(X),J=a.__importDefault(J),$=a.__importDefault($),Z=a.__importDefault(Z),ee=a.__importDefault(ee),te=a.__importDefault(te),ae=a.__importDefault(ae),le=a.__importDefault(le),ne=a.__importDefault(ne),ie=a.__importDefault(ie),oe=a.__importDefault(oe),se=a.__importDefault(se),{welcomeVideoPanel:l.default,exampleFocusPanel:n.default,blogManagerPanel:i.default,shoutOutTemplatesPanel:o.default,aviaryPanel:s.default,organizeImagesPanel:r.default,outOfGridMobilePanel:u.default,outOfGridDesktopPanel:d.default,outOfContainerGridPanel:p.default,dragToHeaderPanel:c.default,attachToSOSPPanel:m.default,detachedFromSOSPPanel:f.default,spotifySearchFocusPanel:h.default,iTunsLinkMaker:_.default,howToVideoGalleryPanel:g.default,feedbackPanel:E.default,getTrafficPanel:b.default,promotionModalPanel:P.default,sizeRestrictionPanel:C.default,newEditorWelcomeScreenPanel:y.default,editorMigrationFailedPanel:S.default,newUserIntroVideoPanel:N.default,cameFromADIVideoPanel:T.default,migratedToMeshSuccessPanel:I.default,howToVideoPlayer:v.default,newEditorListWelcomeScreenPanel:D.default,migrateToMeshWelcomeScreenPanel:A.default,meshMigrationProgressPanel:L.default,failPanel:k.default,createNewTextBoxPanel:x.default,popupTemplate:O.default,siteImageOptimizationPanel:w.default,siteMembersSettingsPanel:R.default,newFeaturesVideoPanel:M.default,accessibilityPanel:B.default,mobileFriendlyPanel:H.default,mobileEditorFirstTimeVideoPanel:U.default,mobileEditorFirstTimePanel:F.default,appInstallerPanel:V.default,backToADIPanel:G.default,packageAndUpdatePanel:W.default,menuContainerUpgradePanel:q.default,apiDefinitionPropertySchema:K.default,customTypeValueEditPanel:Y.default,customTypeDefinitionPanel:j.default,browserThemeColorPanel:z.default,languagePublishSuccessPanel:Q.default,languageUnpublishPanel:X.default,languagePickerDeletePanel:J.default,multilingualComponentChangedPanel:$.default,googleTranslateFailed:Z.default,confirmResetAndClose:ee.default,confirmOpenWidget:te.default,customErrorPagePanel:ae.default,progressBarPanel:le.default,fakeProgressBarPanel:ne.default,renameSavedComponentsPanel:ie.default,deleteSavedComponentsPanel:oe.default,saveToMyElementsPanel:se.default}}.apply(t,l))||(e.exports=n)},1946:function(e,t,a){var l,n;l=[a,t,a(0),a(3),a(28)],void 0===(n=function(e,t,a,l,n){"use strict";var i;return l=a.__importDefault(l),n=a.__importDefault(n),(i=class extends l.default.Component{render(){return l.default.createElement(n.default,{title:"Example Focus Panel",panelName:this.props.panelName,className:"example-focus-panel"},l.default.createElement("iframe",{src:"http://www.w3schools.com",className:"content-iframe"}))}}).displayName="exampleFocusPanel",i}.apply(t,l))||(e.exports=n)},1947:function(e,t,a){var l,n;l=[a,t,a(0),a(18),a(5),a(4),a(2),a(11),a(3),a(28)],void 0===(n=function(e,t,a,l,n,i,o,s,r,u){"use strict";return l=a.__importDefault(l),n=a.__importDefault(n),i=a.__importDefault(i),o=a.__importStar(o),s=a.__importStar(s),r=a.__importDefault(r),u=a.__importDefault(u),n.default({displayName:"blogManagerDialog",mixins:[o.postMessageMixin,s.mixins.editorAPIMixin],propTypes:{blogManagerAppPathType:i.default.string,api:i.default.object},getInitialState(){return{src:this.props.api.frameUrl}},componentWillMount(){this.setPostMessageHandler(null,this.onMessageFromDialog)},onMessageFromDialog(e){switch(e.type){case"ready":this.onReady();break;case"anchors":e.payload.pageId&&this.onAnchorsRequest(e.payload.pageId);break;case"cancel":void 0!==e.payload&&e.payload.postsUnchanged||this.props.api.reloadAppPartsMethod(),this.getEditorAPI().panelManager.closePanelByName(this.props.panelName)}},onAnchorsRequest(e){const t=JSON.stringify({type:"anchors",payload:{anchorsData:this.props.api.getAnchorsByPage(e),pageId:e}});l.default.findDOMNode(this.refs.iframe).contentWindow.postMessage(t,"*")},onReady(){const e=JSON.stringify({type:"settings",payload:{isOpenFromSantaEditor:!0,themeData:this.props.api.themeData,themeDataSchema:this.props.api.themeDataSchema,WIXAPPS_EDITOR_STYLES:this.props.api.WIXAPPS_EDITOR_STYLES,CK_EDITOR_FONT_STYLES:this.props.api.CK_EDITOR_FONT_STYLES,CustomUsedFontsUrl:this.props.api.CustomUsedFontsUrl,FontsCssUrls:this.props.api.FontsCssUrls,FontsData:this.props.api.FontsData,FontsMetadata:this.props.api.FontsMetadata,pagesData:this.props.api.pagesData,currentPageId:this.props.api.currentPageId,charSet:this.props.api.charSet,siteUrl:this.props.api.siteUrl,isSitePublished:this.props.api.isSitePublished,imageOrganizerUrl:this.props.api.imageOrganizerUrl,urlFormat:this.props.api.urlFormat,blogPageTitle:this.props.api.blogPageTitle,singlePostLayout:this.props.api.singlePostLayout,siteTitle:this.props.api.siteTitle,isHeroImageEnabled:this.props.api.isHeroImageEnabled,isHttpsEnabled:this.props.api.isHttpsEnabled}});l.default.findDOMNode(this.refs.iframe).contentWindow.postMessage(e,"*")},render(){return r.default.createElement("div",{className:"blog-manager-panel"},r.default.createElement(u.default,{panelName:this.props.panelName,shouldHideHeader:!0,className:"blog-manager-panel"},r.default.createElement("iframe",{id:"blogManager",ref:"iframe",width:"100%",height:"100%",src:this.state.src,frameBorder:"0",allowFullScreen:!0})))}})}.apply(t,l))||(e.exports=n)},1948:function(e,t,a){var l,n;l=[a,t,a(0),a(5),a(4),a(11),a(2),a(3),a(28)],void 0===(n=function(e,t,a,l,n,i,o,s,r){"use strict";l=a.__importDefault(l),n=a.__importDefault(n),i=a.__importStar(i),o=a.__importStar(o),s=a.__importDefault(s),r=a.__importDefault(r);const u={evid:91,src:36,endpoint:"shout",sampleRatio:0,fields:{is_first:"bool",msid:"guid",referral_info:"string"}};return l.default({displayName:"shoutOutDialog",mixins:[i.mixins.editorAPIMixin,o.postMessageMixin],propTypes:{frameUrl:n.default.object},onClose(){return this.getEditorAPI().bi.event(u,{is_first:!0,referral_info:"editor panel"}),!0},componentWillMount(){this.setPostMessageHandler(null,this._onMessageFromDialog)},_onMessageFromDialog(e){"cancel"===e.type&&this.getEditorAPI().panelManager.closePanelByName("panels.focusPanels.shoutOutTemplatesPanel")},render(){return s.default.createElement("div",{className:"shoutout-templates-panel"},s.default.createElement(r.default,{panelName:"panels.focusPanels.shoutOutTemplatesPanel",shouldHideHeader:!0,onClose:this.onClose,className:"shoutout-templates-panel"},s.default.createElement("iframe",{id:"shoutOutTemplates",ref:"iframe",width:"100%",height:"100%",src:this.props.frameUrl,frameBorder:"0",allowFullScreen:!0})))}})}.apply(t,l))||(e.exports=n)},1949:function(e,t,a){var l,n;l=[a,t,a(0),a(18),a(5),a(4),a(1),a(22),a(11),a(2),a(17),a(3),a(28),a(2)],void 0===(n=function(e,t,a,l,n,i,o,s,r,u,d,p,c,m){"use strict";function f(){return p.default.createElement(c.default,{panelName:this.props.panelName,shouldHideHelp:!0,title:u.translate("AVIARY_PANEL_TITLE"),onClose:this.onCloseFrame,className:"aviary-panel"},p.default.createElement("div",{className:"aviary-dialog"},p.default.createElement("div",{ref:"content",id:"aviary_dialog_editor_content_wrapper"}),p.default.createElement("div",{id:"message",className:m.cx({hidden:!this.state.showMessage})},p.default.createElement("div",{className:"message-bg"},p.default.createElement("span",{id:"progress",className:m.cx({hidden:null==this.state.counter})},p.default.createElement("span",{id:"counter"},this.state.counter,"%")),p.default.createElement("span",{id:"messageContent"},this.state.messageText),p.default.createElement("span",{id:"cancel-button",onClick:this.onCancelClicked,className:m.cx({hidden:!this.state.showCancelButton})},u.translate("AVIARY_CANCEL_UPLOAD"))))))}l=a.__importDefault(l),n=a.__importDefault(n),i=a.__importDefault(i),o=a.__importDefault(o),s=a.__importDefault(s),r=a.__importStar(r),u=a.__importStar(u),d=a.__importDefault(d),p=a.__importDefault(p),c=a.__importDefault(c);const h=u.translate;let _=u.serviceTopology.htmlEditorRootUrl;_=_?_.replace(/html\/editor\/?/,""):"http://editor.wix.com/";const g=u.serviceTopology.mediaServerRoot,E="//editor."+g,b="//0.static.".concat(g,"/api/add_file"),P={errorCode:21034,params:{c1:"error message"},desc:"Failed on getting ticket for upload."},C={errorCode:21035,params:{c1:"error message"},desc:"Uploading image to statics failed."},y={errorCode:21036,params:{c1:"error message"},desc:"Updating private media with uploaded file failed."},S={errorCode:21037,params:{c1:"error message",i1:"error code"},desc:"Aviary editor failed on external script error."};let N;function T(e){const t={},a=e.imageLink.value;let l=a.uri;const n=/(^https?)|(^data)/.test(l)?"":"/static/media/",i=/(jpg$)|(jpeg$)/i.test(l)?"image/jpeg":"image/png";return(a.width>1500||a.height>1500)&&(l="".concat(l,"_").concat(1500)),t.tmpImageSrc=_+n+l,t.tmpImageType=i,t}function I(e,t,a,l,n,i){e=e||"GET";const o=new window.XMLHttpRequest;o.open(e,t,!0),o.onreadystatechange=function(){4===o.readyState&&(200===o.status||304===o.status?n(o):l(o))},o.setRequestHeader("Content-type",i||"text/plain"),o.send(a)}function v(e,t){!function(e,t){const a=function(e){try{e=JSON.parse(e.responseText)}catch(t){e.status="error",e.errorDescription="Parse error: ticket returned unexpected response"}t(e)};I("GET","".concat(e,"?accept=json"),null,a,a,"text/plain")}("".concat(E,"/media/tickets/get"),function(a){const l=a.responseValue;if(!l)return V("ERROR_AVIARY_TITLE","ERROR_AVIARY_UPLOAD_MESSAGE","Code: ".concat(P.errorCode)),F.call(this,!0),!1;L.call(this,l,e,t)}.bind(this))}function D(){const e=this.getEditorAPI(),t=e.selection.getSelectedComponents(),a=e.components.layout.get(t),l=a.width,n=a.height;return"".concat(l,":").concat(n)}function A(e){let t,a,l;if("string"==typeof e?(l=new window.Element("div"),l.innerHTML=e):l=e,l?(t=l.querySelector("upload"),a=t.getAttribute("success")):(t={getAttribute:()=>"No Response Error"},a=!1),u.stringUtils.isTrue(a)){const e=l.querySelector("properties"),a=l.querySelector("sys_meta");return{status:t.getAttribute("errorDescription"),originalName:a.getAttribute("original_file"),mimeType:a.getAttribute("mime_type"),fileUrl:a.getAttribute("file_url"),iconUrl:a.getAttribute("icon_url"),fileSize:a.getAttribute("file_size"),width:a.getAttribute("width"),height:a.getAttribute("height"),ver:a.getAttribute("ver"),fileName:e.getAttribute("file_name")}}return{status:"error",origin:t.getAttribute("origin"),errorCode:t.getAttribute("errorCode"),errorDescription:t.getAttribute("errorDescription")}}function L(e,t,a){const l=A,n=function(){const e=this.responseXML||this.responseText;a(l(e))},i={datauri:t,ut:e,s:"media"};let o,s=[];for(o in i)i.hasOwnProperty(o)&&s.push("".concat(o,"=").concat(i[o]));s=s.join("&");const r={onLoad:n,onError:n,onTimeout:n,onUploadProgress:k.bind(this),onAbort:this.onAbort};x.call(this,"POST",b,s,r,"application/x-www-form-urlencoded",!1)}function k(e){if(e.lengthComputable){const t=Math.round(e.loaded/e.total*100);this.setState({counter:t})}}function x(e,t,a,l,n,i){e=e||"GET",l=l||{};let s=!0;const r="undefined"!=typeof XDomainRequest;r?(this._xhrObject=new window.XDomainRequest,s=void 0):this._xhrObject=new window.XMLHttpRequest;const u=this._xhrObject;u.open(e,t,s),u.timeout=3e5,u.onload=l.onLoad||o.default.noop,u.onerror=l.onError||o.default.noop,u.ontimeout=l.onTimeout||o.default.noop,u.onprogress=l.onProgress||o.default.noop,u.upload&&u.upload.addEventListener("progress",l.onUploadProgress||o.default.noop,!1),r||(u.onabort=l.onAbort||o.default.noop,u.setRequestHeader("Content-type",n||"text/plain"),u.withCredentials=Boolean(i)),u.send(a)}function O(e){if("error"===(e=e||{}).status||"timeout"===e.status)return F.call(this,!1),V("ERROR_AVIARY_TITLE","ERROR_AVIARY_UPLOAD_MESSAGE","Code: ".concat(C.errorCode)),!1;const t=new Date,a=[t.getFullYear(),t.getMonth()+1,t.getDate(),[t.getHours(),t.getMinutes(),t.getSeconds()].join(":")].join("-");this._newImageUri=e.fileName,e.originalName="".concat(this.props.imageLink.value.title||"Edited Image"," ").concat(a),w.call(this,e)}function w(e){const t=function(e){let t="<mediaItemList>";return t+="<mediaItem",t+=' mediaType="picture',t+='" componentType="photo',t+='" fileName="'.concat(e.fileName),t+='" originalFileName="'.concat(e.originalName),t+='" fileSize="'.concat(e.fileSize),t+='" width="'.concat(e.width),t+='" height="'.concat(e.height),t+='" mimeType="'.concat(e.mimeType),t+='" iconURL="'.concat(e.iconUrl),t+='" version="'.concat(e.ver),t+='" tags="'.concat("edited image"),t+='" />\n',t+="</mediaItemList>",t}(e);I("POST","".concat(E,"/media/private/add"),t,(function(){return V("ERROR_AVIARY_TITLE","ERROR_AVIARY_UPLOAD_MESSAGE","Code: ".concat(y.errorCode)),!1}),function(){R.call(this)}.bind(this),"application/xml")}function R(){H.call(this),B.call(this),M.call(this,{result:"OK"})}function M(e){e=e||{},this.state.disableCloseButton||(this._aviaryCloseCause=e.result||"CANCEL",N.close(),this._forceClose||this.setTimeoutNamed("close",function(){this._forceClose=!0}.bind(this),2e3))}function B(){this.setState({disableCloseButton:!1})}function H(){if(!this._newImageSize||!this._newImageUri)return;let e=this.props.imageLink.value.originalImageDataRef;e||(e=o.default.cloneDeep(this.props.imageLink.value),delete e.originalImageDataRef),this.props.imageLink.requestChange({height:this._newImageSize.height,width:this._newImageSize.width,uri:this._newImageUri,originalImageDataRef:e}),this._newImageSize=null,this._newImageUri=null}function U(e,t){let a;a=e?{messageText:e,showMessage:!0}:{showMessage:!1},t?(a.showCancelButton=!0,window.XDomainRequest||(a.counter=0)):o.default.merge(a,{showCancelButton:!1,counter:null}),this.setState(a)}function F(e,t,a){N&&window.AV&&window.AV.paintWidgetInstance&&(e?(N.disableControls(),N.showWaitIndicator(),this.setState({disableCloseButton:!0}),U.call(this,t,a)):(N.enableControls(),N.hideWaitIndicator(),this.setState({disableCloseButton:!1,showMessage:!1})))}function V(e,t,a){const l=t&&h(t);(window&&window.confirm||function(){})(l,a)}const G={reactFunctions:{},onLoad:W("onLoad"),onAviarySave:W("onAviarySave"),onAviaryClose:W("onAviaryClose"),onAviaryReady:W("onAviaryReady"),onAviarySaveButtonClick:W("onAviarySaveButtonClick"),onError:W("onError")};function W(e){return function(){G.reactFunctions[e]&&G.reactFunctions[e]()}}function q(){var e;G.reactFunctions={onLoad:this.onLoad,onAviarySave:this.onAviarySave,onAviaryClose:this.onAviaryClose,onAviaryReady:this.onAviaryReady,onAviarySaveButtonClick:this.onAviarySaveButtonClick,onError:this.onError},N?G.onLoad():N=new window.Aviary.Feather({apiKey:"57b23071b",apiVersion:3,tools:"crop,orientation,enhance,effects,frames,brightness,contrast,saturation,warmth,focus,sharpness,draw,redeye,whiten,blemish,stickers,text",maxSize:1500,theme:"minimum",noCloseButton:!0,displayImageSize:!0,onLoad:G.onLoad,onSave:G.onAviarySave,onClose:G.onAviaryClose,onReady:G.onAviaryReady,onSaveButtonClicked:G.onAviarySaveButtonClick,onError:G.onError,appendTo:"aviary_dialog_editor_content_wrapper",language:(e=u.languages.getLanguageCode(),e?e.toLowerCase():"en"),launchDelay:0})}return n.default({displayName:"aviaryPanel",mixins:[u.postMessageMixin,d.default.timersMixins.timeoutsMixin,r.mixins.editorAPIMixin],propTypes:{imageLink:i.default.object,onDialogResult:i.default.func,editorAPI:i.default.object.isRequired},getInitialState(){const e=T(this.props);return o.default.merge(e,{tmpImageId:"some_random_id_".concat(Date.now()),disableCloseButton:!0,showMessage:!0,messageText:null,showCancelButton:!1,counter:null}),e},componentWillReceiveProps(e){this.setState(T(e))},componentDidMount(){q.call(this),this.setTimeoutNamed("aviaryIsDeadTimer",function(){this.setState({disableCloseButton:!1})}.bind(this),1e4),U.call(this,h("AVIARY_LOAD_MESSAGE","Loading Image Editor..."),!1)},componentWillMount(){const e=s.default("<img/>",{id:this.state.tmpImageId,src:this.state.tmpImageSrc,type:this.state.tmpImageType,crossOrigin:""});this.image=e.get(0)},launchAviary(){const e=h("AVIARY_ORIGINAL_ASPECT");N.launch({image:this.state.tmpImageId,cropPresetDefault:e,cropPresets:[[e,D.call(this)],"Custom"]})},onLoad(){const e=h("AVIARY_ORIGINAL_ASPECT");N.launch({image:this.image,cropPresetDefault:e,cropPresets:[[e,D.call(this)],"Custom"]})},onAviarySave:()=>!1,onAviaryClose(){this.clearTimeoutNamed("close"),this._forceClose=!1,this.props.onDialogResult&&this.props.onDialogResult(this._aviaryCloseCause)},onAviaryReady(){this.clearTimeoutNamed("aviaryIsDeadTimer"),this.setState({showMessage:!1,disableCloseButton:!1})},onAviarySaveButtonClick(){const e=JSON.parse(N.getActionList()),t=o.default.get(e,"actionlist.length",0)>1,a=l.default.findDOMNode(this.refs.content).querySelector("#avpw_canvas_element");let n="";return t?(F.call(this,!0,h("AVIARY_WAIT_MESSAGE","Uploading image, please wait..."),!0),n=encodeURIComponent(a.toDataURL(this.state.tmpImageType)),this._newImageSize={width:a.width,height:a.height},v.call(this,n,O.bind(this))):M.call(this,{result:"CANCEL"}),!1},onProgress(e){if(e.lengthComputable){const t=Math.round(e.loaded/e.total*100);this.setState({counter:t})}},onAbort(){return F.call(this,!1),this._xhrObject=null,!1},onError:e=>(V(0,"ERROR_AVIARY_GENERAL_MESSAGE","Codes: ".concat(S.errorCode,", ").concat(e.code)),!1),onCloseFrame(){M.call(this)},componentWillUnmount(){M.call(this)},onCancelClicked(){this._xhrObject?(this._xhrObject.abort(),window.XDomainRequest&&this.onAbort()):F.call(this,!1)},render(){return f.call(this)}})}.apply(t,l))||(e.exports=n)},1950:function(e,t,a){var l,n;l=[a,t,a(0),a(18),a(5),a(4),a(1),a(2),a(1951),a(11),a(14),a(17),a(12),a(6),a(7),a(3),a(9),a(28),a(2)],void 0===(n=function(e,t,a,l,n,i,o,s,r,u,d,p,c,m,f,h,_,g,E){"use strict";l=a.__importDefault(l),n=a.__importDefault(n),i=a.__importDefault(i),o=a.__importDefault(o),s=a.__importStar(s),r=a.__importDefault(r),u=a.__importStar(u),d=a.__importStar(d),p=a.__importDefault(p),c=a.__importStar(c),m=a.__importDefault(m),f=a.__importDefault(f),h=a.__importDefault(h),_=a.__importStar(_),g=a.__importDefault(g);const b={ICON_SOCIAL:"social_icons",IMAGE:"gallery_image"},P=c.events.organizeImages,{connect:C,STORES:{EDITOR_API:y}}=s.hoc;function S(){this.getEditorAPI().bi.event(P.ORGIMAGES_DIALOG_LOADED,{c1:"new Organize Images"}),this._isReady=!0;const e=N.call(this);this._pms.send("set",e)}function N(){return{images:this.props.imageDatas,translation:s.imageOrganizerUtils.getTranslation(this.props.galleryType),topology:s.serviceTopology,isPreset:this.props.isPreset,userSets:this.userSets}}function T(e){const t=e.data&&e.data.helpId;if(t){const e={panel_name:this.props.panelName,origin:m.default.BI.HELP.ORIGIN.PANEL,component:this.getEditorAPI().selection.getSelectedComponentType()};this.getEditorAPI().panelManager.openHelpCenter(t,null,null,e)}}function I(){const e=v.call(this);let t,a;"socialIcons"===this.props.galleryType?(a="6377d68a-a81f-4fd7-a675-f5a79f7e7ea9",t=s.translate("ORGANIZE_ICONS_DIALOG_TITLE")):(a=d.EXTERNAL.ORGANIZE_IMAGES,t=s.translate("OrganizeImages_IMAGES_DIALOG_TITLE")),this.setState({helpId:a,title:t,show:!0}),e.contentWindow.focus()}function v(){return l.default.findDOMNode(this.refs.iframe)}function D(e){const t=this.props.createImageDataItem();return o.default.merge(t,e),t}function A(e){const t=e.data,a=this.props.imageDatas;let l;const n=o.default.map(t,o.default.bind((function(e){return l=o.default.includes(e.id,"new_")?D.call(this,e.data):function(e,t){let a;const l=o.default.find(e,{id:t.id});return l&&(a=o.default.merge(l.data,t.data)),a}(a,e),function(e){o.default.get(e,"title.length",0)>100&&(e.title=e.title.substring(0,100))}(l),l}),this));this.props.imagesChanged(n)}function L(){this.getEditorAPI().panelManager.closePanelByName(this.props.panelName)}function k(e){const t=this.getEditorAPI(),a=e.data,l=t.bi.event;p.default.log.info("bi events",e),o.default.forOwn(a,(function(e,t){l(P[t],a[t])}))}function x(e){const t=this.getEditorAPI(),a=e.data,l=a.params||{};p.default.log.info("bi events",e),t.bi.event(P[a.name],l)}function O(e){e=e.data;const t=this.getEditorAPI();t.openLinkPanel({defaultLinkType:"ExternalLink",link:e.data.link,callback:function(a){a&&a.type||(a=null),this._pms.send("setLink",{link:a,linkText:a?s.link.getLinkValueAsString(t,a,!0):"",imgData:e,id:e.id})}.bind(this)})}function w(e,t,a){let l;const n={title:"ORGANIZE_IMAGES_MEDIA_MNGR_TITLE",submit:"ORGANIZE_IMAGES_MEDIA_MNGR_SUBMIT"},i=this.getEditorAPI().mediaServices,r=i.mediaManager;switch(this.props.galleryType){case"socialIcons":o.default.forEach(n,(function(e,t){n[t]=e.replace("IMAGES","ICONS")})),l=r.categories.ICON_SOCIAL;break;default:l=r.categories.IMAGE}const u=e?"_MANY":"_ONE",d=b[l];r.open(l,d,{multiSelect:e,translation:{title:s.translate(n.title+u),submitButton:a?s.translate("MMGR_submitbutton_gallery_uploads_choose"):s.translate("MMGR_submitbutton_gallery_uploads_add")},callback:(e,a)=>{t.call(this,e,a),i.setFocusToEditor()}})}let R=0;function M(){return"new_".concat(R++)}const B=n.default({displayName:"organizeImagesPanel",mixins:[s.postMessageMixin,u.mixins.editorAPIMixin],propTypes:{imageDatas:i.default.arrayOf(i.default.object).isRequired,isPreset:i.default.bool.isRequired,galleryType:i.default.oneOf(["images","socialIcons"]).isRequired,imagesChanged:i.default.func.isRequired,createImageDataItem:i.default.func.isRequired},getInitialState(){return this.userSets=f.default.editorPlugins.userPreferences.selectors.getGlobalUserPreferences("OrganizeImages")(this.getEditorAPI().store.getState()),this._pms=new r.default({connectionID:"OrganizeImages"}),this._pms.on("ready",S,this),this._pms.on("setup",I,this),this._pms.on("closed",L,this),this._pms.on("openLinkDialog",O,this),this._pms.on("save",A,this),this._pms.on("bi",x,this),this._pms.on("biChanges",k,this),this._pms.on("openHelpCenter",T,this),this._pms.on("openMediaGallery",this.openMediaGallery,this),this._pms.on("openMediaGalleryForReplace",this.openMediaGalleryForReplace,this),{show:!1}},openMediaGallery(){w.call(this,!0,(function(e){if(!e)return;const t=[];o.default.forEach(e,o.default.bind((function(e){const a=D.call(this,{uri:e.fileName,height:e.height,width:e.width,title:e.title||e.fileName});t.push({id:M(),data:a,linkText:""})}),this)),this._pms.send("add",t)}),!1)},openMediaGalleryForReplace(e){const t=e.data.position;w.call(this,!1,(function(e){if(!e)return;const a=[];o.default.forEach(e,o.default.bind((function(e){const t=D.call(this,{uri:e.fileName,height:e.height,width:e.width,title:e.title||e.fileName});a.push({id:M(),data:t,linkText:""})}),this)),a.length<=0||this._pms.send("replace",{position:t,data:a[0]})}),!0)},getFrameUrl(){return s.imageOrganizerUtils.getFrameUrl(this.props.galleryType)},componentDidMount(){this._pms.setTargetWindow(v.call(this).contentWindow),v.call(this).addEventListener("load",this.onFrameLoad)},onFrameLoad(){this._pms.on("setUserSets",this.setUserSettings,this)},setUserSettings(e){const t=this.userSets=e.data;this.getEditorAPI().store.dispatch(f.default.editorPlugins.userPreferences.actions.setGlobalUserPreferences("OrganizeImages",o.default.assign(t,{saveNow:!0}))).catch(o.default.noop)},onPanelClose(){const e=this.getEditorAPI();return!this._isReady||(this._pms.send("saveAndClose"),e.bi.event(P.ORGIMAGES_CLICK_CLOSE),!1)},render(){return h.default.createElement(g.default,{panelName:this.props.panelName,helpId:this.state.helpId,shouldNotCloseOnBlur:!0,shouldHideHeader:!0,onClose:this.onPanelClose,width:Math.round(.8*window.innerWidth).toString(),height:Math.round(.8*window.innerHeight).toString(),className:"organize-images-panel"},h.default.createElement("iframe",{id:"organizeImages",ref:"iframe",onLoad:this.onLoad,width:"100%",height:"100%",src:this.getFrameUrl(),frameBorder:"0",allowTransparency:!0,className:E.cx({hidden:!this.state.show,transition:!0})}),h.default.createElement(_.preloader,{ref:"preloader",className:E.cx({hidden:this.state.show,transition:!0})}))}});function H(e,t){return o.default.map(e.items,(function(e){const a=e.link;return{id:M(),data:e,linkText:a?s.link.getLinkValueAsString(t,a,!0):""}}))}const U=C(y,e=>{let{editorAPI:t}=e;const a=t.selection.getSelectedComponents();return{imageDatas:H(t.components.data.get(o.default.head(a)),t)}})(B);return U.pure=B,U}.apply(t,l))||(e.exports=n)},1951:function(e,t){e.exports=T},1952:function(e,t,a){var l,n;l=[a,t,a(0),a(5),a(11),a(3),a(6),a(101)],void 0===(n=function(e,t,a,l,n,i,o,s){"use strict";return l=a.__importDefault(l),n=a.__importStar(n),i=a.__importDefault(i),o=a.__importDefault(o),s=a.__importDefault(s),l.default({displayName:"outOfGridMobilePanel",mixins:[n.mixins.editorAPIMixin],render(){return i.default.createElement(s.default,{panelName:this.props.panelName,h1text:"Notification_Box_Out_Grid_Mobile_Title",h2text:"Notification_Box_Out_Grid_Mobile_Subtitle",symbolName:"outOfGridMobile",bodyText:"Notification_Box_Out_Grid_Mobile_Text",helpId:"769b8807-30b7-4ee4-8a7b-93674099732f",dontShowAgainKey:o.default.USER_PREFS.OUT_OF_GRID.MOBILE.OUT_OF_GRID_DONT_SHOW_AGAIN,userPrefType:"site"})}})}.apply(t,l))||(e.exports=n)},1953:function(e,t,a){var l,n;l=[a,t,a(0),a(1)],void 0===(n=function(e,t,a,l){"use strict";return l=a.__importDefault(l),function(e,t){let{editorAPI:a}=e;return{close:l.default.partial(a.panelManager.closePanelByName,t.panelName),openHelpCenter:a.panelManager.openHelpCenter,selectedComponentType:a.selection.getSelectedComponentType(),sendBi:a.bi.event}}}.apply(t,l))||(e.exports=n)},1954:function(e,t,a){var l,n;l=[a,t,a(0),a(5),a(11),a(3),a(6),a(101)],void 0===(n=function(e,t,a,l,n,i,o,s){"use strict";return l=a.__importDefault(l),n=a.__importStar(n),i=a.__importDefault(i),o=a.__importDefault(o),s=a.__importDefault(s),l.default({displayName:"outOfGridDesktopPanel",mixins:[n.mixins.editorAPIMixin],render(){return i.default.createElement(s.default,{panelName:this.props.panelName,h1text:"Notification_Box_Out_Page_Gridlines_Title",imageClassName:"page-out-of-grid",bodyText:"Notification_Box_Out_Page_Gridlines_Text",helpId:"b712fa83-f939-4ec4-ab68-b7f968d90fab",dontShowAgainKey:o.default.USER_PREFS.OUT_OF_GRID.DESKTOP.OUT_OF_GRID_DONT_SHOW_AGAIN,userPrefType:"site",className:"out-of-grid-desktop-panel"})}})}.apply(t,l))||(e.exports=n)},1955:function(e,t,a){var l,n;l=[a,t,a(0),a(5),a(11),a(3),a(6),a(101)],void 0===(n=function(e,t,a,l,n,i,o,s){"use strict";return l=a.__importDefault(l),n=a.__importStar(n),i=a.__importDefault(i),o=a.__importDefault(o),s=a.__importDefault(s),l.default({displayName:"outOfContainerGridPanel",mixins:[n.mixins.editorAPIMixin],render(){return i.default.createElement(s.default,{panelName:this.props.panelName,h1text:"Notification_Box_Out_Strip_Gridlines_Title",imageClassName:"container-out-of-grid",bodyText:"Notification_Box_Out_Strip_Gridlines_Text",helpId:"b712fa83-f939-4ec4-ab68-b7f968d90fab",dontShowAgainKey:o.default.USER_PREFS.OUT_OF_GRID.CONTAINER.OUT_OF_GRID_DONT_SHOW_AGAIN,userPrefType:"site"})}})}.apply(t,l))||(e.exports=n)},1956:function(e,t,a){var l,n;l=[a,t,a(0),a(5),a(11),a(3),a(6),a(101)],void 0===(n=function(e,t,a,l,n,i,o,s){"use strict";return l=a.__importDefault(l),n=a.__importStar(n),i=a.__importDefault(i),o=a.__importDefault(o),s=a.__importDefault(s),l.default({displayName:"dragToHeaderPanel",mixins:[n.mixins.editorAPIMixin],render(){return i.default.createElement(s.default,{panelName:this.props.panelName,h1text:"Notification_Box_Header_Added_Title",h2text:"Notification_Box_Header_Added_Subtitle",symbolName:"showOnAllPages",bodyText:"Notification_Box_Header_Added_Text",helpId:"db639aa7-f012-4526-9390-ef466c95f19d",dontShowAgainKey:o.default.USER_PREFS.DRAG_TO_HEADER.DONT_SHOW_AGAIN,userPrefType:o.default.USER_PREFS.TYPES.SITE})}})}.apply(t,l))||(e.exports=n)},1957:function(e,t,a){var l,n;l=[a,t,a(0),a(4),a(2),a(14),a(1958),a(3),a(28),a(8)],void 0===(n=function(e,t,a,l,n,i,o,s,r,u){"use strict";l=a.__importDefault(l),n=a.__importStar(n),i=a.__importStar(i),o=a.__importDefault(o),s=a.__importDefault(s),r=a.__importDefault(r),u=a.__importDefault(u);const{connect:d,renderWhenMutated:p,STORES:{EDITOR_API:c}}=n.hoc;class m extends s.default.Component{constructor(){super(...arguments),this.state={doNotShowAgain:this.props.doNotShowAgain},this.getKeyboardShortcuts=()=>({esc:this.onClose}),this.getIllustrationSrc=()=>{const e=2===n.browserUtil.getDevicePixelRatio()?"panels/focusPanels/addRemoveFromBarRetina.gif":"panels/focusPanels/addRemoveFromBar.gif";return n.media.getMediaUrl(e)},this.onClose=()=>{this.state.doNotShowAgain&&this.props.setDoNotShowAgain(),this.props.closePanel(this.props.panelName)},this.onLearnMoreClick=()=>{this.props.openHelpCenter(i.LEARN_MORE.SOSP_ATTACH_PANEL)},this.onDoNotShowAgainClick=()=>{this.setState({doNotShowAgain:!this.state.doNotShowAgain})}}render(){const e=n.translate;return s.default.createElement(r.default,{ref:"panelFrame",shouldHideHeader:!0,keyboardShortcuts:this.getKeyboardShortcuts(),panelName:this.props.panelName,className:"popup-medium attach-to-sosp-panel"},s.default.createElement(u.default.Composites.BigPanelHeader,null,s.default.createElement(u.default.PanelHeaderCenteredText,{title:"Notification_Box_MembersBar_Added_Title",subtitle:"Notification_Box_MembersBar_Added_Subtitle",titleType:"T16",onClose:this.onClose}),s.default.createElement(u.default.PanelHeaderIllustration,{blueStripHeight:92},s.default.createElement("img",{src:this.getIllustrationSrc(),className:"illustration"}))),s.default.createElement(u.default.Composites.PanelContent,null,s.default.createElement(u.default.Composites.RichText,null,s.default.createElement(u.default.RichText,{type:"T06"},s.default.createElement("p",null,e("Notification_Box_MembersBar_Added_Text"),s.default.createElement("a",{onClick:this.onLearnMoreClick}," ",e("Notification_Box_Learn_More")))))),s.default.createElement(u.default.Composites.ActionSetHorizontal,null,s.default.createElement(u.default.Checkbox,{value:this.state.doNotShowAgain,label:"Notification_Box_Dont_Show_Again",labelAfterSymbol:!0,onChange:this.onDoNotShowAgainClick}),s.default.createElement(u.default.Button,{onClick:this.onClose,className:"btn-md"},s.default.createElement("span",null,e("Notification_Box_Got_It")))))}}return m.displayName="AttachDetachSOSPPanel",m.propTypes={panelName:l.default.string.isRequired,closePanel:l.default.func.isRequired,openHelpCenter:l.default.func.isRequired,doNotShowAgain:l.default.bool.isRequired,setDoNotShowAgain:l.default.func.isRequired},d(c,o.default.mapStateToProps,o.default.mapDispatchToProps)(p(m))}.apply(t,l))||(e.exports=n)},1958:function(e,t,a){var l,n;l=[a,t,a(0),a(6),a(7)],void 0===(n=function(e,t,a,l,n){"use strict";l=a.__importDefault(l),n=a.__importDefault(n);const i=(e,t,a)=>{let{editorAPI:l}=a;return l};return{mapStateToProps:e=>{let{editorAPI:t}=e;return{doNotShowAgain:!!n.default.editorPlugins.userPreferences.selectors.getSiteUserPreferences(l.default.USER_PREFS.SOSP.PANELS.ATTACH_DO_NOT_SHOW_AGAIN)(t.store.getState())}},mapDispatchToProps:e=>{const t=e(i);return{closePanel:t.panelManager.closePanelByName,openHelpCenter:t.panelManager.openHelpCenter,setDoNotShowAgain:()=>{e(n.default.editorPlugins.userPreferences.actions.setSiteUserPreferences(l.default.USER_PREFS.SOSP.PANELS.ATTACH_DO_NOT_SHOW_AGAIN,!0))}}}}}.apply(t,l))||(e.exports=n)},1959:function(e,t,a){var l,n;l=[a,t,a(0),a(4),a(2),a(14),a(1960),a(3),a(28),a(8)],void 0===(n=function(e,t,a,l,n,i,o,s,r,u){"use strict";l=a.__importDefault(l),n=a.__importStar(n),i=a.__importStar(i),o=a.__importDefault(o),s=a.__importDefault(s),r=a.__importDefault(r),u=a.__importDefault(u);const{connect:d,renderWhenMutated:p,STORES:{EDITOR_API:c}}=n.hoc;class m extends s.default.Component{constructor(){super(...arguments),this.state={doNotShowAgain:this.props.doNotShowAgain},this.getKeyboardShortcuts=()=>({esc:this.onClose}),this.getIllustrationSrc=()=>{const e=2===n.browserUtil.getDevicePixelRatio()?"panels/focusPanels/addRemoveFromBarRetina.gif":"panels/focusPanels/addRemoveFromBar.gif";return n.media.getMediaUrl(e)},this.onClose=()=>{this.state.doNotShowAgain&&this.props.setDoNotShowAgain(),this.props.closePanel(this.props.panelName)},this.onLearnMoreClick=()=>{this.props.openHelpCenter(i.LEARN_MORE.SOSP_DETACH_PANEL)},this.onDoNotShowAgainClick=()=>{this.setState({doNotShowAgain:!this.state.doNotShowAgain})}}render(){const e=n.translate;return s.default.createElement(r.default,{ref:"panelFrame",shouldHideHeader:!0,keyboardShortcuts:this.getKeyboardShortcuts(),panelName:this.props.panelName,className:"popup-medium detached-from-sosp-panel"},s.default.createElement(u.default.Composites.BigPanelHeader,null,s.default.createElement(u.default.PanelHeaderCenteredText,{title:"Notification_Box_MemberSidebar_Move_Element_Title",subtitle:"Notification_Box_Membersidebar_Move_Element_Subtitle",titleType:"T16",onClose:this.onClose}),s.default.createElement(u.default.PanelHeaderIllustration,{blueStripHeight:92},s.default.createElement("img",{src:this.getIllustrationSrc(),className:"illustration"}))),s.default.createElement(u.default.Composites.PanelContent,null,s.default.createElement(u.default.Composites.RichText,null,s.default.createElement(u.default.RichText,{type:"T06"},s.default.createElement("p",null,e("Notification_Box_Membersidebar_Move_Body"),s.default.createElement("a",{onClick:this.onLearnMoreClick},e("Notification_Box_Membersidebar_Move_Link")))))),s.default.createElement(u.default.Composites.ActionSetHorizontal,null,s.default.createElement(u.default.Checkbox,{value:this.state.doNotShowAgain,label:"Notification_Box_Dont_Show_Again",labelAfterSymbol:!0,onChange:this.onDoNotShowAgainClick}),s.default.createElement(u.default.Button,{onClick:this.onClose,className:"btn-md"},s.default.createElement("span",null,e("Notification_Box_Membersidebar_Move_Close")))))}}return m.displayName="DetachedFromSOSPPanel",m.propTypes={panelName:l.default.string.isRequired,closePanel:l.default.func.isRequired,openHelpCenter:l.default.func.isRequired,doNotShowAgain:l.default.bool.isRequired,setDoNotShowAgain:l.default.func.isRequired},d(c,o.default.mapStateToProps,o.default.mapDispatchToProps)(p(m))}.apply(t,l))||(e.exports=n)},1960:function(e,t,a){var l,n;l=[a,t,a(0),a(6),a(7)],void 0===(n=function(e,t,a,l,n){"use strict";l=a.__importDefault(l),n=a.__importDefault(n);const i=(e,t,a)=>{let{editorAPI:l}=a;return l};return{mapStateToProps:e=>{let{editorAPI:t}=e;return{doNotShowAgain:!!n.default.editorPlugins.userPreferences.selectors.getSiteUserPreferences(l.default.USER_PREFS.SOSP.PANELS.DETACH_DO_NOT_SHOW_AGAIN)(t.store.getState())}},mapDispatchToProps:e=>{const t=e(i);return{closePanel:t.panelManager.closePanelByName,openHelpCenter:t.panelManager.openHelpCenter,setDoNotShowAgain:()=>{e(n.default.editorPlugins.userPreferences.actions.setSiteUserPreferences(l.default.USER_PREFS.SOSP.PANELS.DETACH_DO_NOT_SHOW_AGAIN,!0))}}}}}.apply(t,l))||(e.exports=n)},1961:function(e,t,a){var l,n;l=[a,t,a(0),a(5),a(1),a(11),a(2),a(3),a(28),a(14)],void 0===(n=function(e,t,a,l,n,i,o,s,r,u){"use strict";return l=a.__importDefault(l),n=a.__importDefault(n),i=a.__importStar(i),o=a.__importStar(o),s=a.__importDefault(s),r=a.__importDefault(r),u=a.__importStar(u),l.default({displayName:"spotifySearch",mixins:[i.mixins.editorAPIMixin,o.translationMixin,o.postMessageMixin],render(){return s.default.createElement(r.default,{ref:"focusPanelFrame",title:this.translateIfNeeded("Spotify_Player_Settings_Search"),panelName:this.props.panelName,selectedComponentType:this.props.selectedComponentType,helpId:u.EXTERNAL.SEARCH_SPOTIFY,className:"spotify-search-panel"},s.default.createElement("iframe",{src:this.props.iframeSrc,className:"content-iframe"}))},componentDidMount(){this.setPostMessageHandlerNamed("spotifySearch",this.props.id,this.onMessageFromDialog)},onMessageFromDialog(e){n.default.isFunction(this.props.callback)&&this.props.callback(e),this.getEditorAPI().panelManager.closePanelByName(this.props.panelName)}})}.apply(t,l))||(e.exports=n)},1962:function(e,t,a){var l,n;l=[a,t,a(0),a(5),a(2),a(3),a(28),a(14)],void 0===(n=function(e,t,a,l,n,i,o,s){"use strict";return l=a.__importDefault(l),n=a.__importStar(n),i=a.__importDefault(i),o=a.__importDefault(o),s=a.__importStar(s),l.default({displayName:"iTunesLinkMaker",mixins:[n.translationMixin],render(){return i.default.createElement(o.default,{title:this.translateIfNeeded("iTunes_Link_Maker_Title"),panelName:this.props.panelName,helpId:s.EXTERNAL.SEARCH_ITUNES,className:"itunes-link-maker"},i.default.createElement("iframe",{src:"https://linkmaker.itunes.apple.com",className:"content-iframe"}))}})}.apply(t,l))||(e.exports=n)},1963:function(e,t,a){var l,n;l=[a,t,a(0),a(5),a(1),a(11),a(2),a(7),a(3),a(28),a(8)],void 0===(n=function(e,t,a,l,n,i,o,s,r,u,d){"use strict";l=a.__importDefault(l),n=a.__importDefault(n),i=a.__importStar(i),o=a.__importStar(o),s=a.__importDefault(s),r=a.__importDefault(r),u=a.__importDefault(u),d=a.__importDefault(d);const{getPreviewPosition:p,getStageLayout:c}=s.default.editorPlugins.domMeasurements.selectors;function m(){return"https://apps.".concat(o.serviceTopology.baseDomain)}return l.default({displayName:"howToVideoGalleryPanel",mixins:[o.translationMixin,i.mixins.editorAPIMixin],componentDidMount(){window.addEventListener("message",this.iframeMessageHandler)},componentWillUnmount(){window.removeEventListener("message",this.iframeMessageHandler)},getStageWidth(){const e=this.getEditorAPI().store.getState();return c(e).width+p(e).left},iframeMessageHandler(e){(e.origin||e.originalEvent.origin)===m()&&"dealerButtonClick"===n.default.get(e,"data.event")&&this.getEditorAPI().panelManager.openPanel("panels.focusPanels.howToVideoPlayer",{videoId:e.data.details.clickType,origin:"TOP_BAR_HELP",withOverlay:!1,withShadow:!1},!0)},getIframeSrc(){const e=this.getEditorAPI().dsRead.generalInfo.getMetaSiteId(),t=this.getStageWidth();return m()+function(e){let t="/wix-dealer-webapp/api/lightboxViewer/EDITOR_VIDEO_GALLERY";return t+=e<1290?"_SMALL/":"/",t}(t)+e},getKeyboardShortcuts(){return{esc:this.onClose}},onClose(){this.getEditorAPI().panelManager.closePanelByName(this.props.panelName)},render(){return r.default.createElement(u.default,{ref:"panelFrame",frameClassName:"how-to-video-gallery-frame",shouldHideHeader:!0,keyboardShortcuts:this.getKeyboardShortcuts(),panelName:this.props.panelName,className:"how-to-video-gallery-panel"},r.default.createElement("div",{className:"panel-content"},r.default.createElement(d.default.Composites.BigPanelHeader,null,r.default.createElement(d.default.PanelHeaderCenteredText,{title:"HowTo_Videos_Panel_Title",subtitle:"HowTo_Videos_Panel_Subtitle",onClose:this.onClose})),r.default.createElement("iframe",{src:this.getIframeSrc(),className:"gallery-iframe"})))}})}.apply(t,l))||(e.exports=n)},1964:function(e,t,a){var l,n;l=[a,t,a(0),a(5),a(4),a(1),a(11),a(2),a(6),a(3),a(28)],void 0===(n=function(e,t,a,l,n,i,o,s,r,u,d){"use strict";l=a.__importDefault(l),n=a.__importDefault(n),i=a.__importDefault(i),o=a.__importStar(o),s=a.__importStar(s),r=a.__importDefault(r),u=a.__importDefault(u),d=a.__importDefault(d);const p=["ReactSource","experiments","experimentsoff","editorexp","viewerexp"];function c(){const e=s.serviceTopology.baseDomain;return"//feedback.".concat(e)}function m(){return window.location.protocol+c()}return l.default({propTypes:{panelName:n.default.string.isRequired},displayName:"feedbackPanel",mixins:[o.mixins.editorAPIMixin],getIframeSrc(){const e=this.getEditorAPI(),t=e.dsRead.generalInfo.getSiteId(),a=e.dsRead.generalInfo.getMetaSiteId();return"".concat(m(),"/shareSite/").concat(t,"?metaSiteId=").concat(a,"&origin=editor").concat(function(){const e=s.url.getParameterByName("feedbackVersion");let t=i.default(p).map((function(e){const t=s.url.getParameterByName(e);return t?"&".concat(e,"=").concat(t):null})).compact().join("");return e&&(t+="&rc=".concat(e)),t}())},componentDidMount(){window.addEventListener("message",this.iframeMessageHandler)},componentWillUnmount(){this.closeTimeout&&window.clearTimeout(this.closeTimeout),window.removeEventListener("message",this.iframeMessageHandler)},iframeMessageHandler(e){const t=this.getEditorAPI();if(e.origin.substring(e.origin.indexOf("//"))!==c())return;const a=e.data&&JSON.parse(e.data);switch(a.action){case"feedbackhelp":const e=function(e){switch(e){case"ShareHelpPro":return"4ca0f60b-3c8e-48c2-9259-8d70c8564101";case"ReadHelp":return"38fac604-38ba-4d83-97eb-3fbc8f702762";case"ReadHelpPro":return"4e1993e1-ece8-4478-b553-139926f66bfc";default:return"cb9a32fa-b217-4e31-b2e6-905dd8e2116c"}}(i.default.get(a,"helpType"));t.panelManager.openHelpCenter(e,null,{component:this.props.id,origin:r.default.BI.HELP.ORIGIN.PANEL,panel_name:"panels.focusPanels.feedbackPanel"});break;case"feedbackclose":this.getEditorAPI().panelManager.closePanelByName(this.props.panelName);break;case"opensitesettings":t.account.openSettings("authorization","feedback")}},panelWillClose(){if(!this.closeTimeout)return this.closeTimeout=window.setTimeout(function(){this.getEditorAPI().panelManager.closePanelByName(this.props.panelName)}.bind(this),r.default.FEEDBACK.CLOSE_PANEL_TIMEOUT),i.default.get(this.refs,"iframe.contentWindow")&&this.refs.iframe.contentWindow.postMessage("panelClosed",m()),!1},render(){return u.default.createElement(d.default,{ref:"panelFrame",panelName:this.props.panelName,shouldHideHeader:!0,shouldHideHelp:!0,onClose:this.panelWillClose,isBareMode:!0},u.default.createElement("iframe",{src:this.getIframeSrc(),width:"500",height:"743",ref:"iframe",className:"feedback-iframe"}))}})}.apply(t,l))||(e.exports=n)},1965:function(e,t,a){var l,n;l=[a,t,a(0),a(5),a(1),a(11),a(2),a(12),a(3),a(118),a(9)],void 0===(n=function(e,t,a,l,n,i,o,s,r,u,d){"use strict";l=a.__importDefault(l),n=a.__importDefault(n),i=a.__importStar(i),o=a.__importStar(o),s=a.__importStar(s),r=a.__importDefault(r),u=a.__importDefault(u),d=a.__importStar(d);const p=s,c=o.translate("Notification_Box_Get_Traffic_Video_URL");let m=[];return l.default({propTypes:{},displayName:"getTrafficPanel",mixins:[i.mixins.editorAPIMixin,o.translationMixin],getFoundOnGoogle(){this.sendPanelGetFoundEvent("getFoundOnGoogle");const e=this.translateIfNeeded("Notification_Box_Get_Traffic_Submit_Website_Button_Link");window.open(e,"_blank")},getPublicUrl(){let e=this.getEditorAPI().dsRead.generalInfo.getPublicUrl();return e&&(e=e.replace(/.*?:\/\//g,"")),e},searchOnGoogle(){const e=this.getPublicUrl("https://www.google.co.il/?#q=site:"),t="https://www.google.co.il/?#q=site:"+e;e&&window.open(t,"_blank"),this.sendSearchOnGoogleEvent(t)},getContentClass:()=>"only-new",linkedVideoData:()=>c,getDescription(e){if(n.default.isEmpty(m)){const e="site:".concat(this.getPublicUrl()),t={domain_address:e},a=this.translateTemplate("Notification_Box_Get_Traffic_Bottom_Text",t,this.getEditorAPI());m=a.split(e),m.push(e)}return m.length>=e?m[e]:""},sendSearchOnGoogleEvent(e){const t=this.getEditorAPI(),a=p.events.getTrafficPanel.GET_TRAFFIC_SEARCH_GOOGLE_CLICK,l={site_id:t.dsRead.generalInfo.getSiteId(),url:e};t.bi.event(a,l)},sendPanelGetFoundEvent(e){const t=this.getEditorAPI(),a=p.events.getTrafficPanel.GET_TRAFFIC_GET_FOUND_ON_GOOGLE_CLICK,l={site_id:t.dsRead.generalInfo.getSiteId(),origin:e,video_url:c};t.bi.event(a,l)},render(){return r.default.createElement(u.default,{ref:"frame",title:o.translate("Notification_Box_Get_Traffic_Title"),subtitle:o.translate("Notification_Box_Get_Traffic_Description"),linkedVideoData:this.linkedVideoData(),panelName:this.props.panelName,shouldNotCloseOnBlur:!0,className:"getTrafficPanel"},r.default.createElement("div",{className:"get-traffic-description content"},r.default.createElement("span",{className:"text-before-link"},this.getDescription(0)),r.default.createElement("a",{href:"#",onClick:()=>{this.searchOnGoogle()},className:"get-found-link"},this.getDescription(2)),r.default.createElement("span",{className:"text-after-link"},this.getDescription(1))),r.default.createElement("div",{className:"buttons"},r.default.createElement(d.button,{label:"Notification_Box_Get_Traffic_Submit_Website_Button_Label",onClick:()=>{this.getFoundOnGoogle()}})))}})}.apply(t,l))||(e.exports=n)},1966:function(e,t,a){var l,n;l=[a,t,a(0),a(5),a(4),a(1),a(11),a(2),a(3),a(28),a(9),a(10)],void 0===(n=function(e,t,a,l,n,i,o,s,r,u,d,p){"use strict";return l=a.__importDefault(l),n=a.__importDefault(n),i=a.__importDefault(i),o=a.__importStar(o),s=a.__importStar(s),r=a.__importDefault(r),u=a.__importDefault(u),d=a.__importStar(d),p=a.__importStar(p),l.default({displayName:"promotionModalPanel",mixins:[o.mixins.editorAPIMixin],propTypes:{headerFirstLineText:n.default.string,headerSecondLineText:n.default.string,imageSrc:n.default.string,bodyText:n.default.string,bodyLinkText:n.default.string,isImageLinkActive:n.default.bool,actionText:n.default.string,actionUrl:n.default.string,biEvent:n.default.object},getDefaultProps:()=>({isImageLinkActive:!0}),getImageContainerClass(){return this.props.isImageLinkActive?"a":"div"},handleAction(e){this.sendSubmitVideoClickedBI(e),window&&window.open(s.translate(this.props.actionUrl))},sendSubmitVideoClickedBI(e){const t={origin:e};this.getEditorAPI().bi.event(this.props.biEvent,t)},close(){this.getEditorAPI().panelManager.closePanelByName(this.props.panelName)},render(){const e=this.getImageContainerClass();return r.default.createElement(u.default,{panelName:this.props.panelName,shouldHideHeader:!0,shouldHideHelp:!0,className:"promo-popup-panel ".concat(this.props.className)},r.default.createElement("header",{className:"panel-header dark"},r.default.createElement("button",{onClick:()=>{this.close()},className:"close"},r.default.createElement(p.symbol,{name:"headerCloseButton"})),r.default.createElement("div",{className:"title-line-1"},s.translate(this.props.headerFirstLineText)),this.props.headerSecondLineText?r.default.createElement("div",{key:"headerSecondLine",className:"title-line-2"},s.translate(this.props.headerSecondLineText)):null,r.default.createElement(e,{onClick:this.props.isImageLinkActive?this.handleAction.bind(this,"image"):i.default.noop,className:"image-wrapper"},r.default.createElement("img",{ref:"image",src:this.props.imageSrc}),r.default.createElement("div",{className:"overlay-box-1"}),r.default.createElement("div",{className:"overlay-box-2"}),r.default.createElement("div",{className:"overlay-box-3"}))),r.default.createElement("div",{className:"content"},r.default.createElement("p",null,s.translate(this.props.bodyText),this.props.bodyLinkText?r.default.createElement("a",{key:"link",onClick:()=>{this.handleAction("date kink")}},s.translate(this.props.bodyLinkText)):null),this.props.bodyBottomText?r.default.createElement("p",{key:"bodyBottomText"},s.translate(this.props.bodyBottomText)):null,r.default.createElement(d.button,{label:this.props.actionText,onClick:()=>{this.handleAction("submission button")}})))}})}.apply(t,l))||(e.exports=n)},1967:function(e,t,a){var l,n;l=[a,t,a(0),a(5),a(11),a(7),a(12),a(3),a(6),a(101)],void 0===(n=function(e,t,a,l,n,i,o,s,r,u){"use strict";return l=a.__importDefault(l),n=a.__importStar(n),i=a.__importDefault(i),o=a.__importStar(o),s=a.__importDefault(s),r=a.__importDefault(r),u=a.__importDefault(u),l.default({mixins:[n.mixins.editorAPIMixin],displayName:"sizeRestrictionPanel",componentDidMount(){const e=this.getEditorAPI(),t=e.store;t.dispatch(i.default.editorPlugins.bi.actions.event(o.events.pinToScreen.NOTIFICATION_TOO_BIG,{state:this.props.state,component_type:i.default.editorPlugins.selection.selectors.getSelectedComponentType(t.getState(),e.dsRead)}))},render(){return s.default.createElement(u.default,{panelName:this.props.panelName,h1text:this.props.title,symbolName:"bigtopin",bodyText:this.props.content,dontShowAgainKey:r.default.PANELS.PIN_TOO_BIG.PIN_TOO_BIG_DONT_SHOW_AGAIN,helpId:"7827a21e-04e0-4bdd-9ee0-b68677fa7a5a",userPrefType:"site"})}})}.apply(t,l))||(e.exports=n)},1968:function(e,t,a){var l,n;l=[a,t,a(0),a(5),a(4),a(11),a(2),a(12),a(3),a(118),a(9)],void 0===(n=function(e,t,a,l,n,i,o,s,r,u,d){"use strict";l=a.__importDefault(l),n=a.__importDefault(n),i=a.__importStar(i),o=a.__importStar(o),s=a.__importStar(s),r=a.__importDefault(r),u=a.__importDefault(u),d=a.__importStar(d);const p=s;let c;return l.default({displayName:"newEditorWelcomeScreenPanel",mixins:[i.mixins.editorAPIMixin],propTypes:{isEligibleForSwitch:n.default.bool,onNextClick:n.default.func.isRequired,nextBtnLabel:n.default.string.isRequired,onBackClick:n.default.func.isRequired},next(){this.getEditorAPI().panelManager.closePanelByName(this.props.panelName),this.props.onNextClick()},back(){this.getEditorAPI().panelManager.closePanelByName(this.props.panelName),this.props.onBackClick()},linkClick(){const e=this.props.isEligibleForSwitch?"LEARN_MORE_CLICK_WITH_BACK_OPTION":"LEARN_MORE_CLICK_WITHOUT_BACK_OPTION";this.sendBIEvent(e);const t=o.translate("SWITCH_EDITORS_LP_LINK");window&&window.open(t)},getContentClass(){return this.props.isEligibleForSwitch?"switch-to-old":"only-new"},getContent(){const e={};return this.props.isEligibleForSwitch?(e.line1="Notification_Box_Switch_Editor_Description",e.link="Notification_Box_Switch_Editor_Link",e.line2=""):(e.line1="Notification_Box_New_Template_Line1",e.link="Notification_Box_New_Template_Link",e.line2="Notification_Box_New_Template_Line2"),e},linkedVideoData:()=>"//www.youtube.com/embed/".concat(o.translate("SWITCH_EDITORS_PR_VIDEO")),sendBIEvent(e){const t=this.getEditorAPI(),a=p.events.newEditorWelcomeScreens[e],l={site_id:t.dsRead.generalInfo.getSiteId()};a.fields.duration&&(l.duration=Date.now()-c),t.bi.event(a,l)},componentDidMount(){c=Date.now();const e=this.props.isEligibleForSwitch?"POP_UP_OPEN_WITH_BACK_OPTION":"POP_UP_OPEN_WITHOUT_BACK_OPTION";this.sendBIEvent(e)},render(){return r.default.createElement(u.default,{ref:"frame",title:o.translate("Notification_Box_New_Template_Title"),subtitle:o.translate("Notification_Box_New_Template_Subtitle"),linkedVideoData:this.linkedVideoData(),contentClass:this.getContentClass(),content:this.getContent(),panelName:this.props.panelName,shouldNotCloseOnBlur:!0},r.default.createElement("div",{className:"buttons"},this.props.isEligibleForSwitch?r.default.createElement(d.button,{label:"Notification_Box_Back_To_Old_Editor",onClick:()=>{this.back()},key:"Notification_Box_Back_To_Old_Editor",className:"btn-confirm-secondary"}):null,r.default.createElement(d.button,{label:this.props.nextBtnLabel,onClick:()=>{this.next()}})))}})}.apply(t,l))||(e.exports=n)},1969:function(e,t,a){var l,n;l=[a,t,a(0),a(1),a(3),a(9),a(28),a(2)],void 0===(n=function(e,t,a,l,n,i,o,s){"use strict";var r;return l=a.__importDefault(l),n=a.__importDefault(n),i=a.__importStar(i),o=a.__importDefault(o),s=a.__importStar(s),(r=class extends n.default.Component{constructor(){super(...arguments),this.onClick=()=>{const e=function(e,t,a){const n=new RegExp("([?&])".concat(t,"=.*?(&|$)"),"i"),i=l.default.includes(e,"?")?"&":"?";return e.match(n)?e.replace(n,"$1".concat(t,"=").concat(a,"$2")):"".concat(e+i+t,"=").concat(a)}(window.document.location.href,"forceEditorVersion","old");window.location=e},this.getHref=()=>"http://www.wix.com/website/templates/html/new/1"}render(){return n.default.createElement(o.default,{panelName:this.props.panelName,shouldHideHelp:!0,shouldHideHeader:!0,shouldNotCloseOnBlur:!0,isBareMode:!0,className:"editor-compatibility-panel"},n.default.createElement("header",{className:"save-publish-panel-header header"},n.default.createElement("div",{className:"header-content"},n.default.createElement("span",{className:"title"},s.translate("Notification_Box_Wrong_Editor_Title")),n.default.createElement("div",{className:"subtitle"},s.translate("Notification_Box_Wrong_Editor_Subtitle")))),n.default.createElement(i.symbol,{name:"coffee",className:"coffee-img"}),n.default.createElement("div",{className:"content"},n.default.createElement("div",null,n.default.createElement("span",null,s.translate("Notification_Box_Wrong_Editor_Line1")),n.default.createElement("span",null,n.default.createElement("a",{target:"_blank",href:this.getHref()},s.translate("Notification_Box_Wrong_Editor_Link"))),n.default.createElement("span",null," ",s.translate("Notification_Box_Wrong_Editor_Line2"))),n.default.createElement(i.button,{label:"Notification_Box_Wrong_Editor_Continue",onClick:this.onClick,className:"button"})))}}).displayName="editorMigrationFailedPanel",r}.apply(t,l))||(e.exports=n)},197:function(e,t,a){var l,n;l=[a,t,a(0),a(5),a(1),a(4),a(2),a(6),a(116),a(7),a(3),a(10),a(8),a(117)],void 0===(n=function(e,t,a,l,n,i,o,s,r,u,d,p,c,m){"use strict";l=a.__importDefault(l),n=a.__importDefault(n),i=a.__importDefault(i),o=a.__importStar(o),s=a.__importDefault(s),r=a.__importDefault(r),u=a.__importDefault(u),d=a.__importDefault(d),p=a.__importStar(p),c=a.__importDefault(c),m=a.__importDefault(m);const f=l.default({displayName:s.default.PANEL_TYPES.DANGER,mixins:[o.propTypesFilterMixin,r.default],propsTypes:{panelName:i.default.string.isRequired,close:i.default.func.isRequired,onConfirm:i.default.func,title:i.default.string.isRequired,contentLabel:i.default.string,confirmLabel:i.default.string.isRequired,cancelLabel:i.default.string,iconName:i.default.string.isRequired,onHelpHeader:i.default.func.isRequired,closeWithoutCalling:i.default.bool,callWithoutClosing:i.default.bool,validationError:i.default.bool,isLoading:i.default.bool},close(e){this.props.isLoading||this.closeAndCall(e,this.props.closeWithoutCalling)},closeAndCall(e,t,a){a||this.props.close(e),this.props.onConfirm&&!t&&this.props.onConfirm()},getClasses(){return this.props.validationError?"popup-small-size-danger danger validationErrorPanel":"popup-small-size-danger danger"},render(){return d.default.createElement("div",{id:"danger-message-panel-frame",className:"panel-frame-container screen-centered-frame general-panel-frame-z-index danger-message-panel-frame"},d.default.createElement(c.default.Composites.PopupSmallSize,{className:this.getClasses()},d.default.createElement(c.default.PanelHeader,{noHelpBtn:!this.props.onHelpHeader,onHelp:this.props.onHelpHeader,onClose:()=>{this.close(m.default.HEADER_CLOSE_BUTTON)}},d.default.createElement(c.default.TextLabel,{type:"T11",value:this.props.title})),d.default.createElement(c.default.Composites.PanelContent,null,d.default.createElement(c.default.Composites.RichTextWithIllustration,null,d.default.createElement(c.default.Illustration,null,d.default.createElement(p.symbol,{name:this.props.iconName})),this.props.contentLabel?d.default.createElement(c.default.Composites.RichTextLabeled,{key:"danger-message-content-labeled"},d.default.createElement(c.default.TextLabel,{type:"T11",value:this.props.contentLabel}),d.default.createElement(c.default.RichText,{type:"T01",className:"danger-message-content"},this.props.children)):null,this.props.contentLabel?null:d.default.createElement(c.default.Composites.RichText,{key:"danger-message-content",automationId:"dangerMessagePanelMessage"},d.default.createElement(c.default.RichText,{type:"T01",className:"danger-message-content"},this.props.children)))),d.default.createElement(c.default.Composites.ActionSetHorizontal,{className:"action-set-danger-message"},this.props.cancelLabel&&!this.props.isLoading?d.default.createElement(c.default.Button,{key:"cancelLabel",automationId:"cancelButton",onClick:()=>this.props.close(m.default.DONE_BUTTON),className:"secondary btn-md "},d.default.createElement(c.default.TextLabel,{automationId:"danger-message-secondary-button",value:this.props.cancelLabel})):null,d.default.createElement(c.default.Button,{automationId:"confirmButton",onClick:()=>this.closeAndCall(m.default.CONFIRM_BUTTON,!1,this.props.callWithoutClosing),className:n.default.concat("primary btn-md danger-confirm-Button",this.props.isLoading?"hidden":"").join(" ")},d.default.createElement(c.default.TextLabel,{automationId:"danger-message-primary-button",value:this.props.confirmLabel,className:"confirm-button-label"}),this.props.isLoading?d.default.createElement(c.default.Composites.Preloader,{key:"confirmButtonLoading"},d.default.createElement(c.default.Preloader,{className:"small light button-on-load"})):null))),d.default.createElement("div",{className:"dark-frame-overlay"}))}}),h=u.default.editorPlugins.panels.hoc.panelFrame(s.default.PANEL_TYPES.DANGER)(f);return h.pure=f,h}.apply(t,l))||(e.exports=n)},1970:function(e,t,a){var l,n;l=[a,t,a(0),a(5),a(11),a(139),a(12),a(3),a(118),a(9)],void 0===(n=function(e,t,a,l,n,i,o,s,r,u){"use strict";l=a.__importDefault(l),n=a.__importStar(n),i=a.__importDefault(i),o=a.__importStar(o),s=a.__importDefault(s),r=a.__importDefault(r),u=a.__importStar(u);const d=o;return l.default({displayName:"newUserIntroVideoPanel",mixins:[n.mixins.editorAPIMixin,i.default],getBIEvent:()=>d.events.newUserIntroVideoPanel.INTRO_VIDEO_CLOSE,render(){return s.default.createElement(r.default,{ref:"frame",title:this.props.title,subtitle:this.props.subtitle,linkedVideoData:this.props.linkedVideoData,panelName:this.props.panelName,onCloseByX:this.sendBIEventWhenClosedByX,onCloseByESC:this.sendBIEventWhenClosedByESC,shouldNotCloseOnBlur:!0},s.default.createElement("div",{className:"buttons"},s.default.createElement(u.button,{label:this.props.buttonLabel,onClick:()=>{this.startNow()}})))}})}.apply(t,l))||(e.exports=n)},1971:function(e,t,a){var l,n;l=[a,t,a(0),a(5),a(11),a(2),a(139),a(12),a(7),a(3),a(118),a(9)],void 0===(n=function(e,t,a,l,n,i,o,s,r,u,d,p){"use strict";l=a.__importDefault(l),n=a.__importStar(n),i=a.__importStar(i),o=a.__importDefault(o),s=a.__importStar(s),r=a.__importDefault(r),u=a.__importDefault(u),d=a.__importDefault(d),p=a.__importStar(p);const c=s;return l.default({displayName:"ADIVideoPanel",mixins:[n.mixins.editorAPIMixin,o.default],openTooltip(){this.getEditorAPI().store.dispatch(r.default.editorPlugins.topBarTooltip.actions.showBackToAdiTooltip()),this.sendTooltipOpenedBI()},getBIEvent:()=>c.events.cameFromADIVideoPanel.CAME_FROM_ADI_INTRO_VIDEO_CLOSE,sendTooltipOpenedBI(){const e=this.getEditorAPI();e.bi.event(s.events.backToADIFromEditor.goingBackToWixADITooltipOpened,{esi:i.editorModel.editorSessionId,site_id:e.dsRead.generalInfo.getSiteId()})},render(){return u.default.createElement(d.default,{ref:"frame",title:this.props.title,subtitle:this.props.subtitle,linkedVideoData:this.props.linkedVideoData,panelName:this.props.panelName,onCloseByX:this.sendBIEventWhenClosedByX,onCloseByESC:this.sendBIEventWhenClosedByESC,shouldNotCloseOnBlur:!0},u.default.createElement("div",{className:"buttons"},u.default.createElement(p.button,{label:this.props.buttonLabel,onClick:()=>{this.startNow()}})))}})}.apply(t,l))||(e.exports=n)},1972:function(e,t,a){var l,n;l=[a,t,a(0),a(5),a(4),a(2),a(139),a(3),a(1),a(28),a(8),a(10)],void 0===(n=function(e,t,a,l,n,i,o,s,r,u,d,p){"use strict";return l=a.__importDefault(l),n=a.__importDefault(n),i=a.__importStar(i),o=a.__importDefault(o),s=a.__importDefault(s),r=a.__importDefault(r),u=a.__importDefault(u),d=a.__importDefault(d),p=a.__importStar(p),l.default({displayName:"migratedToMeshSuccessPanel",mixins:[o.default,i.translationMixin],propTypes:{title:n.default.string.isRequired,subTitle:n.default.string.isRequired,bodyText:n.default.oneOfType([n.default.string,n.default.arrayOf(n.default.string)]).isRequired,illustrationSrc:n.default.string,illustrationSymbol:n.default.string,closeButtonText:n.default.string.isRequired,closePanel:n.default.func.isRequired},getTitleText(){return this.translateIfNeeded(this.props.title)},getSubtitleText(){return this.translateIfNeeded(this.props.subTitle)},getBodyTexts(){return[].concat(this.props.bodyText).map(this.translateIfNeeded)},getCloseButtonText(){return this.translateIfNeeded(this.props.closeButtonText)},getIllustrationSrc(){return this.props.illustrationSrc?i.media.getMediaUrl(this.props.illustrationSrc):null},illustrationSymbol(){return this.props.illustrationSymbol},getIllustrationAlt:()=>"Success illustration",isCloseButtonDisabled:()=>!1,onClose(){this.props.closePanel(this.props.panelName)},getKeyboardShortcuts(){return{esc:this.onClose}},shouldNotCloseOnBlur:()=>!0,render(){return s.default.createElement(u.default,{ref:"panelFrame",shouldHideHeader:!0,shouldNotCloseOnBlur:this.shouldNotCloseOnBlur(),keyboardShortcuts:this.getKeyboardShortcuts(),panelName:this.props.panelName,className:"member-area-added-panel popup-medium"},s.default.createElement(d.default.Composites.BigPanelHeader,null,s.default.createElement(d.default.PanelHeaderCenteredText,{title:this.getTitleText(),subtitle:this.getSubtitleText(),shouldTranslate:!1,onClose:this.onClose}),s.default.createElement(d.default.PanelHeaderIllustration,{blueStripHeight:92},this.getIllustrationSrc()?s.default.createElement("img",{src:this.getIllustrationSrc(),alt:this.getIllustrationAlt(),key:"illustrationImg",className:"illustration"}):null,!this.getIllustrationSrc()&&this.illustrationSymbol()?s.default.createElement(p.symbol,{name:this.illustrationSymbol(),key:"illustrationSymbol"}):null)),s.default.createElement(d.default.Composites.PanelContent,null,r.default.map(this.getBodyTexts(),e=>s.default.createElement(d.default.Composites.RichText,null,s.default.createElement(d.default.RichText,{type:"T06"},s.default.createElement("p",null,e))))),s.default.createElement(d.default.Composites.ActionSetHorizontal,null,s.default.createElement(d.default.Button,{onClick:this.onClose,disabled:this.isCloseButtonDisabled(),className:"btn-md"},s.default.createElement("span",null,this.getCloseButtonText()))))}})}.apply(t,l))||(e.exports=n)},1973:function(e,t,a){var l,n;l=[a,t,a(0),a(5),a(4),a(11),a(12),a(116),a(3),a(9),a(498),a(2)],void 0===(n=function(e,t,a,l,n,i,o,s,r,u,d,p){"use strict";l=a.__importDefault(l),n=a.__importDefault(n),i=a.__importStar(i),o=a.__importStar(o),s=a.__importDefault(s),r=a.__importDefault(r),u=a.__importStar(u),d=a.__importDefault(d);return l.default({displayName:"howToVideoPlayer",mixins:[s.default,i.mixins.editorAPIMixin],propTypes:{videoId:n.default.string.isRequired,origin:n.default.string.isRequired,withShadow:n.default.bool,withOverlay:n.default.bool},getDefaultProps:()=>({withShadow:!0,withOverlay:!0}),componentDidMount(){const e={videoID:this.props.videoId,origin:this.props.origin};this.getEditorAPI().bi.event(o.events.videoPlayer.OPEN,e),this.startTime=Date.now(),window.focus();const t=function(){new window.YT.Player("how-to-video-player-iframe",{events:{onStateChange:function(e){e.data===window.YT.PlayerState.ENDED&&this.close({code:"VIDEO_ENDED"})}.bind(this)}})};if(window.YT)window.YT.Player&&window.YT.PlayerState&&t.call(this);else{window.onYouTubeIframeAPIReady=function(){t.call(this),delete window.onYouTubeIframeAPIReady}.bind(this);const e=window.document.createElement("script");e.type="text/javascript",e.src="//www.youtube.com/iframe_api",window.document.head.appendChild(e)}},getIframeSrcUrl(){return"https://www.youtube.com/embed/"+this.props.videoId+"?rel=0&autoplay=1&color=red&controls=1&showinfo=0&fs=0&enablejsapi=1&origin=http://editor.wix.com&modestbranding=1"},close(e){const t=this.getEditorAPI(),a={videoID:this.props.videoId,duration:Date.now()-this.startTime,origin:e.code};t.bi.event(o.events.videoPlayer.CLOSE,a),t.panelManager.closePanelByName(this.props.panelName)},handleClickClose(){this.close({code:"X_BUTTON"})},handleClickOverlay(){this.close({code:"CLOSE_OVERLAY"})},getKeyboardShortcuts(){return{esc:this.close}},render(){return r.default.createElement(d.default,{panelName:"howToVideoPlayer",className:"how-to-video-player panel-frame-container"},r.default.createElement("div",{key:"darkOverlay",onClick:this.handleClickClose,className:p.cx({"dark-overlay":this.props.withOverlay,"close-overlay":!this.props.withOverlay})}),r.default.createElement("div",{className:p.cx({"container-iframe":!0,"with-shadow":this.props.withShadow})},r.default.createElement("div",{onClick:this.handleClickClose,className:"close"},r.default.createElement(u.symbol,{name:"close_video_icon_reg"})),r.default.createElement("iframe",{id:"how-to-video-player-iframe",src:this.getIframeSrcUrl()})))}})}.apply(t,l))||(e.exports=n)},1974:function(e,t,a){var l,n;l=[a,t,a(0),a(4),a(2),a(3),a(28),a(9),a(10),a(2)],void 0===(n=function(e,t,a,l,n,i,o,s,r,u){"use strict";var d;l=a.__importDefault(l),n=a.__importStar(n),i=a.__importDefault(i),o=a.__importDefault(o),s=a.__importStar(s),r=a.__importStar(r);return(d=class extends i.default.Component{constructor(){super(...arguments),this.next=()=>{this.getEditorAPI().panelManager.closePanelByName(this.props.panelName),this.props.onNextClick()},this.back=()=>{this.getEditorAPI().panelManager.closePanelByName(this.props.panelName),this.props.onBackClick()},this.getChangesPageUrl=()=>{const e=n.languages.getLanguageCode();return"https://www.wix.com/support/html5/new-wix-editor-june-2015/list/kb/information-about-moving-to-the-new-editor-with-the-list-builder".replace("www.wix.com","".concat("en"===e?"www":e,".wix.com"))}}render(){return i.default.createElement(o.default,{ref:"frame",panelName:this.props.panelName,shouldHideHeader:!0,shouldHideHelp:!0,isBareMode:!0,className:"new-editor-list-welcome-screen-panel"},i.default.createElement("header",{key:"header",className:"panel-header dark"},i.default.createElement("div",{className:"welcome-panel-header-title"},n.translate("list_migration_welcome_screen_title")),i.default.createElement(r.symbol,{name:"listWelcomeScreenAsset"})),i.default.createElement("div",{className:u.cx({content:!0,"only-new":!this.props.isEligibleForSwitch,"switch-to-old":this.props.isEligibleForSwitch})},i.default.createElement("p",null,n.translate("list_migration_welcome_screen_text_paragraph_1_before_changes_link"),i.default.createElement("a",{href:this.getChangesPageUrl(),target:"_blank"},n.translate("list_migration_welcome_screen_text_paragraph_1_changes_link")),n.translate("list_migration_welcome_screen_text_paragraph_1_after_changes_link")),i.default.createElement("p",null,n.translate("list_migration_welcome_screen_text_paragraph_2"))),i.default.createElement("div",{className:"buttons"},this.props.isEligibleForSwitch?i.default.createElement(s.button,{label:"Notification_Box_Back_To_Old_Editor",onClick:()=>{this.back()},key:"Notification_Box_Back_To_Old_Editor",className:"btn-confirm-secondary"}):null,i.default.createElement(s.button,{label:"Notification_Box_Start_Now",onClick:()=>{this.next()}})))}}).displayName="newEditorListWelcomeScreen",d.propTypes={isEligibleForSwitch:l.default.bool,onNextClick:l.default.func.isRequired,onBackClick:l.default.func.isRequired},d}.apply(t,l))||(e.exports=n)},1975:function(e,t,a){var l,n;l=[a,t,a(0),a(4),a(3),a(28),a(9),a(2),a(10)],void 0===(n=function(e,t,a,l,n,i,o,s,r){"use strict";var u;return l=a.__importDefault(l),n=a.__importDefault(n),i=a.__importDefault(i),o=a.__importStar(o),s=a.__importStar(s),r=a.__importStar(r),(u=class extends n.default.Component{render(){return n.default.createElement(i.default,{ref:"frame",panelName:this.props.panelName,shouldHideHeader:!0,shouldHideHelp:!0,shouldNotCloseOnBlur:!0,isBareMode:!0,className:"migrate-to-mesh-welcome-screen-panel"},n.default.createElement("header",{key:"header",className:"panel-header dark"},n.default.createElement("div",{className:"welcome-panel-header-title"},s.translate("Mesh_Migration_Popup_Title")),n.default.createElement(r.symbol,{name:"mesh-welcome-modal"})),n.default.createElement("div",{className:"content"},n.default.createElement("p",null,s.translate("Mesh_Migration_Popup_Text1")),n.default.createElement("p",null,s.translate("Mesh_Migration_Popup_Text2"),n.default.createElement("a",{onClick:this.props.onHelp,className:"learn-more"},s.translate("Mesh_Migration_Popup_Help_Link"))),n.default.createElement("p",null,s.translate("Mesh_Migration_Popup_Text3"))),n.default.createElement("div",{className:"buttons ".concat(this.props.canUserDecline?"":"single-button")},n.default.createElement(o.button,{label:"Mesh_Migration_Popup_Update_Button",shouldTranslate:!0,onClick:this.props.onConfirm}),this.props.canUserDecline?n.default.createElement(o.button,{key:"cancel-button",shouldTranslate:!0,label:"Mesh_Migration_Popup_Later_Link",onClick:this.props.onCancel,className:"btn-text maybe-later-btn"}):null))}}).displayName="migrateToMeshWelcomeScreen",u.propTypes={canUserDecline:l.default.bool.isRequired,onConfirm:l.default.func.isRequired,onCancel:l.default.func.isRequired,onHelp:l.default.func.isRequired},u}.apply(t,l))||(e.exports=n)},1976:function(e,t,a){var l,n;l=[a,t,a(0),a(1),a(2),a(7),a(4),a(3),a(28),a(8)],void 0===(n=function(e,t,a,l,n,i,o,s,r,u){"use strict";l=a.__importDefault(l),n=a.__importStar(n),i=a.__importDefault(i),o=a.__importDefault(o),s=a.__importDefault(s),r=a.__importDefault(r),u=a.__importDefault(u);const{connect:d}=n.hoc,p=i.default.editorPlugins.meshMigration.selectors,c={DESKTOP:"DESKTOP",MOBILE:"MOBILE"};class m extends s.default.Component{constructor(){super(...arguments),this.state={isInProgress:!0},this.onCancel=()=>{this.setState({isInProgress:!1},()=>{this.props.onAbort()})},this.getStepLabel=()=>(this.props.viewMode||"").toUpperCase()===c.MOBILE?"Mesh_Migration_Loader_Text_Step2":"Mesh_Migration_Loader_Text_Step1"}render(){return s.default.createElement(r.default,{ref:"frame",panelName:this.props.panelName,shouldHideHeader:!0,shouldHideHelp:!0,shouldNotCloseOnBlur:!0,isBareMode:!0,className:"mesh-migrate-progress-panel"},s.default.createElement(u.default.PanelHeader,{noCloseBtn:!0,noHelpBtn:!0,className:"dark"},s.default.createElement("span",null,n.translate("Mesh_Migration_Loader_Title"))),s.default.createElement(u.default.Composites.ProgressBar,null,s.default.createElement(u.default.TextLabel,{type:"T02",value:"",shouldTranslate:!1}),s.default.createElement(u.default.ProgressBar,{progress:this.state.isInProgress?this.props.value:0,progressMax:this.props.maxValue}),s.default.createElement(u.default.TextLabel,{type:"T02",value:this.getStepLabel(),shouldTranslate:!0})),this.props.canUserAbort?s.default.createElement(u.default.Button,{onClick:()=>this.onCancel(),disabled:!this.state.isInProgress,className:"btn-sm btn-light progress-cancel-btn"},s.default.createElement("span",null,n.translate("Mesh_Migration_Loader_Cancel_Button"))):null)}}m.displayName="meshMigrationProgressPanel",m.propTypes={onAbort:o.default.func.isRequired,canUserAbort:o.default.bool.isRequired,isDone:o.default.bool,value:o.default.number,maxValue:o.default.number,viewMode:o.default.oneOf(l.default.values(c))},m.defaultProps={viewMode:c.DESKTOP};return d(n.hoc.STORES.STATE_ONLY,e=>{let{state:t}=e;return{isDone:p.isDone(t),value:p.getValue(t),maxValue:p.getMaxValue(t),viewMode:p.getViewMode(t)}})(m)}.apply(t,l))||(e.exports=n)},1977:function(e,t,a){var l,n;l=[a,t,a(0),a(5),a(4),a(139),a(3),a(2),a(9),a(8),a(28)],void 0===(n=function(e,t,a,l,n,i,o,s,r,u,d){"use strict";return l=a.__importDefault(l),n=a.__importDefault(n),i=a.__importDefault(i),o=a.__importDefault(o),s=a.__importStar(s),r=a.__importStar(r),u=a.__importDefault(u),d=a.__importDefault(d),l.default({displayName:"failPanel",mixins:[i.default],propTypes:{title:n.default.string.isRequired,bodyText:n.default.string.isRequired,closeButtonText:n.default.string.isRequired,closePanel:n.default.func.isRequired,illustrationSymbol:n.default.string},getDefaultProps:()=>({illustrationSymbol:"plaster"}),getKeyboardShortcuts(){return{esc:this.onClose}},onClose(){this.props.closePanel(this.props.panelName)},render(){return o.default.createElement(d.default,{ref:"frame",panelName:this.props.panelName,shouldHideHeader:!1,shouldHideHelp:!0,shouldNotCloseOnBlur:!0,isBareMode:!0,title:s.translate(this.props.title),keyboardShortcuts:this.getKeyboardShortcuts(),className:"fail-panel-general"},o.default.createElement("div",{className:"content-wrapper"},o.default.createElement("div",{className:"icon"},o.default.createElement(r.symbol,{name:this.props.illustrationSymbol})),o.default.createElement(u.default.Composites.RichText,{className:"body-text"},o.default.createElement(u.default.RichText,{type:"T06"},o.default.createElement("span",{"data-aid":"error-message"},s.translate(this.props.bodyText)))),o.default.createElement(u.default.Button,{onClick:this.onClose,className:"primary close-button"},o.default.createElement(u.default.TextLabel,{value:this.props.closeButtonText}))))}})}.apply(t,l))||(e.exports=n)},1978:function(e,t,a){var l,n;l=[a,t,a(0),a(5),a(11),a(3),a(101)],void 0===(n=function(e,t,a,l,n,i,o){"use strict";return l=a.__importDefault(l),n=a.__importStar(n),i=a.__importDefault(i),o=a.__importDefault(o),l.default({displayName:"createNewTextBoxPanel",mixins:[n.mixins.editorAPIMixin],render(){return i.default.createElement(o.default,{panelName:this.props.panelName,h1text:"text_box_too_much_text_error_message_title",symbolName:"createNewTextBox",bodyText:"text_box_too_much_text_error_message_text",hideDontShowCheckbox:!0,isSingleInstance:this.props.isSingleInstance})}})}.apply(t,l))||(e.exports=n)},1979:function(e,t,a){var l,n;l=[a,t,a(0),a(11),a(3),a(10),a(8),a(5),a(4),a(1),a(12),a(9),a(28),a(2),a(14)],void 0===(n=function(e,t,a,l,n,i,o,s,r,u,d,p,c,m,f){"use strict";l=a.__importStar(l),n=a.__importDefault(n),i=a.__importStar(i),o=a.__importDefault(o),s=a.__importDefault(s),r=a.__importDefault(r),u=a.__importDefault(u),d=a.__importStar(d),p=a.__importStar(p),c=a.__importDefault(c),m=a.__importStar(m),f=a.__importStar(f);const h=["none","mild","regular","moderate","strong","maximum"],_=[{unsharpMask:{radius:0,amount:0,threshold:0},quality:90},{unsharpMask:{radius:.33,amount:1,threshold:0}},{unsharpMask:{radius:.66,amount:1,threshold:.01}},{unsharpMask:{radius:1.2,amount:1,threshold:.01}},{unsharpMask:{radius:2,amount:1,threshold:0}},{unsharpMask:{radius:4,amount:1,threshold:0}}],g=[{value:0,label:"IMAGE_QUALITY_NAME_NONE",illustration:n.default.createElement(o.default.Tooltip,{content:"IMAGE_QUALITY_NAME_NONE_TOOLTIP",alignment:"TOP",marginTop:23},n.default.createElement(i.symbol,{name:"image-quality-none"}))},{value:1,label:"IMAGE_QUALITY_NAME_GLOBAL_MILD",illustration:n.default.createElement(o.default.Tooltip,{content:"IMAGE_QUALITY_NAME_GLOBAL_MILD_TOOLTIP",alignment:"TOP",marginTop:23},n.default.createElement(i.symbol,{name:"image-quality-mild"}))},{value:2,label:"IMAGE_QUALITY_NAME_GLOBAL_REGULAR",illustration:n.default.createElement(o.default.Tooltip,{content:"IMAGE_QUALITY_NAME_GLOBAL_REGULAR_TOOLTIP",alignment:"TOP",marginTop:23},n.default.createElement(i.symbol,{name:"image-quality-regular"}))},{value:3,label:"IMAGE_QUALITY_NAME_GLOBAL_MODERATE",illustration:n.default.createElement(o.default.Tooltip,{content:"IMAGE_QUALITY_NAME_GLOBAL_MODERATE_TOOLTIP",alignment:"TOP",marginTop:23},n.default.createElement(i.symbol,{name:"image-quality-moderate"}))},{value:4,label:"IMAGE_QUALITY_NAME_GLOBAL_STRONG",illustration:n.default.createElement(o.default.Tooltip,{content:"IMAGE_QUALITY_NAME_GLOBAL_STRONG_TOOLTIP",alignment:"TOP",marginTop:23},n.default.createElement(i.symbol,{name:"image-quality-strong"}))},{value:5,label:"IMAGE_QUALITY_NAME_GLOBAL_MAXIMUM",illustration:n.default.createElement(o.default.Tooltip,{content:"IMAGE_QUALITY_NAME_GLOBAL_MAXIMUM_TOOLTIP",alignment:"TOP",marginTop:23},n.default.createElement(i.symbol,{name:"image-quality-maximum"}))}];return s.default({mixins:[l.mixins.editorAPIMixin],displayName:"siteImageOptimization",propTypes:{unsharpMask:r.default.shape({radius:r.default.number,amount:r.default.number,threshold:r.default.number})},getInitialState(){const e=this.getGlobalImageQualityData()||_[2];var t,a;return{selectedIndex:(t=e,a=_,u.default.findIndex(a,(function(e){return u.default.isEqual(e,t)}))),selectedValue:e}},getImageQualityPresetsOptions:()=>g,linkedQualityPresets(){return{value:this.state.selectedIndex,requestChange:function(e){this.setState({selectedValue:_[e],selectedIndex:e})}.bind(this)}},handleApplyQuality(){this.isApplyDisabled()||(this.updateGlobalImageQualityData(this.state.selectedValue),this.sendQualityApplyBI(this.state.selectedIndex),this.closeImageQualityPanel())},sendQualityApplyBI(e){const t=this.state.selectedValue;this.getEditorAPI().bi.event(d.events.siteImageQualitySettingsPanel.site_image_quality_settings_panel_apply,{origin:"global",preset:h[e]||"custom",unsharp_amount:100*t.unsharpMask.amount,unsharp_radius:100*t.unsharpMask.radius,unsharp_threshold:100*t.unsharpMask.threshold})},closeImageQualityPanel(){this.getEditorAPI().panelManager.closePanelByName(this.props.panelName)},isApplyDisabled(){const e=this.getGlobalImageQualityData();return-1===this.state.selectedIndex||!this.getGlobalImageQualityData()&&2===this.state.selectedIndex||u.default.isEqual(e,this.state.selectedValue)},getGlobalImageQualityData(){const e=this.getEditorAPI().dsRead.media.imageQuality.get();return u.default.isEmpty(e)?null:u.default.pick(e,["unsharpMask","quality"])},updateGlobalImageQualityData(e){const t=this.getEditorAPI();t.dsActions.media.imageQuality.reset(),t.dsActions.media.imageQuality.update(e),t.dsActions.wixapps.classics.reloadApp("blog"),this.getEditorAPI().history.add("site image quality panel - update quality")},render(){return n.default.createElement(c.default,{panelName:this.props.panelName,title:m.translate("SITE_IMAGE_QUALITY_SETTINGS_PANEL_HEADER_TITLE"),ref:"frame",helpId:f.SETTINGS.IMAGE_OPTIMIZATION,className:"site-image-optimisation-panel"},n.default.createElement(o.default.Composites.Thumbnails,null,n.default.createElement(o.default.TextLabel,{value:"SITE_IMAGE_QUALITY_SETTINGS_PANEL_DESCRIPTION",enableEllipsis:!1}),n.default.createElement(o.default.Thumbnails,{value:this.linkedQualityPresets().value,onChange:this.linkedQualityPresets().requestChange,maxThumbsPerRow:3,borderType:"thumbnailAndLabel",options:this.getImageQualityPresetsOptions()})),n.default.createElement(o.default.Divider,{long:!0}),n.default.createElement("div",{className:"action-buttons"},n.default.createElement(p.button2,{label:"SITE_IMAGE_QUALITY_SETTINGS_PANEL_CANCEL_BUTTON",onClick:this.closeImageQualityPanel,className:"default image-optimisation-cancel"}),n.default.createElement(p.button2,{label:"SITE_IMAGE_QUALITY_SETTINGS_PANEL_APPLY_BUTTON",disabled:this.isApplyDisabled(),onClick:this.handleApplyQuality,className:"default image-optimisation-done"})))}})}.apply(t,l))||(e.exports=n)},198:function(e,t,a){var l;void 0===(l=function(e,t){"use strict";return{NO_COLOR:"noColor",AUTOMATION_IDS:{COLOR_INDICATORS:{INITIAL:"aid-add-color-content-indicator-initial",CURRENT:"aid-add-color-content-indicator-current"},BTN:{CLOSE:"aid-add-color-content-btn-close",ADD:"aid-add-color-content-btn-add",ADD_CUSTOM_COLOR:"aid-site-custom-color-add",CUSTOM_COLORS:"aid-site-custom-color"}}}}.apply(t,[a,t]))||(e.exports=l)},1980:function(e,t,a){var l,n;l=[a,t,a(0),a(27),a(3),a(5),a(1),a(11),a(14),a(10),a(12),a(2),a(8),a(9),a(28)],void 0===(n=function(e,t,a,l,n,i,o,s,r,u,d,p,c,m,f){"use strict";function h(){const e=p.translate,t=this.getTabValues();return n.default.createElement(f.default,{panelName:this.props.panelName,title:e("Pages_Member_Signup_Settings_Title"),ref:"frame",helpId:this.getTabHelpId(),className:"site-members-settings-new-panel"},this.isCustomSignupEnabled()?n.default.createElement("div",{key:"isCustomSignupEnabled"},n.default.createElement(c.default.Composites.Banner,null,n.default.createElement(c.default.InfoIcon,{shouldTranslate:!0,text:"Pages_Member_Signup_Settings_Custom_Signup_Banner_Info_Tooltip_Content"}),n.default.createElement(c.default.SectionDivider,null,n.default.createElement(c.default.TextLabel,{value:"Pages_Member_Signup_Settings_Custom_Signup_Banner_Label",shouldTranslate:!0})))):null,n.default.createElement("div",{className:"member-settings-panel-content"},n.default.createElement(m.horizontalTabs,{shouldTranslate:!0,options:this.getTabs(),value:this.state.selectedTab,onChange:this.selectTab,className:"tabbed"}),n.default.createElement("div",{className:this.getTabContentClass()},n.default.createElement(c.default.Composites.RichText,null,n.default.createElement(c.default.RichText,{className:"light"},e("Pages_Member_Signup_Settings_Description"))),this.state.selectedTab===t.GENERAL?n.default.createElement("div",{key:"smSettingsTab",className:"general-settings settings"},n.default.createElement(c.default.CustomScroll,{heightRelativeToParent:"100%"},n.default.createElement(c.default.Divider,null),n.default.createElement(c.default.Composites.RadioButtonsLabeled,null,n.default.createElement(c.default.InfoIcon,{shouldTranslate:!0,text:"Member_Login_Settings_General_Settings_Info_Tooltip"}),n.default.createElement(c.default.TextLabel,{value:"Pages_Member_Signup_Permission_Settings_Dropdown_Label"}),n.default.createElement(c.default.RadioButtons,{value:this.state.autoApproval,options:this.getAutoApprovalOptions(),onChange:o.default.partial(this.onRadioButtonsClick,"autoApproval")})),n.default.createElement(c.default.Divider,null),n.default.createElement(c.default.Composites.RadioButtonsLabeled,null,n.default.createElement(c.default.TextLabel,{value:"Pages_Member_Signup_Display_Settings_Dropdown_Label"}),n.default.createElement(c.default.RadioButtons,{value:this.state.loginDialogFirst,options:this.getLoginFirstOptions(),onChange:o.default.partial(this.onRadioButtonsClick,"loginDialogFirst")})),this.isDeveloperModeEnabled()?n.default.createElement("div",{key:"customSignupSection"},n.default.createElement(c.default.Divider,null),n.default.createElement(c.default.Composites.RichTextLabeled,null,n.default.createElement(c.default.TextLabel,{disabled:!0,value:"Pages_Member_Signup_Settings_Custom_Signup_Label",shouldTranslate:!0}),n.default.createElement(c.default.RichText,null,n.default.createElement("a",{onClick:this.openCustomSignupPanel},this.getCustomSignupLinkText())))):null)):null,this.state.selectedTab===t.SOCIAL?n.default.createElement("div",{key:"smSocialLoginSettingsSection",className:"social-login-settings settings"},n.default.createElement(c.default.CustomScroll,{heightRelativeToParent:"100%"},n.default.createElement(c.default.Divider,{long:!0}),n.default.createElement(c.default.SectionDivider,null,e("Pages_Member_Signup_Settings_Social_Label")),n.default.createElement(c.default.Divider,{long:!0}),n.default.createElement("div",{className:"options"},n.default.createElement("section",{className:"social-option"},n.default.createElement(m.symbol,{name:"mba_social_panel_google_plus_new",className:"icon google"}),n.default.createElement(m.toggle,{name:"switch",valueLink:this.linkState("socialLoginGoogleEnabled"),label:"Member_Login_Settings_Social_Google"})),n.default.createElement(c.default.Divider,{long:!0}),n.default.createElement("section",{className:"social-option"},n.default.createElement(m.symbol,{name:"mba_social_panel_facebook",className:"icon facebook"}),n.default.createElement(m.toggle,{name:"switch",valueLink:this.linkState("socialLoginFacebookEnabled"),label:"Member_Login_Settings_Social_Facebook"}))),this.isSocialAppInstalled()?n.default.createElement("div",{key:"shouldDisplayCommunityToggle"},n.default.createElement(c.default.Divider,{long:!0}),n.default.createElement(c.default.Composites.SectionDividerWithInfoIcon,null,n.default.createElement(c.default.InfoIcon,{shouldTranslate:!0,text:"Member_Login_Settings_Community_Settings_Info_Tooltip"}),n.default.createElement(c.default.SectionDivider,null,e("Member_Login_Settings_Settings_Community_Label"))),n.default.createElement(c.default.Divider,{long:!0}),n.default.createElement("div",{className:"options"},n.default.createElement("section",{className:"social-option"},n.default.createElement(m.symbol,{name:"communityIcon",className:"icon community"}),n.default.createElement(m.toggle,{name:"switch",valueLink:this.linkState("joinCommunityEnabled"),label:"Member_Login_Settings_Community_Join"})))):null)):null,this.state.selectedTab===t.TERMS_AND_CONDITIONS?(()=>{const t=this.getArticles();return n.default.createElement("div",{key:"smSignupPoliciesSection",className:"signup-policies-settings settings"},n.default.createElement(c.default.CustomScroll,{heightRelativeToParent:"100%"},n.default.createElement("div",{className:"policies-segment-header"},n.default.createElement(c.default.Divider,{long:!0}),n.default.createElement(c.default.Composites.SectionDividerWithInfoIcon,null,n.default.createElement(c.default.InfoIcon,{shouldTranslate:!0,linkText:"Pages_Member_Signup_Settings_Terms_Of_Use_Link_Label_",onLinkClick:()=>this.openExamplePolicy(t.TERMS_OF_USE),text:"Pages_Member_Signup_Settings_Terms_Of_Use_Info_Tooltip"}),n.default.createElement(c.default.SectionDivider,null,e("Pages_Member_Signup_Settings_Terms_Of_Use_Divider_Label"))),n.default.createElement(c.default.Divider,{long:!0})),n.default.createElement("div",{className:"options"},n.default.createElement("section",{className:"option"},n.default.createElement(m.toggle,{name:"switch",value:this.state.termsOfUseLinkVisible,onChange:o.default.partial(this.toggleEditPoliciesVisibility,"termsOfUseLinkVisible"),label:"Pages_Member_Signup_Settings_Terms_Of_Use_Toggle_Label"}))),this.state.termsOfUseLinkVisible?n.default.createElement("div",{key:"ifTermsOfUseVisible",className:"policy-link-area"},n.default.createElement("div",{className:"policy-toggle-divider"},n.default.createElement(c.default.Divider,null)),n.default.createElement(c.default.Composites.ActionWithSymbolLabeled,null,n.default.createElement(c.default.TextLabel,{value:"Pages_Member_Signup_Settings_Policies_Link_Header",shouldTranslate:!0}),n.default.createElement(c.default.ActionWithSymbol,{action:o.default.partial(this.openLinkPanelFor,"termsOfUseLink")},n.default.createElement(c.default.TextLabel,{value:this.getLabelForPolicyPage("termsOfUseLink"),shouldTranslate:!1})))):null,n.default.createElement("div",{className:"policies-segment-header"},n.default.createElement(c.default.Divider,{long:!0}),n.default.createElement(c.default.Composites.SectionDividerWithInfoIcon,null,n.default.createElement(c.default.InfoIcon,{shouldTranslate:!0,linkText:"Pages_Member_Signup_Settings_Terms_Of_Use_Link_Label_",onLinkClick:()=>this.openExamplePolicy(t.PRIVACY_POLICY),text:"Pages_Member_Signup_Settings_Privacy_Policy_Tooltip"}),n.default.createElement(c.default.SectionDivider,null,e("Pages_Member_Signup_Settings_Privacy_Policy_Divider_Label"))),n.default.createElement(c.default.Divider,{long:!0})),n.default.createElement("div",{className:"options"},n.default.createElement("section",{className:"option"},n.default.createElement(m.toggle,{name:"switch",value:this.state.privacyPolicyLinkVisible,onChange:o.default.partial(this.toggleEditPoliciesVisibility,"privacyPolicyLinkVisible"),label:"Pages_Member_Signup_Settings_Privacy_Policy_Toggle_Label"}))),this.state.privacyPolicyLinkVisible?n.default.createElement("div",{key:"ifPrivacyPolicyVisible",className:"policy-link-area"},n.default.createElement("div",{className:"policy-toggle-divider"},n.default.createElement(c.default.Divider,null)),n.default.createElement(c.default.Composites.ActionWithSymbolLabeled,null,n.default.createElement(c.default.TextLabel,{value:"Pages_Member_Signup_Settings_Policies_Link_Header",shouldTranslate:!0}),n.default.createElement(c.default.ActionWithSymbol,{action:o.default.partial(this.openLinkPanelFor,"privacyPolicyLink")},n.default.createElement(c.default.TextLabel,{value:this.getLabelForPolicyPage("privacyPolicyLink"),shouldTranslate:!1})))):null,this.isSocialAppInstalled()?n.default.createElement("div",{key:"shouldShowCodeOfConductSection"},n.default.createElement("div",{className:"policies-segment-header"},n.default.createElement(c.default.Divider,{long:!0}),n.default.createElement(c.default.Composites.SectionDividerWithInfoIcon,null,n.default.createElement(c.default.SectionDivider,null,e("Pages_Member_Signup_Settings_Code_Of_Conduct_Divider_Label"))),n.default.createElement(c.default.Divider,{long:!0})),n.default.createElement("div",{className:"options"},n.default.createElement("section",{className:"option"},n.default.createElement(m.toggle,{name:"switch",value:this.state.codeOfConductLinkVisible,onChange:o.default.partial(this.toggleEditPoliciesVisibility,"codeOfConductLinkVisible"),label:"Pages_Member_Signup_Settings_Code_Of_Conduct_Toggle_Label"}))),this.state.codeOfConductLinkVisible?n.default.createElement("div",{key:"ifCodeOfConductVisible",className:"policy-link-area"},n.default.createElement("div",{className:"policy-toggle-divider"},n.default.createElement(c.default.Divider,null)),n.default.createElement(c.default.Composites.ActionWithSymbolLabeled,null,n.default.createElement(c.default.TextLabel,{value:"Pages_Member_Signup_Settings_Policies_Link_Header",shouldTranslate:!0}),n.default.createElement(c.default.ActionWithSymbol,{action:o.default.partial(this.openLinkPanelFor,"codeOfConductLink")},n.default.createElement(c.default.TextLabel,{value:this.getLabelForPolicyPage("codeOfConductLink"),shouldTranslate:!1})))):null):null))})():null),n.default.createElement(c.default.Divider,{long:!0}),n.default.createElement("footer",{className:"actions"},n.default.createElement(m.button,{label:"Pages_Member_Signup_Settings_Done",onClick:this.applySettings,className:"btn-confirm-primary btn-md done-button"}))))}l=a.__importDefault(l),n=a.__importDefault(n),i=a.__importDefault(i),o=a.__importDefault(o),s=a.__importStar(s),r=a.__importStar(r),u=a.__importStar(u),d=a.__importStar(d),p=a.__importStar(p),c=a.__importDefault(c),m=a.__importStar(m),f=a.__importDefault(f);const _="google",g="facebook",E={TERMS_OF_USE:"termsOfUse",PRIVACY:"privacyPolicy",CODE_OF_CONDUCT:"codeOfConduct"},b={GENERAL:"general",SOCIAL:"social",TERMS_AND_CONDITIONS:"terms"},P={TERMS_OF_USE:r.SITE_MEMBERS.TERMS_OF_USE_EXAMPLE,PRIVACY_POLICY:r.SITE_MEMBERS.PRIVACY_POLICY_EXAMPLE};function C(e,t,a){return t["".concat(a,"Item")]?t["".concat(a,"Item")]:t[a]?e.data.getById(t[a].replace("#","")):null}return i.default({displayName:"siteMembersSettingsPanel",mixins:[s.mixins.editorAPIMixin,l.default],getInitialState(){const e=this.getEditorAPI();return{selectedTab:b.GENERAL,autoApproval:e.siteMembers.isAutoApproval(),loginDialogFirst:e.siteMembers.isLoginDialogFirst(),socialLoginGoogleEnabled:e.siteMembers.isSocialLoginEnabled(_),socialLoginFacebookEnabled:e.siteMembers.isSocialLoginEnabled(g),termsOfUseLinkVisible:e.siteMembers.isSignupPoliciesFieldEnabled(E.TERMS_OF_USE),privacyPolicyLinkVisible:e.siteMembers.isSignupPoliciesFieldEnabled(E.PRIVACY),codeOfConductLinkVisible:e.siteMembers.isSignupPoliciesFieldEnabled(E.CODE_OF_CONDUCT),termsOfUseLink:e.siteMembers.getSignupPoliciesLink(E.TERMS_OF_USE),privacyPolicyLink:e.siteMembers.getSignupPoliciesLink(E.PRIVACY),codeOfConductLink:e.siteMembers.getSignupPoliciesLink(E.CODE_OF_CONDUCT),joinCommunityEnabled:!0,hasSocialPages:!1}},componentWillMount(){const e=this.getEditorAPI(),t=e.dsRead.tpa.app.getDataByAppDefId("14cc59bc-f0b7-15b8-e1c7-89ce41d0e0c9");t&&function(e,t,a){e.dsRead.platform.requestAPIFromWorker(t.applicationId).then(a).catch((function(){a({Error:"Application API not found."})}))}(e,t,t=>t.hasSocialPages().then(t=>{const a=e.siteMembers.isJoinCommunityEnabled();this.setState({hasSocialPages:t,joinCommunityEnabled:!o.default.isBoolean(a)||a})}))},closePanel(){this.getEditorAPI().panelManager.closePanelByName(this.props.panelName)},getTabs:()=>[{label:"Member_Login_Settings_General_Tab_Title",value:b.GENERAL},{label:"Member_Login_Settings_Social_Tab_Title",value:b.SOCIAL},{label:"Member_Login_Settings_Policies_Tab_Title",value:b.TERMS_AND_CONDITIONS}],getLabelForPolicyPage(e){return this.state["".concat(e,"Item")]?p.link.getLinkValueAsString(this.getEditorAPI(),this.state["".concat(e,"Item")]):this.state[e]?p.link.getLinkValueAsString(this.getEditorAPI(),this.getEditorAPI().data.getById(this.state[e].replace("#",""))):p.translate("Pages_Member_Signup_Settings_Policies_Link_Label")},getTabValues:()=>b,getArticles:()=>P,selectTab(e){this.setState({selectedTab:e})},isSocialAppInstalled(){return this.state.hasSocialPages},toggleEditPoliciesVisibility(e){this.setState({[e]:!this.state[e]})},linkPanelCallback(e,t){o.default.isObject(t)&&this.setState({["".concat(e,"Item")]:t}),o.default.isString(t)&&this.setState({["".concat(e)]:t}),this.getEditorAPI().bi.event(d.events.topbar.pages.top_bar_PAGES_settings_signup_link_to_policy,{name:e,action:"set-link",type:o.default.isObject(t)?t.type:this.getEditorAPI().data.getById(t.replace("#",""))})},applySettings(){const e=this.getEditorAPI().siteMembers,{autoApproval:t,loginDialogFirst:a,socialLoginGoogleEnabled:l,socialLoginFacebookEnabled:n}=this.state;e.isAutoApproval()!==t&&e.setAutoApproval(t),e.isLoginDialogFirst()!==a&&(e.setLoginDialogFirst(a),this.getEditorAPI().bi.event(d.events.topbar.pages.top_bar_PAGES_settings_signup_settings,{name:"shown first",value:this.state.loginDialogFirst?"login":"signup"})),e.isSocialLoginEnabled(_)!==l&&(e.setSocialLoginVendorStatus(_,l),this.getEditorAPI().bi.event(d.events.topbar.pages.top_bar_PAGES_settings_google_login_changed,{googlePlus:l})),e.isSocialLoginEnabled(g)!==n&&(e.setSocialLoginVendorStatus(g,n),this.getEditorAPI().bi.event(d.events.topbar.pages.top_bar_PAGES_settings_facebook_login_changed,{facebook:n})),this.isSocialAppInstalled()&&this.state.hasSocialPages&&e.isJoinCommunityEnabled()!==this.state.joinCommunityEnabled&&(e.setJoinCommunityStatus(this.state.joinCommunityEnabled),this.getEditorAPI().bi.event(d.events.topbar.pages.top_bar_PAGES_settings_signup_settings,{name:"join the community",value:this.state.joinCommunityEnabled?"checked":"unchecked"})),o.default.forEach(o.default.values(E),t=>{(function(e,t,a){return e.isSignupPoliciesFieldEnabled(a)!==t["".concat(a,"LinkVisible")]&&(t["".concat(a,"LinkItem")]||t["".concat(a,"Link")])})(e,this.state,t)&&(e.setSignupPoliciesFieldStatus(t,this.state["".concat(t,"LinkVisible")]),this.getEditorAPI().bi.event(d.events.topbar.pages.top_bar_PAGES_settings_signup_settings,{name:t,value:this.state["".concat(t,"LinkVisible")]?"on":"off"})),this.state["".concat(t,"LinkItem")]&&e.setSignupPoliciesLink(t,this.state["".concat(t,"LinkItem")])}),this.closePanel()},openHowToHelpCenter(){this.getEditorAPI().panelManager.openHelpCenter(r.SITE_MEMBERS.HOW_TO,{},{origin:this.props.panelName,panel_name:this.props.panelName})},openExamplePolicy(e){this.getEditorAPI().panelManager.openHelpCenter(e,{},{})},getAutoApprovalOptions:()=>[{label:"Pages_Member_Signup_Permission_Settings_Dropdown_Automatic",value:!0},{label:"Pages_Member_Signup_Permission_Settings_Dropdown_Manual",value:!1}],getLoginFirstOptions:()=>[{label:"Pages_Member_Signup_Display_Settings_Dropdown_Signup",value:!1},{label:"Pages_Member_Signup_Display_Settings_Dropdown_Login",value:!0}],onRadioButtonsClick(e,t){this.setState({[e]:t})},getGoogleSymbol:()=>n.default.createElement(u.symbol,{name:"mba_social_panel_google_plus_new"}),getFacebookSymbol:()=>n.default.createElement(u.symbol,{name:"mba_social_panel_facebook"}),openLinkPanelFor(e){const t=this.getEditorAPI();t.openLinkPanel({visibleSections:{PageLink:!0,AnchorLink:!0,NoLink:!1,PhoneLink:!1,WhatsAppLink:!1,ExternalLink:!1,EmailLink:!1,DocumentLink:!1,LoginToWixLink:!1,EdgeAnchorLinks:!1,PopupLink:!1},link:C(t,this.state,e),showAllPopups:!0,pageTabTitle:"LINK_PANEL_TAB_ANCHOR",pageTabPageDropDownTitle:"PLATFORM_LINK_MENU_PAGE_PAGE_OPTION",anchorTabPageDropDownTitle:"LINK_PANEL_PAGE_DROP_DOWN_PAGELINK_LABEL",title:"Pages_Member_Signup_Settings_Policies_Link_Header",callback:o.default.partial(this.linkPanelCallback,e)}),this.getEditorAPI().bi.event(d.events.topbar.pages.top_bar_PAGES_settings_signup_link_to_policy,{name:e,action:"click",type:"none"})},isDeveloperModeEnabled(){return this.getEditorAPI().developerMode.isEnabled()},isCustomSignupEnabled(){return!!this.getEditorAPI().siteMembers.getCustomSignupPageId()},getCustomSignupLinkText(){return this.isCustomSignupEnabled()?p.translate("Pages_Member_Signup_Settings_Custom_Signup_Edit_Link"):p.translate("Pages_Member_Signup_Settings_Custom_Signup_Enable_Link")},getTabContentClass(){return"tab-content ".concat(this.isCustomSignupEnabled()?"with-banner":"")},openCustomSignupPanel(){this.getEditorAPI().panelManager.openPanel("panels.toolPanels.customSignupSettingsPanel",{panelName:"panels.toolPanels.customSignupSettingsPanel"},!0),this.getEditorAPI().bi.event(d.events.topbar.pages.custom_signup_enable)},getTabHelpId(){switch(this.state.selectedTab){case b.GENERAL:return r.SITE_MEMBERS.GENERAL;case b.SOCIAL:return r.SITE_MEMBERS.SOCIAL_AND_COMMUNITY;case b.TERMS_AND_CONDITIONS:return r.SITE_MEMBERS.POLICIES;default:return r.SITE_MEMBERS.SETTINGS}},render(){return h.apply(this)}})}.apply(t,l))||(e.exports=n)},1981:function(e,t,a){var l,n;l=[a,t,a(0),a(5),a(11),a(139),a(12),a(3),a(118),a(9)],void 0===(n=function(e,t,a,l,n,i,o,s,r,u){"use strict";l=a.__importDefault(l),n=a.__importStar(n),i=a.__importDefault(i),o=a.__importStar(o),s=a.__importDefault(s),r=a.__importDefault(r),u=a.__importStar(u);const d=o;return l.default({displayName:"newFeaturesVideoPanel",mixins:[n.mixins.editorAPIMixin,i.default],getBIEvent:()=>d.events.newFeaturesVideoPanel.NEW_FEATURES_INTRO_VIDEO_CLOSE,render(){return s.default.createElement(r.default,{ref:"frame",title:this.props.title,subtitle:this.props.subtitle,linkedVideoData:this.props.linkedVideoData,panelName:this.props.panelName,onCloseByX:this.sendBIEventWhenClosedByX,onCloseByESC:this.sendBIEventWhenClosedByESC,shouldNotCloseOnBlur:!0},s.default.createElement("div",{className:"buttons"},s.default.createElement(u.button,{label:this.props.buttonLabel,onClick:()=>{this.startNow()}})))}})}.apply(t,l))||(e.exports=n)},1982:function(e,t,a){var l,n;l=[a,t,a(0),a(5),a(1),a(7),a(11),a(14),a(12),a(6),a(3),a(8),a(9),a(2),a(28)],void 0===(n=function(e,t,a,l,n,i,o,s,r,u,d,p,c,m,f){"use strict";l=a.__importDefault(l),n=a.__importDefault(n),i=a.__importDefault(i),o=a.__importStar(o),s=a.__importStar(s),r=a.__importStar(r),u=a.__importDefault(u),d=a.__importDefault(d),p=a.__importDefault(p),c=a.__importStar(c),m=a.__importStar(m),f=a.__importDefault(f);const h=i.default.editorPlugins.userPreferences.actions,_=i.default.editorPlugins.userPreferences.selectors,{openHelpCenter:g}=i.default.editorPlugins.panels.actions;return l.default({propTypes:{},displayName:"accessibilityPanel",mixins:[o.mixins.editorAPIMixin],successStatusDuration:1e3,getInitialState(){return{visualFocusEnabled:this.getEditorAPI().accessibility.visualFocus.get(),visualFocusTootlipOpen:!1}},componentDidMount(){const e=this.getEditorAPI();e.bi.event(r.events.accessibilityPanel.opened,{visual_ind_toggle:e.accessibility.visualFocus.get()?"on":"off",automatically_order_dom_toggle:this.getDOMReorderActivated()?"on":"off",site_id:e.dsRead.generalInfo.getSiteId()})},openHelpLink(e){const t={learn_more:Boolean(e),panel_name:this.props.panelName,origin:u.default.BI.HELP.ORIGIN.PANEL};this.getEditorAPI().panelManager.openHelpCenter(s.EXTERNAL.ACCESSIBILITY_PANEL,{},t)},openHeaderHelp(){this.openHelpLink(!1)},openLearnMoreLink(){this.openHelpLink(!0)},close(e){const t=this.getEditorAPI();t.bi.event(r.events.accessibilityPanel.close,{automatically_order_dom_toggle:this.getDOMReorderActivated()?"on":"off",visual_ind_toggle:t.accessibility.visualFocus.get()?"on":"off",closeMethod:e,site_id:t.dsRead.generalInfo.getSiteId()}),t.panelManager.closePanelByName(this.props.panelName)},closeByXButton(){this.close("X")},closeByCloseButton(){this.close("close")},onPanelClose(e){this.close(e)},openReorderToggleHelp(){const e=this.getEditorAPI();e.bi.event(r.events.accessibilityPanel.click_learn_more_toggle_accessibility),e.panelManager.openHelpCenter("0bd07ac2-acaf-4521-a5e6-c7534e283972")},getDOMReorderActivated(){const e=this.getEditorAPI().pages.data.get("masterPage").autoDomReorder;return!!n.default.isUndefined(e)||e},toggleDOMReorder(){const e=this.getEditorAPI(),t=!this.getDOMReorderActivated();e.bi.event(r.events.accessibilityPanel.toggle_accessibility_reorder,{value:t?"on":"off"}),e.pages.data.update("masterPage",{autoDomReorder:t})},toggleVisualFocus(){const e=this.getEditorAPI(),t=!this.state.visualFocusEnabled;this.getEditorAPI().accessibility.visualFocus.set(t),this.setState({visualFocusEnabled:t,visualFocusTootlipOpen:!t}),e.bi.event(r.events.accessibilityPanel.click_enable_visual_indicator,{site_id:e.dsRead.generalInfo.getSiteId(),value:t?"ON":"OFF"}),n.default.delay(function(){this.setState({visualFocusTootlipOpen:!1})}.bind(this),4e3)},isAdvancedA11yEnabled(){const e=this.getEditorAPI().store.getState();return _.getSiteUserPreferences(u.default.USER_PREFS.ACCESSIBILITY.ADVANCED_SETTINGS)(e)},openAdvancedA11yHelp(){this.getEditorAPI().store.dispatch(g("6a4966fb-8ef4-45c7-8cb9-10dde659392e"))},toggleAdvancedA11y(){this.getEditorAPI().store.dispatch(h.setSiteUserPreferences(u.default.USER_PREFS.ACCESSIBILITY.ADVANCED_SETTINGS,!this.isAdvancedA11yEnabled()))},render(){return d.default.createElement(f.default,{panelName:this.props.panelName,shouldHideHeader:!0,onClose:this.onPanelClose},d.default.createElement("div",{className:"accessibility-panel"},d.default.createElement(p.default.PanelHeaderCenteredText,{title:"SITE_ACCESSIBLITY_SETTINGS_PANEL_HEADER_TITLE",subtitle:"SITE_ACCESSIBLITY_SETTINGS_PANEL_SUB_TITLE",onHelp:this.openHeaderHelp,onClose:this.closeByXButton}),d.default.createElement("div",{className:"accessibility-panel-content"},d.default.createElement("div",{className:"accessibility-settings"},d.default.createElement("div",{className:"accessibility-settings-block"},d.default.createElement("div",{className:"accessibility-settings-block-icon"},d.default.createElement(c.symbol,{name:"visualFocus"})),d.default.createElement("div",{className:"accessibility-settings-block-info"},d.default.createElement("div",{className:"accessibility-settings-block-title"},m.translate("SITE_ACCESSIBLITY_SETTINGS_PANEL_FOCUS_TITLE")),d.default.createElement("div",{className:"accessibility-settings-block-description"},m.translate("SITE_ACCESSIBLITY_SETTINGS_PANEL_FOCUS_TEXT"))),d.default.createElement("div",{className:"accessibility-settings-block-control"},d.default.createElement(p.default.Tooltip,{content:"SITE_ACCESSIBLITY_SETTINGS_PANEL_FOCUS_TOOLTIP",isOpen:this.state.visualFocusTootlipOpen,disabled:this.state.visualFocusEnabled},d.default.createElement(p.default.ToggleSwitch,{value:this.state.visualFocusEnabled,onChange:this.toggleVisualFocus})))),d.default.createElement("div",{className:"accessibility-settings-block"},d.default.createElement("div",{className:"accessibility-settings-block-icon"},d.default.createElement(c.symbol,{name:"keyboardAccessibility"})),d.default.createElement("div",{className:"accessibility-settings-block-info"},d.default.createElement("div",{className:"accessibility-settings-block-title"},m.translate("SITE_ACCESSIBLITY_SETTINGS_PANEL_FOCUS2_TITLE")),d.default.createElement("div",{className:"accessibility-settings-block-description"},m.translate("SITE_ACCESSIBLITY_SETTINGS_PANEL_FOCUS2_TEXT"),d.default.createElement("a",{onClick:this.openReorderToggleHelp,className:"accessibility-settings-block-link"},m.translate("SITE_ACCESSIBLITY_SETTINGS_PANEL_FOCUS2_LINK")))),d.default.createElement("div",{className:"accessibility-settings-block-control"},d.default.createElement(p.default.ToggleSwitch,{value:this.getDOMReorderActivated(),onChange:this.toggleDOMReorder}))),d.default.createElement("div",{className:"accessibility-settings-block"},d.default.createElement("div",{className:"accessibility-settings-block-icon"},d.default.createElement(c.symbol,{name:"advancedSettings"})),d.default.createElement("div",{className:"accessibility-settings-block-info"},d.default.createElement("div",{className:"accessibility-settings-block-title"},m.translate("SITE_ACCESSIBLITY_SETTINGS_PANEL_ADVANCED_TITLE")),d.default.createElement("div",{className:"accessibility-settings-block-description"},m.translate("SITE_ACCESSIBLITY_SETTINGS_PANEL_ADVANCED_TEXT"),d.default.createElement("a",{onClick:this.openAdvancedA11yHelp,className:"accessibility-settings-block-link"},m.translate("SITE_ACCESSIBLITY_SETTINGS_PANEL_ADVANCED_LINK")))),d.default.createElement("div",{className:"accessibility-settings-block-control"},d.default.createElement(p.default.ToggleSwitch,{automationId:"toggle-advanced-a11y",value:this.isAdvancedA11yEnabled(),onChange:this.toggleAdvancedA11y}))))),d.default.createElement("div",{className:"accessibility-panel-footer"},d.default.createElement("div",{className:"accessibility-panel-footer-content"},d.default.createElement("div",{className:"accessibility-learn-more"},d.default.createElement("span",{className:"accessibility-learn-more-text"},m.translate("SITE_ACCESSIBLITY_SETTINGS_PANEL_LINK_TO_KB_TEXT")),d.default.createElement(p.default.Button,{onClick:this.openLearnMoreLink,className:"btn-text accessibility-learn-more-link"},m.translate("SITE_ACCESSIBLITY_SETTINGS_PANEL_LINK_TO_KB"))),d.default.createElement(p.default.Button,{onClick:this.closeByCloseButton,className:"accessibility-done-btn btn-confirm-secondary btn-md"},m.translate("SITE_ACCESSIBLITY_SETTINGS_PANEL_CLOSE_BUTTON"))))))}})}.apply(t,l))||(e.exports=n)},1983:function(e,t,a){var l,n;l=[a,t,a(0),a(5),a(11),a(14),a(12),a(6),a(2),a(4),a(7),a(3),a(8),a(9),a(28)],void 0===(n=function(e,t,a,l,n,i,o,s,r,u,d,p,c,m,f){"use strict";l=a.__importDefault(l),n=a.__importStar(n),i=a.__importStar(i),o=a.__importStar(o),s=a.__importDefault(s),r=a.__importStar(r),u=a.__importDefault(u),d=a.__importDefault(d),p=a.__importDefault(p),c=a.__importDefault(c),m=a.__importStar(m),f=a.__importDefault(f);const h=l.default({displayName:"mobileFriendlyPanel",mixins:[n.mixins.editorAPIMixin],propTypes:{setMobileOptimizedSite:u.default.func.isRequired,isMobileOptimizedSite:u.default.bool.isRequired},openHelpLink(){const e=this.getEditorAPI(),t={panel_name:this.props.panelName,origin:s.default.BI.HELP.ORIGIN.PANEL};e.panelManager.openHelpCenter(i.EXTERNAL.MOBILE_FRIENDLY,{},t)},close(e){const t=this.getEditorAPI();t.bi.event(o.events.panels.PANEL_CLOSED,{panel_name:this.props.panelName,origin:e}),t.panelManager.closePanelByName(this.props.panelName)},toggleMobileOptimized(){const e=this.getEditorAPI(),t=!this.props.isMobileOptimizedSite;this.props.setMobileOptimizedSite(t),e.bi.event(o.events.mobileFriendlyPanel.toggle_click,{origin:this.props.panelName,status:t})},render(){return p.default.createElement(f.default,{panelName:this.props.panelName,shouldHideHeader:!0},p.default.createElement("div",{className:"mobile-friendly-panel"},p.default.createElement(c.default.PanelHeaderCenteredText,{title:"Mobile_Friendly_Settings_Panel_Header_Title",subtitle:"Mobile_Friendly_Settings_Panel_Header_Sub_Title",onHelp:this.openHelpLink,onClose:this.close.bind(this,"X")}),p.default.createElement("div",{className:"mobile-friendly-panel-content"},p.default.createElement("div",{className:"mobile-friendly-settings"},p.default.createElement("div",{className:"mobile-friendly-settings-block"},p.default.createElement("div",{className:"mobile-friendly-settings-block-icon"},p.default.createElement(m.symbol,{name:"mobileFriendly"})),p.default.createElement("div",{className:"mobile-friendly-settings-block-info"},p.default.createElement("div",{className:"mobile-friendly-settings-block-title"},r.translate("Mobile_Friendly_Settings_Panel_Toogle_Label")),p.default.createElement("div",{className:"mobile-friendly-settings-block-description"},r.translate("Mobile_Friendly_Settings_Panel_Toogle_Text"))),p.default.createElement("div",{className:"mobile-friendly-settings-block-control"},p.default.createElement(c.default.ToggleSwitch,{value:this.props.isMobileOptimizedSite,onChange:this.toggleMobileOptimized,className:"mobile-friendly-toggle"}))))),p.default.createElement("div",{className:"mobile-friendly-panel-footer"},p.default.createElement("div",{className:"mobile-friendly-panel-footer-content"},p.default.createElement("div",{className:"mobile-friendly-learn-more"},p.default.createElement("span",{className:"mobile-friendly-learn-more-text"},r.translate("Mobile_Friendly_Settings_Panel_Link_to_KB_text")),p.default.createElement(c.default.Button,{onClick:this.openHelpLink,className:"btn-text mobile-friendly-learn-more-link"},r.translate("Mobile_Friendly_Settings_Panel_Link_to_KB_link"))),p.default.createElement(c.default.Button,{onClick:this.close.bind(this,"close"),className:"mobile-friendly-done-btn btn-confirm-secondary btn-md"},r.translate("Mobile_Friendly_SETTINGS_PANEL_CLOSE_BUTTON"))))))}});return r.hoc.connect(r.hoc.STORES.DS_ONLY,e=>{let{dsRead:t}=e;return{isMobileOptimizedSite:t.mobile.isOptimized()}},e=>({setMobileOptimizedSite:t=>e(d.default.editorPlugins.mobile.actions.setMobileOptimizedSite(t))}))(h)}.apply(t,l))||(e.exports=n)},1984:function(e,t,a){var l,n;l=[a,t,a(0),a(5),a(11),a(12),a(4),a(3),a(118),a(2),a(9)],void 0===(n=function(e,t,a,l,n,i,o,s,r,u,d){"use strict";l=a.__importDefault(l),n=a.__importStar(n),i=a.__importStar(i),o=a.__importDefault(o),s=a.__importDefault(s),r=a.__importDefault(r),u=a.__importStar(u),d=a.__importStar(d);const p="www.youtube.com/embed/CCFWEJ6r3NA";return l.default({displayName:"mobileEditorFirstTimeVideoPanel",mixins:[n.mixins.editorAPIMixin],propTypes:{panelName:o.default.string.isRequired},videoUrl:"//".concat(p).concat("?modestbranding=1;rel=0&frameborder=0;allowfullscreen=0;autoplay=1;controls=1;autohide=1;showinfo=0"),close(){this.getEditorAPI().panelManager.closePanelByName(this.props.panelName)},startNow(){this.sendBIEvent("startNow"),this.close()},sendBIEventWhenClosedByX(){this.sendBIEvent("xButton"),this.close()},sendBIEventWhenClosedByESC(){this.sendBIEvent("ESC"),this.close()},getContent(){const e={line1:"Intro_video_mobile_user_dialog_text1",line2:"Intro_video_mobile_user_dialog_text2"};return e},sendBIEvent(e){const t=this.getEditorAPI(),a={origin:e,site_id:t.dsRead.generalInfo.getSiteId(),duration:Date.now()-this.displayTime,video_url:p,panel_name:this.constructor.displayName};t.bi.event(i.events.newUserIntroVideoPanel.INTRO_VIDEO_CLOSE,a)},componentDidMount(){this.displayTime=Date.now()},render(){return s.default.createElement(r.default,{ref:"frame",title:u.translate("Intro_video_mobile_user_dialog_title"),subtitle:u.translate("Intro_video_mobile_user_dialog_subtitle"),linkedVideoData:this.videoUrl,content:this.getContent(),panelName:this.props.panelName,shouldNotCloseOnBlur:!0,onCloseByX:this.sendBIEventWhenClosedByX,onCloseByESC:this.sendBIEventWhenClosedByESC},s.default.createElement("div",{className:"buttons"},s.default.createElement(d.button,{label:"Intro_video_mobile_user_dialog_button",onClick:()=>{this.startNow()}})))}})}.apply(t,l))||(e.exports=n)},1985:function(e,t,a){var l,n;l=[a,t,a(0),a(5),a(4),a(11),a(3),a(101),a(6)],void 0===(n=function(e,t,a,l,n,i,o,s,r){"use strict";return l=a.__importDefault(l),n=a.__importDefault(n),i=a.__importStar(i),o=a.__importDefault(o),s=a.__importDefault(s),r=a.__importDefault(r),l.default({displayName:"mobileEditorFirstTimePanel",propTypes:{panelName:n.default.string.isRequired},mixins:[i.mixins.editorAPIMixin],render(){return o.default.createElement(s.default,{panelName:this.props.panelName,h1text:"Notification_Box_Mobile_FirstTime_Title",imageClassName:"check-your-mobile-site-image",bodyText:"Notification_Box_Mobile_FirstTime_Text",dontShowAgainKey:r.default.USER_PREFS.MOBILE_EDITOR.FIRST_TIME_PANEL.DONT_SHOW_AGAIN,shouldNotCloseOnBlur:!0,userPrefType:"site",className:"mobile-editor-first-time"})}})}.apply(t,l))||(e.exports=n)},1986:function(e,t,a){var l,n;l=[a,t,a(0),a(4),a(7),a(2),a(3),a(28),a(9)],void 0===(n=function(e,t,a,l,n,i,o,s,r){"use strict";l=a.__importDefault(l),n=a.__importDefault(n),i=a.__importStar(i),o=a.__importDefault(o),s=a.__importDefault(s),r=a.__importStar(r);class u extends o.default.Component{constructor(){super(...arguments),this.getProgressBarStyle=()=>{if(this.props.done)return{width:"100%",animation:"progressBarDone 0.8s"};const e=this.props.totalApps*Number(this.props.progressBarPace);return{width:"90%",animation:"progressBar ".concat(e,"s")}}}render(){return o.default.createElement(s.default,{panelName:"appInstallerPanel",shouldHideHelp:!0,shouldHideHeader:!0,className:"appInstaller-panel"},o.default.createElement("div",{className:"appInstaller-panel-inner"},o.default.createElement("div",{className:"header"},i.translate("SITE_APPINSTALLER_PANEL_TITLE")),o.default.createElement("div",{className:"progress"},o.default.createElement("div",{className:"progress-bar"},o.default.createElement("div",{style:this.getProgressBarStyle(),className:"filled"})),this.props.done?null:o.default.createElement("div",{key:"counter",className:"counter"},this.props.finishedCounter+1,"/",this.props.totalApps),this.props.done?o.default.createElement("div",{key:"checkmark",className:"checkmark"},o.default.createElement(r.symbol,{name:"check"})):null),this.props.done?null:o.default.createElement("div",{key:"description",className:"description"},i.translate("SITE_APPINSTALLER_PANEL_SUBTITLE")," ",this.props.installingAppName),this.props.done?o.default.createElement("div",{key:"description",className:"description"},i.translate("SITE_APPINSTALLER_PANEL_DONE")):null))}}u.displayName="AppInstallerPanel",u.propTypes={installingAppName:l.default.string,finishedCounter:l.default.number,done:l.default.bool};return i.hoc.connect(i.hoc.STORES.STATE_ONLY,e=>{let{state:t}=e;return n.default.appInstaller.selectors.getAppsInstallerPanelData(t)})(i.hoc.renderWhenMutated(u))}.apply(t,l))||(e.exports=n)},1987:function(e,t,a){var l,n;l=[a,t,a(0),a(5),a(2),a(11),a(12),a(3),a(8),a(9),a(28)],void 0===(n=function(e,t,a,l,n,i,o,s,r,u,d){"use strict";l=a.__importDefault(l),n=a.__importStar(n),i=a.__importStar(i),o=a.__importStar(o),s=a.__importDefault(s),r=a.__importDefault(r),u=a.__importStar(u),d=a.__importDefault(d);return l.default({propTypes:{},displayName:"backToADIPanel",mixins:[i.mixins.editorAPIMixin],openSiteHistory(){this.getEditorAPI().account.openSiteHistory(),this.sendBI("Site history")},close(){const e=this.getEditorAPI();this.sendBI("Stay in the editor"),e.panelManager.closePanelByName(this.props.panelName)},closeByXButton(){this.close("X")},backToEditorButton(){this.close("backToEditor")},redirectToADI(){this.getEditorAPI().site.restoreToADI().then(()=>{this.getEditorAPI().panelManager.closeAllPanels(),n.fedopsLogger.interactionEnded(n.fedopsLogger.INTERACTIONS.BACK_TO_ADI),window.location=n.editorModel.onboardingEditorUrl}).catch(e=>{n.ravenUtils.captureError(e,{tags:{backToADI:!0}})})},backToADI(){n.fedopsLogger.interactionStarted(n.fedopsLogger.INTERACTIONS.BACK_TO_ADI),this.sendBI("Back to Wix ADI"),this.redirectToADI()},onConfirm(){this.props.onButtonClick&&this.props.onButtonClick(!0)},sendBI(e){const t=this.getEditorAPI();t.bi.event(o.events.backToADIFromEditor.backToWixADIPanelClicked,{category:e,esi:n.editorModel.editorSessionId,site_id:t.dsRead.generalInfo.getSiteId()})},onPanelClose(e){this.close(e)},render(){return s.default.createElement(d.default,{key:"backToADIPanel",shouldHideHelp:!0,onClose:this.onPanelClose,title:n.translate("TOPBAR_BacktoADI_MSG_TITLE"),panelName:"back-to-adi",className:"back-to-adi-panel"},s.default.createElement("div",{className:"back-to-adi-panel-content"},s.default.createElement("div",{className:"svg-container"},s.default.createElement(u.symbol,{name:"BackToADIPopUp"})),s.default.createElement("div",{className:"description-container"},s.default.createElement("div",{className:"description-top"},s.default.createElement("span",{className:"description-text"},n.translate("TOPBAR_BacktoADI_MSG_BODY1"))),s.default.createElement("div",{className:"description-bottom"},s.default.createElement("span",{className:"description-text"},n.translate("TOPBAR_BacktoADI_MSG_BODY2")),s.default.createElement(r.default.Button,{onClick:this.openSiteHistory,className:"description-text btn-text description-link"},n.translate("TOPBAR_BacktoADI_MSG_LINK")))),s.default.createElement("div",{className:"footer-buttons"},s.default.createElement(u.button,{onClick:this.backToEditorButton,label:"TOPBAR_BacktoADI_MSG_BUTTON2",className:"btn-confirm-secondary btn-md footer-button"}),s.default.createElement(u.button,{onClick:this.backToADI,label:"TOPBAR_BacktoADI_MSG_BUTTON1",className:"btn-confirm-primary btn-md footer-button"}))))}})}.apply(t,l))||(e.exports=n)},1988:function(e,t,a){var l,n;l=[a,t,a(0),a(3),a(4),a(2),a(6),a(28),a(1989),a(1990),a(1991)],void 0===(n=function(e,t,a,l,n,i,o,s,r,u,d){"use strict";function p(){return l.default.createElement(s.default,{automationId:"app-studio-package-and-update-panel",panelName:this.props.panelName,shouldHideHeader:!0,shouldNotCloseOnBlur:this.isProgressStep(),keyboardShortcuts:this.getKeyboardShortcuts(),className:this.props.className},this.isProgressStep()?l.default.createElement(r.default,{key:"tasksSection",tasksDone:this.props.tasksDone,taskDisplayName:this.props.taskDisplayName,totalNumOfTasks:this.props.totalNumOfTasks,title:this.props.tasksTitle}):null,this.isFirstResultStep()?l.default.createElement(u.default,{key:"secondSuccessStep",content:this.props.firstResultSectionContent,closePanel:this.props.closePanel,onHelp:this.props.firstSuccessOnHelp,primaryButton:this.props.firstResultPrimaryButton,textButton:this.props.firstResultTextButton}):null,this.isError()?l.default.createElement(d.default,{key:"errorSection",content:this.props.errorSectionContent,primaryButton:this.props.errorSectionPrimaryButton,closePanel:this.props.closePanel}):null)}l=a.__importDefault(l),n=a.__importDefault(n),i=a.__importStar(i),o=a.__importDefault(o),s=a.__importDefault(s),r=a.__importDefault(r),u=a.__importDefault(u),d=a.__importDefault(d);const{TASKS:c,FIRST_SUCCESS:m,ERROR:f}=o.default.PACKAGE_UPDATE_PANEL_STEPS;class h extends l.default.Component{constructor(e){super(e),this.isProgressStep=()=>this.props.currStep===c,this.isFirstResultStep=()=>this.props.currStep===m,this.isError=()=>this.props.currStep===f,this.getKeyboardShortcuts=()=>({esc:()=>{this.isProgressStep()||this.props.closePanel()}})}componentDidUpdate(){!this.props.isDone||this.isFirstResultStep()||this.isError()||this.props.closePanel()}render(){return p.call(this)}}return h.propTypes={className:n.default.string,closePanel:n.default.func.isRequired,currStep:n.default.string.isRequired,errorSectionContent:n.default.shape({header:n.default.string.isRequired,message:n.default.string.isRequired,fixSteps:n.default.arrayOf(n.default.string)}),errorSectionPrimaryButton:n.default.shape({label:n.default.string.isRequired,onClick:n.default.func.isRequired}),firstResultContent:n.default.shape({header:n.default.string.isRequired,headerSubtitle:n.default.string.isRequired,items:n.default.arrayOf(n.default.string).isRequired}),firstResultPrimaryButton:n.default.shape({label:n.default.string.isRequired,onClick:n.default.func.isRequired}),firstResultTextButton:n.default.shape({label:n.default.string.isRequired,onClick:n.default.func.isRequired}),firstSuccessOnHelp:n.default.func,isDone:n.default.bool,tasksDone:n.default.number,taskDisplayName:n.default.string,tasksTitle:n.default.string,totalNumOfTasks:n.default.number},i.hoc.renderWhenMutated(h)}.apply(t,l))||(e.exports=n)},1989:function(e,t,a){var l,n;l=[a,t,a(0),a(4),a(3),a(8)],void 0===(n=function(e,t,a,l,n,i){"use strict";l=a.__importDefault(l),n=a.__importDefault(n),i=a.__importDefault(i);const o=e=>function(e){return n.default.createElement("div",{className:"tasks-section"},n.default.createElement(i.default.Composites.ProgressBar,null,n.default.createElement(i.default.TextLabel,{type:"T03",value:e.title}),n.default.createElement(i.default.ProgressBar,{automationId:"progress-bar-percentage",progress:e.tasksDone,progressMax:e.totalNumOfTasks}),n.default.createElement(i.default.TextLabel,{automationId:"task-name",type:"T02",value:e.taskDisplayName})))}(e);return o.displayName="PackageTasksSection",o.propTypes={tasksDone:l.default.number.isRequired,taskDisplayName:l.default.string.isRequired,title:l.default.string.isRequired,totalNumOfTasks:l.default.number.isRequired},o}.apply(t,l))||(e.exports=n)},1990:function(e,t,a){var l,n;l=[a,t,a(0),a(4),a(3),a(8),a(10)],void 0===(n=function(e,t,a,l,n,i,o){"use strict";l=a.__importDefault(l),n=a.__importDefault(n),i=a.__importDefault(i),o=a.__importStar(o);const s=e=>function(e){return n.default.createElement("div",{"data-aid":"first-success-section"},n.default.createElement(i.default.Composites.PopupMediumSize,{className:"composite-full-height"},n.default.createElement(i.default.Composites.BigPanelHeaderWithIllustration,null,n.default.createElement(i.default.PanelHeaderCenteredText,{automationId:"first-success-header",title:e.content.header,subtitle:e.content.headerSubtitle,titleType:"T16",onHelp:e.onHelp,onClose:e.closePanel}),n.default.createElement(i.default.PanelHeaderIllustration,{blueStripHeight:85},n.default.createElement(o.symbol,{name:"successMessageIllustration"}))),n.default.createElement(i.default.Composites.PanelContent,{"class-name":"first-success-panel-content"},n.default.createElement(i.default.Composites.PromotionalList,null,n.default.createElement(i.default.PromotionalList,{items:e.content.items}))),n.default.createElement(i.default.Composites.ActionSetHorizontalSpaced,{key:"first-result-buttons"},n.default.createElement(i.default.Button,{onClick:()=>{e.textButton.onClick()},className:"btn-text"},n.default.createElement(i.default.TextLabel,{value:e.textButton.label,automationId:"text-button-label"})),n.default.createElement(i.default.Button,{automationId:"primary-button-package-and-update-panel",onClick:()=>{e.primaryButton.onClick()},className:"primary"},n.default.createElement(i.default.TextLabel,{value:e.primaryButton.label,automationId:"primary-button-label"})))))}(e);return s.propTypes={content:l.default.shape({header:l.default.string.isRequired,headerSubtitle:l.default.string.isRequired,items:l.default.arrayOf(l.default.string).isRequired}).isRequired,closePanel:l.default.func.isRequired,onHelp:l.default.func.isRequired,primaryButton:l.default.shape({label:l.default.string.isRequired,onClick:l.default.func.isRequired}).isRequired,textButton:l.default.shape({label:l.default.string.isRequired,onClick:l.default.func.isRequired}).isRequired},s}.apply(t,l))||(e.exports=n)},1991:function(e,t,a){var l,n;l=[a,t,a(0),a(4),a(3),a(8),a(9)],void 0===(n=function(e,t,a,l,n,i,o){"use strict";l=a.__importDefault(l),n=a.__importDefault(n),i=a.__importDefault(i),o=a.__importStar(o);const s=e=>function(e){return n.default.createElement("div",{className:"error-section"},n.default.createElement(i.default.Composites.PopupSmallSize,{className:"composite-full-height"},n.default.createElement(i.default.PanelHeader,{titleType:"T16",noHelpBtn:!0,onClose:e.closePanel,className:"dark"},n.default.createElement("span",{"data-aid":"header-title"},e.content.header)),n.default.createElement(i.default.Composites.PanelContent,{className:"package-panel-content"},n.default.createElement(i.default.Composites.RichTextWithIllustration,null,n.default.createElement(i.default.Illustration,null,n.default.createElement(o.symbol,{name:"plaster"})),n.default.createElement(i.default.Composites.RichText,null,n.default.createElement(i.default.RichText,null,n.default.createElement("span",{"data-aid":"error-message",type:"T03"},e.content.message))))),n.default.createElement(i.default.Composites.ActionSetHorizontal,null,n.default.createElement(i.default.Button,{automationId:"primary-button-package-and-update-panel",onClick:()=>{e.primaryButton.onClick()},className:"primary"},n.default.createElement(i.default.TextLabel,{value:e.primaryButton.label,automationId:"primary-button-label"})))))}(e);return s.propTypes={closePanel:l.default.func.isRequired,content:l.default.shape({header:l.default.string.isRequired,message:l.default.string.isRequired}).isRequired,onHelp:l.default.func,primaryButton:l.default.shape({label:l.default.string.isRequired,onClick:l.default.func.isRequired}).isRequired},s}.apply(t,l))||(e.exports=n)},1992:function(e,t,a){var l,n;l=[a,t,a(0),a(4),a(2),a(1993),a(3),a(8),a(28)],void 0===(n=function(e,t,a,l,n,i,o,s,r){"use strict";l=a.__importDefault(l),n=a.__importStar(n),i=a.__importDefault(i),o=a.__importDefault(o),s=a.__importDefault(s),r=a.__importDefault(r);const{connect:u,renderWhenMutated:d,STORES:{EDITOR_API:p}}=n.hoc;function c(){return 2===n.browserUtil.getDevicePixelRatio()}class m extends o.default.Component{constructor(){super(...arguments),this.onConfirm=()=>{this.props.sendBiEventForMenuUpgrade(),this.props.upgradeToMenuContainer(),this.props.closePanel(this.props.panelName)},this.closePanel=()=>{this.props.closePanel(this.props.panelName)},this.onHelp=()=>{this.props.openHelpCenter()},this.getIllustrationSrc=()=>{const e=c()?"panels/focusPanels/menuContainerUpgradeRetina.gif":"panels/focusPanels/menuContainerUpgrade.gif";return n.media.getMediaUrl(e)},this.getBlueStripHeight=()=>c()?194:97}render(){return o.default.createElement(r.default,{automationId:this.props.panelName,panelName:this.props.panelName,shouldHideHeader:!0},o.default.createElement(s.default.Composites.PopupLargeSize,{className:"composite-full-height"},o.default.createElement(s.default.Composites.BigPanelHeaderWithIllustration,null,o.default.createElement(s.default.PanelHeaderCenteredText,{title:this.props.content.header,subtitle:this.props.content.headerSubtitle,titleType:"T16",onHelp:this.onHelp,onClose:this.closePanel}),o.default.createElement(s.default.PanelHeaderIllustration,{blueStripHeight:this.getBlueStripHeight()},o.default.createElement("img",{src:this.getIllustrationSrc(),className:"illustration"}))),o.default.createElement(s.default.Composites.PanelContent,null,o.default.createElement(s.default.Composites.PromotionalList,null,o.default.createElement(s.default.PromotionalList,{items:this.props.content.items}))),o.default.createElement(s.default.Composites.ActionSetHorizontal,null,o.default.createElement(s.default.Button,{onClick:()=>{this.closePanel()},className:"secondary"},o.default.createElement(s.default.TextLabel,{value:this.props.content.buttons.cancel})),o.default.createElement(s.default.Button,{onClick:()=>{this.onConfirm()},className:"primary"},o.default.createElement(s.default.TextLabel,{value:this.props.content.buttons.upgrade})))))}}return m.displayName="menuContainerUpgradePanel",m.propTypes={panelName:l.default.string,content:l.default.object,biEventOrigin:l.default.string,sendBiEventForMenuUpgrade:l.default.func.isRequired,upgradeToMenuContainer:l.default.func.isRequired,helpId:l.default.string},m.defaultProps={panelName:"panels.focusPanels.menuContainerUpgradePanel",helpId:"bd3bb209-b7a6-4f94-9074-fb71a4bda45f",content:{header:"Mobile_Menu_Update_Popup_Title",headerSubtitle:"Mobile_Menu_Update_Popup_Subtitle",items:["Mobile_Menu_Update_Popup_Bullet1","Mobile_Menu_Update_Popup_Bullet2","Mobile_Menu_Update_Popup_Bullet3","Mobile_Menu_Update_Popup_Bullet4"],buttons:{cancel:"Mobile_Menu_Update_Popup_Cancel_Button",upgrade:"Mobile_Menu_Update_Popup_Start_Button"}}},u(p,null,i.default.mapDispatchToProps)(d(m))}.apply(t,l))||(e.exports=n)},1993:function(e,t,a){var l,n;l=[a,t,a(0),a(7),a(12)],void 0===(n=function(e,t,a,l,n){"use strict";l=a.__importDefault(l),n=a.__importStar(n);const i=(e,t,a)=>{let{editorAPI:l}=a;return l};return{mapDispatchToProps:(e,t)=>{let{biEventOrigin:a}=t;const o=e(i);return{closePanel:o.panelManager.closePanelByName,openHelpCenter:o.panelManager.openHelpCenter,sendBiEventForMenuUpgrade:()=>{if(a){const e=l.default.editorPlugins.bi.actions.event;o.store.dispatch(e(n.events.mobileEditor.menuContainer.UPGRADE,{origin:a}))}},upgradeToMenuContainer:()=>{o.selection.deselectComponents(),o.closeRightClickMenu(),o.mobile.menuContainer.upgrade(),o.waitForChangesApplied(()=>{o.store.dispatch(l.default.inlinePopup.actions.closeAll()),o.store.dispatch(l.default.selection.actions.selectComponents([o.mobile.menuContainer.toggle.get()])),o.openFirstTimePanel(o.mobile.menuContainer.toggle.get()),o.history.add("tinyMenu upgraded to menuContainer")})}}}}}.apply(t,l))||(e.exports=n)},1994:function(e,t,a){var l,n;l=[a,t,a(0),a(1),a(9),a(2),a(7),a(6),a(4),a(1995),a(117),a(57),a(3),a(8),a(28)],void 0===(n=function(e,t,a,l,n,i,o,s,r,u,d,p,c,m,f){"use strict";l=a.__importDefault(l),n=a.__importStar(n),i=a.__importStar(i),o=a.__importDefault(o),s=a.__importDefault(s),r=a.__importDefault(r),u=a.__importDefault(u),d=a.__importDefault(d),p=a.__importDefault(p),c=a.__importDefault(c),m=a.__importDefault(m),f=a.__importDefault(f);const{connect:h,STORES:{EDITOR_API:_}}=i.hoc,{PROP_TYPES:g}=s.default.APP_STUDIO,{validateByProperty:E}=n.utils.propertySchemaValidationUtils;class b extends c.default.Component{constructor(e,t){super(e,t),this.getArrayType=()=>l.default.get(this.props.propertyData,["items","$id"]),this.getType=e=>e.$id||g.ARRAY,this.getPrimitiveTypeData=e=>l.default.find(u.default.primitives,{value:e}),this.getCustomTypeOptions=()=>l.default.map(l.default.keys(this.props.definitions.custom),e=>({value:this.props.definitions.custom[e].$id,label:e})),this.getBaseOptions=()=>{const e=this.props.allowArrayType?[]:[g.ARRAY];return l.default.map(l.default.omit(u.default.primitives,e),e=>l.default.pick(e,["value","label","automationId"]))},this.getListTypeBaseOptions=()=>l.default.reject(this.getBaseOptions(),{value:g.ARRAY}),this.shouldTranslatePropertyLabel=e=>!l.default.isUndefined(this.getPrimitiveTypeData(e)),this.isCustomType=()=>this.props.allowCustomTypes&&!l.default.isEmpty(this.props.definitions.custom),this.isArray=()=>this.state.selectedType===g.ARRAY,this.getPropertyData=(e,t)=>{const a=this.props.definitions.base[e]||l.default.find(this.props.definitions.custom,{$id:e}),n=p.default.createPropertyTemplate(a,t),i=this.props.resolve({[this.state.name]:n});return this.addValidationsFromState(e,i[this.state.name],t)},this.addValidationsFromState=(e,t,a)=>{if(e===g.TEXT&&this.state.validateMaxLength)return this.addValidationsToData({maxLength:this.state.maxLength},t,a);if(e===g.NUMBER){const{validateMax:e,validateMin:n,validateStep:i,minimum:o,maximum:s,multipleOf:r}=this.state,u=l.default.assign(e?{maximum:s}:{},n?{minimum:o}:{},i?{multipleOf:r}:{});return l.default.isEmpty(u)?t:this.addValidationsToData(u,t,a)}return t},this.onPropertyTypeChanged=e=>{const t=e===g.ARRAY,a=g.TEXT,n=t?a:e,i=this.getPropertyData(n,t),o=l.default.get(i,"default"),s=E(i,o,this.props.resolve);this.setState({propertyData:i,isValidValue:s,selectedType:e,defaultValue:o,selectedArrayType:a})},this.onListTypeChanged=e=>{const t=this.getPropertyData(e,!0);this.setState({selectedArrayType:e,propertyData:t,isValidValue:!0,defaultValue:[]})},this.getDefaultValueComponent=()=>{const e=l.default.defaults({title:this.state.title},this.state.propertyData),t={[this.state.name]:e};return n.utils.generateUICompByPropertySchema(l.default.defaults({},t,{shouldTranslate:!0}),this.state.defaultValue,(e,t,a)=>this.setState({defaultValue:t,isValidValue:a}),{title:this.getDefaultComponentTitle(),openMediaManager:this.props.openMediaManager,automationId:"property-default-value",action:()=>this.props.editCustomTypeValues(t,this.state.defaultValue,this.props.resolve,e=>this.setState({defaultValue:e}))})},this.getDefaultComponentTitle=()=>{const e=l.default.find(u.default.primitives,{value:this.state.selectedType}),t=l.default.get(e,"displayName")||"AppStudio_EditProperty_DefaultValues_Label";return i.translate(t)},this.closePanel=e=>{e===d.default.OUT_OF_FOCUS&&this.isFormValid()?this.handleClickAction():this.props.close()},this.handleClickAction=()=>{const e=this.state.name,t=this.state.propertyData,a=l.default.defaults({},{default:this.state.defaultValue,title:this.state.title,description:this.state.description},t);this.props.onChange({[e]:a}),l.default.invoke(this.props,"callBi")},this.getValidatorsData=()=>{const e={maxLength:{toggleValue:this.state.validateMaxLength,label:"AppStudio_WidgetAPI_MaxCharacters_Label",onToggle:e=>{const t=this.state.maxLength||100;this.updateSchemaValidation({maxLength:t},{validatorName:"validateMaxLength",shouldValidate:e})},step:1,min:0,max:9999,inputValue:this.state.maxLength,onChangeInput:e=>{this.updateSchemaValidation({maxLength:e},{validatorName:"validateMaxLength",shouldValidate:!0})},toggleAutomationId:"max-length-toggle",inputAutomationId:"max-length-input"},max:{toggleValue:this.state.validateMax,label:"AppStudio_WidgetAPI_Number_MaxValue_Label",onToggle:e=>{const t=this.state.maximum||0;this.updateSchemaValidation({maximum:t},{validatorName:"validateMax",shouldValidate:e})},step:.1,min:Number.MIN_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,inputValue:this.state.maximum,onChangeInput:e=>{this.updateSchemaValidation({maximum:e},{validatorName:"validateMax",shouldValidate:!0})},toggleAutomationId:"max-toggle",inputAutomationId:"max-input"},min:{toggleValue:this.state.validateMin,label:"AppStudio_WidgetAPI_Number_MinValue_Label",onToggle:e=>{const t=this.state.minimum||0;this.updateSchemaValidation({minimum:t},{validatorName:"validateMin",shouldValidate:e})},step:.1,min:Number.MIN_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,inputValue:this.state.minimum,onChangeInput:e=>{this.updateSchemaValidation({minimum:e},{validatorName:"validateMin",shouldValidate:!0})},toggleAutomationId:"min-toggle",inputAutomationId:"min-input"},step:{toggleValue:this.state.validateStep,label:"AppStudio_WidgetAPI_Number_StepValue_Label",onToggle:e=>{const t=this.state.multipleOf||.1;this.updateSchemaValidation({multipleOf:t},{validatorName:"validateStep",shouldValidate:e})},step:.1,min:.1,max:Number.MAX_SAFE_INTEGER,inputValue:this.state.multipleOf,onChangeInput:e=>{this.updateSchemaValidation({multipleOf:e},{validatorName:"validateStep",shouldValidate:!0})},toggleAutomationId:"step-toggle",inputAutomationId:"step-input"}},t=this.isArray()?this.state.selectedArrayType:this.state.selectedType,a=this.getPrimitiveTypeData(t);return l.default.pick(e,l.default.get(a,"validations"))},this.updateSchemaValidation=(e,t)=>{let a,{validatorName:n,shouldValidate:i}=t;a=i?this.addValidationsToData(e,this.state.propertyData,this.isArray()):this.removeValidationsFromData(e,this.state.propertyData,this.isArray());const o=E(a,this.state.defaultValue,this.props.resolve);this.setState(l.default.defaults({propertyData:a,isValidValue:o},e,{[n]:i}))},this.addValidationsToData=(e,t,a)=>{if(a){const a=l.default.defaults({},e,t.items);return l.default.defaultsDeep({items:a},t)}return l.default.defaultsDeep({},e,t)},this.removeValidationsFromData=(e,t,a)=>a?l.default.omit(t,["items.".concat(l.default.head(l.default.keys(e)))]):l.default.omit(t,l.default.keys(e)),this.isPropertyNameValid=e=>i.validate.variableName(e)&&!l.default.includes(this.props.illegalPropertyNames,e),this.isFormValid=()=>this.state.isValidValue&&this.state.isValidName,this.getOverlayBackground=()=>{if(!0===this.props.shouldHideOverlay)return"rgba(0, 0, 0, 0)"},this.getPanelClass=()=>"api-property-definition-panel ".concat(this.props.shouldHaveBackButton?"with-back-button":"");const a=(e,t)=>l.default.isUndefined(l.default.get(e,[t]))?l.default.get(e.items,[t]):e[t],o=a(e.propertyData,"maxLength"),s=a(e.propertyData,"maximum"),r=a(e.propertyData,"minimum"),c=a(e.propertyData,"multipleOf"),m=e.propertyData.default;this.state={name:e.propertyName,isValidName:this.isPropertyNameValid(e.propertyName),title:e.propertyData.title,selectedType:this.getType(e.propertyData),selectedArrayType:this.getArrayType(),defaultValue:m,description:e.propertyData.description,propertyData:e.propertyData,isValidValue:E(e.propertyData,m,e.resolve),validateMaxLength:!l.default.isUndefined(o),validateMax:!l.default.isUndefined(s),validateMin:!l.default.isUndefined(r),validateStep:!l.default.isUndefined(c),descriptionFocused:!1,minimum:r,maximum:s,maxLength:o,multipleOf:c}}render(){return c.default.createElement(f.default,{panelName:"panels.focusPanels.apiDefinitionPropertySchema",onClose:this.closePanel,title:i.translate(this.props.title),helpId:"271799ea-a282-472d-8aa8-51720b23ed95",width:"474px",overlayBackground:this.getOverlayBackground(),automationId:"api-definition-property",className:"api-property-definition-panel-container"},c.default.createElement("div",{className:this.getPanelClass()},this.props.shouldHaveBackButton?c.default.createElement(m.default.Composites.ButtonLeft,{key:"panel-back-button"},c.default.createElement(m.default.BackButton,{onClick:this.closePanel,label:"AppStudio_Back_Button"})):null,c.default.createElement(m.default.Divider,{long:!0}),c.default.createElement(m.default.CustomScroll,{heightRelativeToParent:"100%"},c.default.createElement("div",{className:"api-definition-property-schema-panel-content"},c.default.createElement(m.default.Composites.TextInputLabeled,null,c.default.createElement(m.default.InfoIcon,{text:"AppStudio_WidgetAPI_NewProperty_Name_Tooltip"}),c.default.createElement(m.default.TextLabel,{value:"AppStudio_WidgetAPI_NewProperty_Name_label"}),c.default.createElement(m.default.TextInput,{value:this.state.name,automationId:"add-property-name",validator:this.isPropertyNameValid,allowInvalidChange:!0,validateInitialValue:!1,validateOnBlur:!0,invalidMessage:"AppStudio_WidgetAPI_NewProperty_Name_InvalidName_Error",autoSelect:!0,placeholder:"AppStudio_WidgetAPI_NewProperty_Name_Placeholder",onChange:(e,t)=>{this.setState({name:e,isValidName:t})}})),c.default.createElement(m.default.Divider,{long:!0}),c.default.createElement(m.default.Composites.TextInputLabeled,null,c.default.createElement(m.default.InfoIcon,{text:"AppStudio_WidgetAPI_DisplayName_Tooltip"}),c.default.createElement(m.default.TextLabel,{value:"AppStudio_WidgetAPI_DisplayName_Label"}),c.default.createElement(m.default.TextInput,{value:this.state.title,automationId:"add-property-display-name",placeholder:"AppStudio_WidgetAPI_DisplayName_Placeholder",onChange:e=>{this.setState({title:e})}})),c.default.createElement(m.default.Divider,{long:!0}),c.default.createElement(m.default.SectionDivider,null,c.default.createElement(m.default.TextLabel,{value:"AppStudio_CustomType_NewProperty_Divider"})),c.default.createElement(m.default.Divider,{long:!0}),c.default.createElement(m.default.Composites.DropDownLabeled,null,c.default.createElement(m.default.TextLabel,{value:"AppStudio_WidgetAPI_PropertyType_Title"}),c.default.createElement(m.default.DropDown,{value:this.state.selectedType,automationId:"add-property-type-selection",shouldTranslate:this.shouldTranslatePropertyLabel(this.state.selectedType),onChange:this.onPropertyTypeChanged},l.default.map(this.getBaseOptions(),e=>c.default.createElement(m.default.DropDownOption,{key:e.value,automationId:e.automationId,value:e.value,label:e.label})),this.isCustomType()?c.default.createElement(m.default.SectionDivider,{key:"customTypeDivider"},c.default.createElement(m.default.TextLabel,{value:"AppStudio_NewProperty_CustomType_Divider_Label"})):null,this.isCustomType()?l.default.map(this.getCustomTypeOptions(),e=>c.default.createElement(m.default.DropDownOption,{key:e.value,value:e.value,automationId:"property-default-".concat(e.label),label:e.label,shouldTranslate:!1})):null)),this.isArray()?c.default.createElement("div",{key:"arraySection"},this.isArray()?c.default.createElement(m.default.Divider,{long:!1,key:"customTypeDivider"}):null,this.isArray()?c.default.createElement(m.default.Composites.DropDownLabeled,{key:"listType"},c.default.createElement(m.default.TextLabel,{value:"AppStudio_NewProperty_List_ItemType_Label"}),c.default.createElement(m.default.DropDown,{value:this.state.selectedArrayType,automationId:"add-property-list-type-selection",shouldTranslate:this.shouldTranslatePropertyLabel(this.state.selectedArrayType),onChange:this.onListTypeChanged},l.default.map(this.getListTypeBaseOptions(),e=>c.default.createElement(m.default.DropDownOption,{automationId:e.automationId,key:e.value,value:e.value,label:e.label})),this.isCustomType()?c.default.createElement(m.default.SectionDivider,{key:"customTypeDivider"},c.default.createElement(m.default.TextLabel,{value:"AppStudio_NewProperty_CustomType_Divider_Label"})):null,this.isCustomType()?l.default.map(this.getCustomTypeOptions(),e=>c.default.createElement(m.default.DropDownOption,{key:e.value,value:e.value,automationId:"property-default-".concat(e.label),shouldTranslate:!1,label:e.label})):null)):null):null,c.default.createElement(m.default.Divider,{long:!1}),l.default.map(this.getValidatorsData(),e=>c.default.createElement(c.default.Fragment,{key:e.label},c.default.createElement(m.default.Composites.ToggleSwitchWithSelectiveInput,{key:e.label},c.default.createElement(m.default.Composites.ToggleSwitch,null,c.default.createElement(m.default.ToggleSwitch,{value:e.toggleValue,label:e.label,automationId:e.toggleAutomationId,onChange:e.onToggle})),e.toggleValue?c.default.createElement(m.default.Composites.TextInput,{key:e.label},c.default.createElement(m.default.NumericInput,{value:e.inputValue||0,min:e.min,max:e.max,step:e.step,automationId:e.inputAutomationId,onChange:e.onChangeInput})):null),c.default.createElement(m.default.Divider,null))),this.getDefaultValueComponent(),c.default.createElement(m.default.Divider,{long:!0}),c.default.createElement(m.default.Composites.TextInputMultilineLabeled,null,c.default.createElement(m.default.InfoIcon,{text:"AppStudio_WidgetAPI_Description_Tooltip"}),c.default.createElement(m.default.TextLabel,{value:"AppStudio_WidgetAPI_Description_Label"}),c.default.createElement(m.default.TextInputMultiline,{value:this.state.description,automationId:"add-property-description",placeholder:"AppStudio_WidgetAPI_Description_Placeholder",onChange:e=>{this.setState({description:e})},onFocus:()=>{this.setState({descriptionFocused:!0})},onBlur:()=>{this.setState({descriptionFocused:!1})}}))),this.state.descriptionFocused?c.default.createElement("div",{key:"description-spacer",className:"description-spacer"}):null),c.default.createElement(m.default.Divider,{long:!0}),c.default.createElement(m.default.Composites.ActionSetHorizontal,null,c.default.createElement(m.default.Button,{disabled:!this.isFormValid(),automationId:"add-property-main-button",onClick:this.handleClickAction,className:"btn-md"},c.default.createElement(m.default.TextLabel,{value:this.props.mainActionLabel})))))}}b.displayName="apiDefinitionPropertySchema",b.propTypes={property:r.default.object,propertyName:r.default.string,propertyData:r.default.object,illegalPropertyNames:r.default.arrayOf(r.default.string),mainActionLabel:r.default.string.isRequired,close:r.default.func.isRequired,callBi:r.default.func,editCustomTypeValues:r.default.func.isRequired,onChange:r.default.func.isRequired,resolve:r.default.func.isRequired,openMediaManager:r.default.func.isRequired,shouldHaveBackButton:r.default.bool,shouldHideOverlay:r.default.bool,allowCustomTypes:r.default.bool,allowArrayType:r.default.bool},b.defaultProps={allowCustomTypes:!0,allowArrayType:!0};const P=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(a,l,n)=>{let{editorAPI:o}=n;const s=o.mediaServices.mediaManager,{IMAGE:r}=o.mediaServices.mediaManager.categories,{title:u,submitButton:d}=t;s.open(r,{callback:e,translation:{title:i.translate(u||"AppStudio_WidgetAPI_Image_DefaultImage_Upload_MediaManager_Header"),submitButton:i.translate(d||"AppStudio_WidgetAPI_Image_DefaultImage_Upload_MediaManager_Set_Button")}})}};return l.default.flow(h(_,(e,t)=>{let{dsRead:a}=e;const n={base:p.default.baseDefinitions,custom:l.default.assign({},...a.appStudio.definitions.getAllSerialized())};let i=t.property;if(!i){const e=n.base.text;i={"":p.default.createPropertyTemplate(e,!1)}}const o=l.default.head(l.default.keys(i)),s=p.default.createResolver(n.base,n.custom),r=s.resolve(i)[o];return{definitions:n,propertyName:o,resolve:s.resolve,propertyData:r}},e=>({openMediaManager(t,a){e(P(t,a))},editCustomTypeValues:(t,a,l,n)=>e(((e,t,a,l)=>n=>{const i="panels.focusPanels.customTypeValueEditPanel",s={property:e,initialValue:t,onChange:e=>{n(o.default.editorPlugins.panels.actions.closePanelByName(i)),l(e)},openMediaManager:(e,t)=>n(P(e,t)),resolveDefinition:a};n(o.default.editorPlugins.panels.actions.updateOrOpenPanel(i,s,!0))})(t,a,l,n))})),o.default.editorPlugins.panels.hoc.panelFrame(s.default.PANEL_TYPES.TOOL))(b)}.apply(t,l))||(e.exports=n)},1995:function(e,t,a){var l,n;l=[a,t,a(0),a(6)],void 0===(n=function(e,t,a,l){"use strict";l=a.__importDefault(l);const{PROP_TYPES:n}=l.default.APP_STUDIO;return{primitives:{[n.TEXT]:{value:n.TEXT,label:"AppStudio_WidgetAPI_PropertyType_Dropdown_Text",automationId:"property-default-string",title:"Bla",defaultValue:"",validations:["maxLength"],displayName:"AppStudio_WidgetAPI_DefaultValue_Label"},[n.NUMBER]:{value:n.NUMBER,label:"AppStudio_WidgetAPI_PropertyType_Dropdown_Number",automationId:"property-default-number",defaultValue:0,validations:["min","max","step"],displayName:"AppStudio_WidgetAPI_Number_DefaultValue_Label"},[n.BOOLEAN]:{value:n.BOOLEAN,label:"AppStudio_WidgetAPI_PropertyType_Dropdown_Boolean",automationId:"property-default-boolean",defaultValue:!1,displayName:"AppStudio_WidgetAPI_Boolean_DefaultValue_Label"},[n.IMAGE]:{value:n.IMAGE,label:"AppStudio_WidgetAPI_PropertyType_Dropdown_Image",automationId:"property-default-image",defaultValue:"",displayName:"AppStudio_WidgetAPI_Image_DefaultImage"},[n.DATE_TIME]:{value:n.DATE_TIME,label:"AppStudio_WidgetAPI_PropertyType_Dropdown_DateTime",automationId:"property-default-date",defaultValue:"",displayName:"AppStudio_WidgetAPI_URL_DefaultDate_Label"},[n.URL]:{value:n.URL,label:"AppStudio_WidgetAPI_PropertyType_Dropdown_URL",automationId:"property-default-url",defaultValue:"",displayName:"AppStudio_WidgetAPI_URL_DefaultURL_Label"},[n.ARRAY]:{value:n.ARRAY,label:"AppStudio_WidgetAPI_PropertyType_Dropdown_List",automationId:"property-default-list",defaultValue:[],displayName:"AppStudio_EditProperty_DefaultValues_Label"}}}}.apply(t,l))||(e.exports=n)},1996:function(e,t,a){var l,n;l=[a,t,a(0),a(3),a(1),a(4),a(9),a(499),a(1997),a(8),a(2),a(28)],void 0===(n=function(e,t,a,l,n,i,o,s,r,u,d,p){"use strict";l=a.__importDefault(l),n=a.__importDefault(n),i=a.__importDefault(i),o=a.__importStar(o),s=a.__importDefault(s),r=a.__importDefault(r),u=a.__importDefault(u),d=a.__importStar(d),p=a.__importDefault(p);class c extends l.default.Component{constructor(){super(...arguments),this.state={value:this.props.initialValue},this.getPropertyName=()=>n.default.head(n.default.keys(this.props.property)),this.getPropertyData=()=>{const e=this.getPropertyName();return this.props.property[e]},this.getEditorElementByType=e=>{switch(e){case"array":return r.default;case"object":return s.default;default:throw new Error("Type ".concat(e," is not supported by this panel"))}},this.getEditorAutomationIdByType=e=>{switch(this.getPropertyData().type){case"array":return"list-editor";case"object":return"object-editor";default:throw new Error("Type ".concat(e," is not supported by this panel"))}},this.getValueEditor=()=>{const{type:e,title:t}=this.getPropertyData(),a=this.getEditorElementByType(e);return l.default.createElement(a,{propertyTitle:t||this.getPropertyName(),value:this.state.value,propertyData:this.getPropertyData(),resolveDefinition:this.props.resolveDefinition,openMediaManager:this.props.openMediaManager,onChange:this.handleChange,translations:this.props.translations,automationId:this.getEditorAutomationIdByType(e)})},this.hasSave=()=>!this.isInEmptyState()||"array"===this.getPropertyData().type,this.handleSave=()=>{this.props.onChange(this.state.value)},this.handleChange=e=>{this.setState({value:e})},this.handleCancel=()=>{this.props.onChange(this.props.initialValue)},this.isInEmptyState=()=>"array"===this.getPropertyData().type&&0===this.state.value.length,this.isValid=()=>o.utils.propertySchemaValidationUtils.validateByProperty(this.getPropertyData(),this.state.value,this.props.resolveDefinition)}render(){const e=this.getPropertyData().title||this.getPropertyName();return l.default.createElement(p.default,{panelName:"panels.focusPanels.customTypeValueEditPanel",automationId:"property-value-panel",title:d.translate(n.default.get(this.props.translations,"panelTitle","AppStudio_CustomType_DefaultValues_Header")),width:"474px",className:"custom-type-value-edit-panel"},l.default.createElement("div",{className:"property-value-panel ".concat(this.props.className)},e?l.default.createElement("div",{key:"prop-name-container",className:"prop-name-container"},l.default.createElement(u.default.TextLabel,{automationId:"prop-name-label",value:e,type:"T18",shouldTranslate:!1,className:"prop-name-label"}),l.default.createElement(u.default.Divider,{long:!0})):null,this.getValueEditor(),l.default.createElement(u.default.Divider,{long:!0}),l.default.createElement(u.default.Composites.ActionSetHorizontal,null,l.default.createElement(u.default.Button,{automationId:"cancel-btn",onClick:this.handleCancel,className:"btn-confirm-secondary btn-md"},l.default.createElement(u.default.TextLabel,{value:"AppStudio_Cancel_Button"})),this.hasSave()?l.default.createElement(u.default.Button,{automationId:"save-btn",onClick:this.handleSave,disabled:!this.isValid(),className:"btn-md"},l.default.createElement(u.default.TextLabel,{value:"AppStudio_Apply_Button"})):null)))}}return c.displayName="CustomTypeValueEditPanel",c.propTypes={initialValue:i.default.oneOfType([i.default.object,i.default.array]).isRequired,property:i.default.object.isRequired,resolveDefinition:i.default.func.isRequired,onChange:i.default.func.isRequired,openMediaManager:i.default.func.isRequired,translations:i.default.object},c}.apply(t,l))||(e.exports=n)},1997:function(e,t,a){var l,n;l=[a,t,a(0),a(3),a(1),a(4),a(2),a(90),a(8),a(9),a(57),a(10),a(499)],void 0===(n=function(e,t,a,l,n,i,o,s,r,u,d,p,c){"use strict";l=a.__importDefault(l),n=a.__importDefault(n),i=a.__importDefault(i),o=a.__importStar(o),s=a.__importStar(s),r=a.__importDefault(r),u=a.__importStar(u),d=a.__importDefault(d),p=a.__importStar(p),c=a.__importDefault(c);const{propertySchemaValidationUtils:m}=u.utils,f=e=>l.default.createElement("span",{className:"symbol",key:e},l.default.createElement(u.symbol,{name:e,key:e,style:{fill:"#2b5672"}})),h=f("edit_pencle_light_icon"),_=f("booleanTrue"),g=f("booleanFalse"),E={content:"Empty",className:"empty",label:""},b=n.default.mapValues(d.default.baseDefinitions,(e,t)=>t),P="True",C="False",y={toggleEditLabel:{enable:!0,label:o.translate("AppStudio_CustomType_DefaultValues_Edit")}},S={toggleDefault:{enable:!1},duplicate:{enable:!0,label:o.translate("Appstudio_CustomType_DefaultValues_DuplicateItem")},toggleEditLabel:{enable:!1},toggleEditValue:{enable:!1},delete:{enable:!0,label:o.translate("Appstudio_CustomType_DefaultValues_DeleteItem")}},N={selectable:!0},T="large",I="narrow",v="wide",D=e=>{let{onClick:t,symbol:a,title:n,key:i,priority:o=100}=e;return l.default.createElement(r.default.ContextMenuAction,{onClick:t,priority:o,key:i},[a,n])},A=e=>{const t=n.default.assign({type:s.mediaItemUtils.types.IMAGE,mediaId:e.uri},n.default.pick(e,["width","height"]));return s.mediaSrcHandler.createMediaSrc(t).item},L=e=>{switch(e){case b.number:return"AppStudio_CustomType_DefaultValues_Number_Placeholder";case b.url:return"AppStudio_WidgetAPI_URL_DefaultURL_Placeholder";case b.dateTime:return"AppStudio_CustomType_DefaultValues_Date_Placeholder"}};class k extends l.default.Component{constructor(){super(...arguments),this.getListProps=()=>{const e=this.createListPropsByType();return n.default.assign({selectable:!1},e)},this.getListClass=()=>this.props.propertyTitle?"with-title":"",this.createListPropsByType=()=>{if(this.isListOfObject())return N;const e=this.getItemPropertyData();return{shouldTranslateInvalidLabelMessage:!1,labelValidator:m.getValidatorByProp(e),labelInvalidMessage:m.getInvalidMessageByProp(e),labelPlaceholder:L(this.getItemType())}},this.getDefaultValueByPropertyData=()=>{const e=this.getItemPropertyData();return this.getItemType()===b.number?(e=>{let{minimum:t,maximum:a,multipleOf:l,default:i}=e;if(t&&(i=n.default.max([i,t])),a&&(i=n.default.min([i,a])),l){const e=i===a?n.default.floor(i/l)*l:n.default.ceil(i/l)*l;i=n.default.round(e,1)}return i})(e):e.default},this.getListItemProps=(e,t)=>{const a={id:t,key:String(t),isSelected:t===this.state.selectedIndex};return n.default.assign(a,this.getListItemPropsByType(e,t))},this.getListItemPropsByType=(e,t)=>{if(this.isListOfObject())return{label:"".concat(o.translate("AppStudio_CustomType_Item_DefaultText")," ").concat(t+1)};if(this.getItemType()===b.image)return{content:this.createMediaElement(e,t),className:T};const a=(l=e,this.getItemType()===b.boolean?l?P:C:String(l));var l;return n.default.isEmpty(a)?E:{label:a}},this.getMenuActionsOverrides=()=>n.default.defaultsDeep({},(e=>{switch(e){case b.text:case b.number:case b.dateTime:case b.url:return y}})(this.getItemType()),S),this.createNewValueAsync=()=>this.getItemType()===b.image?new Promise(e=>{this.props.openMediaManager(t=>{t&&e(n.default.map(t,A))},{submitButton:"AppStudio_MediaManager_AddItem_Button"})}):Promise.resolve(this.getDefaultValueByPropertyData()),this.selectable=()=>this.isListOfObject(),this.selectItem=e=>{this.selectable()&&this.setState({selectedIndex:e})},this.handleAddItem=()=>{this.createNewValueAsync().then(e=>{this.props.onChange([...this.props.value,...n.default.castArray(e)]),this.selectItem(this.props.value.length-1)})},this.updateItem=(e,t)=>{const a=[...this.props.value];a[e]=t;const l=this.getItemPropertyData();let i=!1;this.getItemType()===b.number&&n.default.has(l,"multipleOf")&&(a[e]=this.roundByStep(t,l.multipleOf),i=!0),this.props.onChange(a),i&&this.forceUpdate()},this.roundByStep=(e,t)=>Math.round(e/t)*t,this.moveItem=(e,t,a)=>{const l=[...e];return l.splice(a,0,l.splice(t,1)[0]),l},this.handleItemMoved=(e,t)=>{this.props.onChange(this.moveItem(this.props.value,e,t)),this.selectItem(t)},this.handleItemChanged=(e,t)=>{var a;this.updateItem(t,(a=e.label,this.getItemType()===b.number?Number(a):a))},this.handleDuplicateItem=(e,t)=>{const a=this.props.value[t],l=[...this.props.value];l.splice(t,0,a),this.props.onChange(l),this.selectItem(t+1)},this.handleDeleteItem=(e,t)=>{this.state.selectedIndex===this.props.value.length-1&&this.selectItem(this.state.selectedIndex-1),this.props.onChange(this.props.value.filter((e,a)=>a!==t))},this.handleSelectItem=(e,t)=>{this.selectItem(t)},this.handleObjectChange=e=>{this.updateItem(this.state.selectedIndex,e)},this.createMediaElement=(e,t)=>{const a=s.mediaItemUtils.parseMediaItemUri(e),n=l.default.createElement(u.image,{imageData:{uri:a.mediaId,width:a.width,height:a.height},imageHeight:84,imageWidth:156});return l.default.createElement(r.default.SecondaryMediaImage,{automationId:"image-item",onClick:()=>this.handleReplaceImage(t)},n)},this.handleReplaceImage=e=>{this.props.openMediaManager(t=>{if(t){const a=A(n.default.head(t));this.updateItem(e,a)}})},this.getCustomActions=e=>{switch(this.getItemType()){case b.boolean:const t=this.props.value[e];return[D({onClick:()=>this.updateItem(e,!t),symbol:t?g:_,title:o.translate(t?"AppStudio_CustomType_DefaultValues_Boolean_ChangeToFalse":"AppStudio_CustomType_DefaultValues_Boolean_ChangeToTrue"),key:"toggleBoolValue"})];case b.image:return[D({onClick:()=>this.handleReplaceImage(e),symbol:h,title:o.translate("Appstudio_CustomType_DefaultValues_ReplaceItem"),key:"replaceImage"})]}},this.getListClassName=()=>this.shouldShowObjectEditor()?I:v,this.shouldShowObjectEditor=()=>this.isListOfObject()&&!n.default.isUndefined(this.getSelectedItem()),this.getSelectedItem=()=>this.props.value[this.state.selectedIndex],this.getItemPropertyData=()=>this.props.propertyData.items,this.getItemType=()=>this.getItemPropertyData().$id,this.getItemSystemType=()=>this.getItemPropertyData().type,this.isListOfObject=()=>"object"===this.getItemSystemType(),this.state={selectedIndex:this.selectable()?0:-1}}render(){const e=0===this.props.value.length;return l.default.createElement("div",{className:"list-view ".concat(this.getListClass())},e?null:(()=>{const e=this.getListClassName();return l.default.createElement(l.default.Fragment,null,l.default.createElement("div",{className:"list-container"},l.default.createElement("div",{className:"list-border ".concat(e)},l.default.createElement(r.default.CustomScroll,{heightRelativeToParent:"100%",keepAtBottom:!0},l.default.createElement(r.default.SortByDragList,Object.assign({itemMoved:this.handleItemMoved,itemChanged:this.handleItemChanged,selectItem:this.handleSelectItem,deleteItem:this.handleDeleteItem,menuActionsOverrides:this.getMenuActionsOverrides(),duplicateItem:this.handleDuplicateItem,className:"drag-list ".concat(e)},this.getListProps()),n.default.map(this.props.value,(e,t)=>l.default.createElement(r.default.SortByDragListCustomItemRow,Object.assign({automationId:"value-list-item"},this.getListItemProps(e,t)),this.getCustomActions(t)))))),l.default.createElement(r.default.Composites.ButtonLeft,{className:"add-item-btn"},l.default.createElement(r.default.Button,{automationId:"add-item-btn",onClick:this.handleAddItem,className:"btn-text add-item-btn"},"+"," ",o.translate("Appstudio_CustomType_DefaultValues_AddItem_Link")))),this.shouldShowObjectEditor()?l.default.createElement("div",{key:"object-editor-container",className:"object-editor-container"},l.default.createElement(c.default,{automationId:"object-editor",value:this.getSelectedItem(),propertyData:this.getItemPropertyData(),resolveDefinition:this.props.resolveDefinition,onChange:this.handleObjectChange,openMediaManager:this.props.openMediaManager})):null)})(),e?l.default.createElement("div",{key:"empty-state","data-aid":"empty-state",className:"empty-state"},l.default.createElement(r.default.CustomScroll,{heightRelativeToParent:"100%"},l.default.createElement(r.default.Composites.RichTextWithIllustrationVertical,{className:"content-width-xl rich-text-with-illustration-container"},l.default.createElement(r.default.Illustration,null,l.default.createElement(p.symbol,{name:"listEmptyState"})),l.default.createElement(r.default.Composites.RichTextLabeled,{className:"empty-state-rich-text-labeled"},l.default.createElement(r.default.TextLabel,{automationId:"empty-state-title",type:"T09",value:n.default.get(this.props.translations,"emptyStateTitle","AppStudio_CustomType_DefaultValues_EmptyState_Title"),enableEllipsis:!1}),l.default.createElement(r.default.RichText,{automationId:"empty-state-text"},l.default.createElement("p",null,o.translate(n.default.get(this.props.translations,"emptyStateText","AppStudio_CustomType_DefaultValues_EmptyState_Text")))))),l.default.createElement(r.default.Composites.ButtonMedium,{className:"add-property-btn-text-container"},l.default.createElement(r.default.Button,{automationId:"add-item-empty-state-btn",onClick:this.handleAddItem,className:"btn-text add-property-btn-text"},l.default.createElement("span",null,"+"," ",o.translate("AppStudio_CustomType_DefaultValues_EmptyState_CTA")))))):null)}}return k.displayName="listPropertyEditor",k.propTypes={value:i.default.array.isRequired,propertyData:i.default.object.isRequired,onChange:i.default.func.isRequired,resolveDefinition:i.default.func.isRequired,openMediaManager:i.default.func.isRequired,translations:i.default.shape({emptyStateTitle:i.default.string,emptyStateText:i.default.string}),propertyTitle:i.default.string},k}.apply(t,l))||(e.exports=n)},1998:function(e,t,a){var l,n;l=[a,t,a(0),a(3),a(1),a(4),a(2),a(7),a(57),a(8),a(9),a(10),a(28)],void 0===(n=function(e,t,a,l,n,i,o,s,r,u,d,p,c){"use strict";l=a.__importDefault(l),n=a.__importDefault(n),i=a.__importDefault(i),o=a.__importStar(o),s=a.__importDefault(s),r=a.__importDefault(r),u=a.__importDefault(u),d=a.__importStar(d),p=a.__importStar(p),c=a.__importDefault(c);const{connect:m,STORES:{DS_ONLY:f}}=o.hoc,h=s.default.editorPlugins.panels.actions,_=["widget","props","array","object"],g=l.default.createElement(d.symbol,{name:"edit_pencle_light_icon",key:"edit_pencle_light_icon"}),E={toggleDefault:{enable:!1},duplicate:{enable:!1},toggleEditLabel:{enable:!1},toggleEditValue:{enable:!1},delete:{enable:!0,label:o.translate("AppStudio_LeftTree_CustomType_Remove")}},b=e=>n.default.omit(e,"propName");class P extends l.default.Component{constructor(e,t){super(e,t),this.getSortedProperties=()=>this.props.initialDefinition?n.default.map(this.props.initialDefinition.propertiesOrder,e=>n.default.assign({propName:e},this.props.initialDefinition.properties[e])):[],this.getListProps=()=>({menuActionsOverrides:this.getMenuActionsOverrides()}),this.getListItemProps=(e,t)=>({id:t,key:String(t),label:e.propName||e.title,value:"Type: ".concat(e.$id)}),this.createPropertiesChangeHandler=e=>t=>{const a=n.default.head(n.default.keys(t)),l=n.default.assign({propName:a},t[a]),i=e(this.state.properties,l);this.setState({properties:i})},this.handleAddProperty=()=>{const e=n.default.map(this.state.properties,"propName");this.props.openPropertyPanel({onChange:this.createPropertiesChangeHandler(n.default.concat),illegalPropertyNames:e,title:"AppStudio_WidgetAPI_NewProperty_Title",mainActionLabel:"AppStudio_Add_Button"})},this.handleEditProperty=(e,t)=>{const a=n.default.map(n.default.reject(this.state.properties,{propName:e.propName}),"propName");this.props.openPropertyPanel({onChange:this.createPropertiesChangeHandler((e,a)=>((e,t,a)=>{const l=[...e];return l[a]=t,l})(e,a,t)),property:{[e.propName]:b(e)},illegalPropertyNames:a,title:"AppStudio_WidgetAPI_EditProperty_Title",mainActionLabel:"AppStudio_Apply_Button",hasUsages:this.props.hasUsages})},this.handleItemMoved=(e,t)=>{const a=((e,t,a)=>{const l=[...e];return l.splice(a,0,l.splice(t,1)[0]),l})(this.state.properties,e,t);this.setState({properties:a})},this.handleDeleteItem=(e,t)=>{const a=()=>{const e=this.state.properties.filter((e,a)=>a!==t);this.setState({properties:e})};this.props.hasUsages?this.props.openWarningPanel({onConfirm:a,title:"AppStudio_CustomType_DeleteProperty_PopUp_Header",message:"AppStudio_CustomType_DeleteProperty_PopUp_Text",confirmLabel:"AppStudio_Delete_Button",cancelLabel:"AppStudio_Cancel_Button"}):a()},this.createDefinitionFromState=()=>{const e=n.default.map(this.state.properties,"propName"),t=n.default.mapValues(n.default.keyBy(this.state.properties,"propName"),b),a=n.default.mapValues(t,"default"),l=this.state.name,i=n.default.get(this.props.initialDefinition,"description","desc");return n.default.defaults({propertiesOrder:e,properties:t,default:a,title:l,description:i},this.props.initialDefinition)},this.handleConfirm=()=>{const e=this.createDefinitionFromState(),t=r.default.pack({[this.state.name]:e});this.props.setDefinition(this.props.definitionPointer,t),this.props.close()},this.handleNameInputChange=(e,t)=>{this.setState({name:e,isValid:t})},this.getMenuActionsOverrides=()=>E,this.createContextMenuAction=function(e,t,a,n){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:100;return l.default.createElement(u.default.ContextMenuAction,{onClick:e,priority:i,key:n},[t,a])},this.getCustomActions=(e,t)=>[this.createContextMenuAction(()=>this.handleEditProperty(e,t),g,o.translate("AppStudio_LeftTree_CustomType_Edit"),"edit")],this.isNameValid=e=>o.validate.variableName(e)&&!n.default.includes(this.props.illegalNames,e),this.getMainActionToolTipContent=()=>{const e=this.state.properties.length>0;return e||this.state.isValid?this.state.isValid?e?"":"AppStudio_CustomType_Create_Button_Disabled_NoProp":"AppStudio_CustomType_Create_Button_Disabled_NotValid":"AppStudio_CustomType_Create_Button_Disabled_Both"};const a=e.typeNameToEdit||"";this.state={properties:this.getSortedProperties(),isValid:this.isNameValid(a),name:a}}render(){const e=0===this.state.properties.length,t=this.getMainActionToolTipContent();return l.default.createElement(c.default,{panelName:this.props.panelName,title:o.translate(this.props.panelTitle),automationId:"custom-type-definition-panel",helpId:"0bc06a58-8a44-4002-8a50-80f7aacabddb",width:"474px",className:"custom-type-definition-panel"},l.default.createElement("div",{className:"custom-type-main-container"},l.default.createElement("div",{className:"custom-type-content-container"},l.default.createElement(u.default.Composites.TextInputLabeled,null,l.default.createElement(u.default.TextLabel,{value:"AppStudio_CustomType_EmptyState_Label"}),l.default.createElement(u.default.TextInput,{value:this.state.name,automationId:"name-input",autoSelect:!0,onChange:this.handleNameInputChange,placeholder:"AppStudio_CustomType_EmptyState_Placeholder",validator:this.isNameValid,allowInvalidChange:!0,validateInitialValue:!1,validateOnBlur:!0,invalidMessage:"AppStudio_CustomType_Name_Validator"})),l.default.createElement(u.default.Divider,{long:!0}),l.default.createElement(u.default.SectionDivider,null,l.default.createElement(u.default.TextLabel,{value:"AppStudio_CustomType_EmptyState_Divider"})),e?null:l.default.createElement("div",{"data-aid":"properties-container",key:"properties-container",className:"properties-container"},l.default.createElement(u.default.CustomScroll,{heightRelativeToParent:"100%"},l.default.createElement(u.default.SortByDragList,Object.assign({itemMoved:this.handleItemMoved,deleteItem:this.handleDeleteItem,className:"drag-list"},this.getListProps()),n.default.map(this.state.properties,(e,t)=>l.default.createElement(u.default.SortByDragListCustomItemRow,Object.assign({automationId:"property-list-item"},this.getListItemProps(e,t)),this.getCustomActions(e,t))))),l.default.createElement(u.default.Composites.ButtonLeft,null,l.default.createElement(u.default.Button,{automationId:"add-property-btn",onClick:this.handleAddProperty,className:"btn-text"},"+ ",o.translate("AppStudio_CustomType_EmptyState_CTA")))),e?l.default.createElement("div",{key:"empty-state","data-aid":"empty-state",className:"empty-state-container"},l.default.createElement(u.default.Divider,{long:!0}),l.default.createElement(u.default.CustomScroll,{heightRelativeToParent:"100%"},l.default.createElement(u.default.Composites.RichTextWithIllustrationVertical,{className:"content-width-md illustration-vertical-container"},l.default.createElement(u.default.Illustration,null,l.default.createElement(p.symbol,{name:"customTypeEmptyState"})),l.default.createElement(u.default.Composites.RichTextLabeled,{className:"illustration-rich-text"},l.default.createElement(u.default.TextLabel,{type:"T09",value:"AppStudio_CustomType_EmptyState_Title",enableEllipsis:!1}),l.default.createElement(u.default.RichText,null,l.default.createElement("p",null)))),l.default.createElement(u.default.Composites.ButtonMedium,{className:"add-property-btn-text-container"},l.default.createElement(u.default.Button,{automationId:"add-property-empty-state",onClick:this.handleAddProperty,className:"btn-text add-property-btn-text"},l.default.createElement("span",null,"+"," ",o.translate("AppStudio_CustomType_EmptyState_CTA")))))):null),l.default.createElement("div",{key:"action-set-container",className:"custom-type-actions-container"},l.default.createElement(u.default.Divider,{long:!0}),l.default.createElement(u.default.Composites.ActionSetHorizontal,null,l.default.createElement(u.default.Button,{automationId:"cancel-btn",onClick:this.props.close,className:"btn-confirm-secondary btn-md"},l.default.createElement("span",null,o.translate("AppStudio_Cancel_Button"))),l.default.createElement(u.default.Tooltip,{disabled:""===t,content:t},l.default.createElement(u.default.Button,{automationId:"confirm-btn",onClick:this.handleConfirm,disabled:""!==t,className:"btn-md"},l.default.createElement("span",null,o.translate(this.props.mainActionLabel))))))))}}P.displayName="CustomTypeDefinitionPanel",P.propTypes={typeNameToEdit:i.default.string,openPropertyPanel:i.default.func.isRequired,illegalNames:i.default.array.isRequired,initialDefinition:i.default.object,panelName:i.default.string.isRequired,mainActionLabel:i.default.string.isRequired,panelTitle:i.default.string.isRequired};const C="type",y="restrictions",S="name";return m(f,(e,t)=>{let{dsRead:a}=e,{typeNameToEdit:l}=t;const i={base:r.default.baseDefinitions,custom:n.default.assign({},...a.appStudio.definitions.getAllSerialized())},o=((e,t)=>{const a=n.default.without(n.default.keys(e.custom),t);return[...n.default.keys(e.base),...a,..._]})(i,l),s=r.default.createResolver(i.base,i.custom),u=l&&s.resolve(i.custom[l]),d=l?n.default.get(n.default.find(a.appStudio.definitions.getAll(),{name:l}),"pointer"):null,p=u?"AppStudio_CustomType_Edit_Title":"AppStudio_CustomType_Header",c=u?"AppStudio_CustomType_Save_Button":"AppStudio_CustomType_Create_Button",m=d?a.appStudio.definitions.getAllDefinitionUsages(d):{};return{illegalNames:o,initialDefinition:u,definitionPointer:d,panelTitle:p,mainActionLabel:c,hasUsages:n.default.size(m.widgets)+n.default.size(m.definitions)>0}},(e,t)=>{const a=t=>{e(s.default.editorPlugins.panels.actions.updateOrOpenPanel("panels.messagePanels.widgetWarningMessage",t,!0))};return{openPropertyPanel:t=>{let{onChange:l,property:i,illegalPropertyNames:o,title:s,mainActionLabel:r,hasUsages:u}=t;e(h.updateOrOpenPanel("panels.focusPanels.apiDefinitionPropertySchema",{property:i,title:s,mainActionLabel:r,callBi:n.default.noop,illegalPropertyNames:o,allowCustomTypes:!1,allowArrayType:!1,shouldHideOverlay:!0,shouldHaveBackButton:!0,onChange:t=>{const o=()=>{e(h.closePanelByName("panels.focusPanels.apiDefinitionPropertySchema")),l(t)},s=((e,t)=>{if(!e)return!1;const a=n.default.head(n.default.keys(e)),l=n.default.head(n.default.keys(t)),i=["minimum","maximum","multipleOf","minLength","maxLength"];return n.default.isEqual(n.default.get(e,[a,"$ref"]),n.default.get(t,[l,"$ref"]))?n.default.isEqual(n.default.pick(e[a],i),n.default.pick(t[l],i))?!n.default.isEqual(a,l)&&S:y:C})(i,t);u&&s?a(((e,t)=>{switch(e){case C:return{onConfirm:t,title:"AppStudio_CustomType_ChangeProperty_PopUp_Header",message:"AppStudio_CustomType_ChangeProperty_PopUp_Text",confirmLabel:"AppStudio_CustomType_ChangeProperty_PopUp_Continue_Button",cancelLabel:"AppStudio_Cancel_Button"};case S:return{onConfirm:t,title:"AppStudio_ChangePropertyName_Popup_Header",message:"AppStudio_ChangePropertyName_Popup_Text",confirmLabel:"AppStudio_Change_Button",cancelLabel:"AppStudio_Cancel_Button"};case y:return{onConfirm:t,title:"AppStudio_ChangePropertyRange_PopUp_Header",message:"AppStudio_ChangePropertyRange_PopUp_Text",confirmLabel:"AppStudio_ChangePropertyRange_PopUp_Continue_Button",cancelLabel:"AppStudio_Cancel_Button"}}return{}})(s,o)):o()}},!0))},setDefinition:(t,a)=>{e(s.default.editorPlugins.applicationStudio.actions.setDefinition(t,a))},openWarningPanel:a,close:()=>e(h.closePanelByName(t.panelName))}})(P)}.apply(t,l))||(e.exports=n)},1999:function(e,t,a){var l,n;l=[a,t,a(0),a(4),a(2),a(7),a(12),a(3),a(8),a(28)],void 0===(n=function(e,t,a,l,n,i,o,s,r,u){"use strict";l=a.__importDefault(l),n=a.__importStar(n),i=a.__importDefault(i),o=a.__importStar(o),s=a.__importDefault(s),r=a.__importDefault(r),u=a.__importDefault(u);const d=(e,t,a)=>{let{dsActions:l}=a;return l},p="done",c="X",m="cancel",f="click outside";class h extends s.default.Component{constructor(){super(...arguments),this.state={color:this.props.color},this.onConfirm=()=>{this.props.dispatchBIEvent(o.events.mobileBrowserThemeColorPanel.DONE_BROWSER_THEME_COLOR_PANEL,{close_method:p,color:this.state.color}),this.props.setColorInDS(this.state.color),this.props.closePanel()},this.onCancel=()=>{this.props.dispatchBIEvent(o.events.mobileBrowserThemeColorPanel.CLOSE_BROWSER_THEME_COLOR_PANEL,{close_method:m}),this.props.closePanel()},this.onClosePanel=e=>{this.props.dispatchBIEvent(o.events.mobileBrowserThemeColorPanel.CLOSE_BROWSER_THEME_COLOR_PANEL,{close_method:"x_button"===e?c:f}),this.props.closePanel()},this.openColorPicker=e=>{const t=this.state.color,a={left:e.clientX,top:e.clientY};this.props.openColorPicker(t,a,{onChange:this.handleBackgroundColorChange,allowPaletteEditing:!1})},this.handleBackgroundColorChange=e=>{const t=this.props.themeColorToHex(e);this.setState({color:t})}}render(){return s.default.createElement(u.default,{automationId:this.props.panelName,panelName:this.props.panelName,title:n.translate("mobile_browser_theme_header"),showHeader:!0,helpId:"5a1c5cdd-a608-4f3b-b65d-dd6b98d29e8c",onClose:this.onClosePanel},s.default.createElement("div",{className:"browser-theme-color-settings-panel"},s.default.createElement("div",{className:"preview-area"},s.default.createElement("div",{className:"mobile-frame-container"},s.default.createElement("div",{className:"mobile-frame"},s.default.createElement("div",{className:"mobile-frame-top"}),s.default.createElement("div",{className:"site-shadow"})),s.default.createElement("div",{className:"preview-container"},s.default.createElement("div",{style:{backgroundColor:this.state.color},className:"color-changeable-area"},s.default.createElement("div",{className:"address-area"})),s.default.createElement(r.default.Divider,{long:!0})))),s.default.createElement("div",{className:"sidebar"},s.default.createElement(r.default.Composites.ColorSelectLabeled,null,s.default.createElement(r.default.TextLabel,{value:"mobile_browser_theme_color"}),s.default.createElement(r.default.ColorPickerInput,{value:this.state.color,onClick:this.openColorPicker})),s.default.createElement(r.default.Divider,{long:!1}),s.default.createElement(r.default.Composites.RichText,null,s.default.createElement(r.default.RichText,null,n.translate("mobile_browser_theme_preview_text"))))),s.default.createElement(r.default.Divider,{long:!0}),s.default.createElement(r.default.Composites.ActionSetHorizontal,null,s.default.createElement(r.default.Button,{onClick:()=>{this.onCancel()},className:"btn-confirm-secondary btn-md no-margin"},s.default.createElement("span",null,n.translate("mobile_browser_theme_cancel_button"))),s.default.createElement(r.default.Button,{onClick:()=>{this.onConfirm()},className:"btn-md no-margin"},s.default.createElement("span",null,n.translate("mobile_browser_theme_done_button")))))}}h.displayName="browserThemeColorPanel",h.propTypes={color:l.default.string,closePanel:l.default.func.isRequired,openColorPicker:l.default.func.isRequired,themeColorToHex:l.default.func.isRequired,setColorInDS:l.default.func.isRequired};return n.hoc.connect(n.hoc.STORES.EDITOR_API,e=>{let{editorAPI:t}=e;return{themeColorToHex:t.theme.colors.get,openColorPicker:t.openColorPicker,color:t.dsRead.browserThemeColor.get()}},(e,t)=>{let{panelName:a}=t;return{closePanel:()=>{e(i.default.editorPlugins.panels.actions.closePanelByNameAction(a))},setColorInDS:t=>{e(d).browserThemeColor.set(t)},dispatchBIEvent:function(){e(i.default.bi.actions.event(...arguments))}}})(h)}.apply(t,l))||(e.exports=n)},2:function(e,t){e.exports=a},2e3:function(e,t,a){var l,n;l=[a,t,a(0),a(4),a(6),a(7),a(2),a(3),a(28),a(8),a(10)],void 0===(n=function(e,t,a,l,n,i,o,s,r,u,d){"use strict";l=a.__importDefault(l),n=a.__importDefault(n),i=a.__importDefault(i),o=a.__importStar(o),s=a.__importDefault(s),r=a.__importDefault(r),u=a.__importDefault(u),d=a.__importStar(d);const{setSiteUserPreferences:p}=i.default.editorPlugins.userPreferences.actions,{DONT_SHOW_AGAIN:c}=n.default.USER_PREFS.MULTILINGUAL.PUBLISH_SUCCESS_PANEL;class m extends s.default.Component{constructor(){super(...arguments),this.getTitle=()=>o.translate("Show_Language_Popup_Success_Title").replace("{{language}}",this.props.languageName),this.getCTA=()=>o.translate("Show_Language_Popup_Success_Text").replace("{{language}}",this.props.languageName),this.getButtonText=()=>o.translate("Show_Language_Popup_Success_Button"),this.onClose=()=>{this.props.closePanel()},this.getKeyboardShortcuts=()=>({esc:this.onClose})}componentDidMount(){this.props.setDontShowAgain(!0)}render(){return s.default.createElement(r.default,{ref:"panelFrame",shouldHideHeader:!0,shouldNotCloseOnBlur:!0,keyboardShortcuts:this.getKeyboardShortcuts(),panelName:"languagePublishSuccess",className:"language-publish-success-panel popup-medium"},s.default.createElement(u.default.Composites.BigPanelHeaderWithIllustration,null,s.default.createElement(u.default.PanelHeaderCenteredText,{title:this.getTitle(),shouldTranslate:!1,onClose:this.onClose}),s.default.createElement(u.default.PanelHeaderIllustration,{blueStripHeight:92},s.default.createElement(d.symbol,{name:"successMessageIllustration",key:"illustrationSymbol"}))),s.default.createElement(u.default.Composites.PanelContent,null,s.default.createElement(u.default.Composites.RichText,null,s.default.createElement(u.default.RichText,{type:"T06"},this.getCTA()))),s.default.createElement(u.default.Composites.ActionSetHorizontal,null,s.default.createElement(u.default.Button,{automationId:"language-publish-success-panel-confirm-btn",onClick:this.onClose,className:"btn-md"},s.default.createElement("span",null,this.getButtonText()))))}}m.displayName="languagePublishSuccessPanel",m.propTypes={panelName:l.default.string,languageName:l.default.string.isRequired};return o.hoc.connect(o.hoc.STORES.STATE_ONLY,null,(e,t)=>{let{panelName:a}=t;return{closePanel:()=>{e(i.default.editorPlugins.panels.actions.closePanelByNameAction(a))},setDontShowAgain:t=>e(p(c,t))}})(m)}.apply(t,l))||(e.exports=n)},2001:function(e,t,a){var l,n;l=[a,t,a(0),a(4),a(6),a(7),a(2),a(12),a(3),a(28),a(8),a(10)],void 0===(n=function(e,t,a,l,n,i,o,s,r,u,d,p){"use strict";l=a.__importDefault(l),n=a.__importDefault(n),i=a.__importDefault(i),o=a.__importStar(o),s=a.__importStar(s),r=a.__importDefault(r),u=a.__importDefault(u),d=a.__importDefault(d),p=a.__importStar(p);const{setSiteUserPreferences:c}=i.default.editorPlugins.userPreferences.actions,{top_bar_drop_panel_unpublish_lang:m}=s.events.multilingual,{DONT_SHOW_AGAIN:f}=n.default.USER_PREFS.MULTILINGUAL.UNPUBLISH_PANEL,{INACTIVE:h}=n.default.MULTILINGUAL.LANGUAGE_STATUSES;class _ extends r.default.Component{constructor(){super(...arguments),this.getTitle=()=>o.translate("Hide_Language_Popup_Title").replace("{{language}}",this.props.lang.name),this.getMessage=()=>o.translate("Hide_Language_Popup_Text").replace("{{language}}",this.props.lang.name),this.getConfirmButtonLabel=()=>o.translate("Hide_Language_Popup_Hide_Button"),this.getCancelButtonLabel=()=>o.translate("Hide_Language_Popup_Cancel_Button"),this.onClose=()=>{this.props.closePanel()},this.onConfirm=()=>{this.props.sendUnpublishBI(),this.props.unpublishLanguage(this.props.lang.code),this.props.closePanel()},this.getKeyboardShortcuts=()=>({esc:this.onClose})}componentDidMount(){this.props.setDontShowAgain(!0)}render(){return r.default.createElement(u.default,{ref:"panelFrame",shouldHideHeader:!0,shouldNotCloseOnBlur:!0,keyboardShortcuts:this.getKeyboardShortcuts(),panelName:this.props.panelName,className:"language-unpublish-panel"},r.default.createElement(d.default.Composites.PopupSmallSize,null,r.default.createElement(d.default.PanelHeader,{noHelpBtn:!0,onClose:this.onClose,className:"dark"},r.default.createElement("span",null,this.getTitle())),r.default.createElement(d.default.Composites.PanelContent,null,r.default.createElement(d.default.Composites.RichTextWithIllustration,null,r.default.createElement(d.default.Illustration,null,r.default.createElement(p.symbol,{name:"languageUnpublished"})),r.default.createElement(d.default.Composites.RichText,null,r.default.createElement(d.default.RichText,{type:"T01"},this.getMessage())))),r.default.createElement(d.default.Composites.ActionSetHorizontal,null,r.default.createElement(d.default.Button,{onClick:this.onClose,className:"secondary"},r.default.createElement("span",null,this.getCancelButtonLabel())),r.default.createElement(d.default.Button,{onClick:this.onConfirm,className:"primary"},r.default.createElement("span",null,this.getConfirmButtonLabel())))))}}_.displayName="languageUnpublishPanel",_.propTypes={panelName:l.default.string,lang:l.default.object.isRequired};return o.hoc.connect(o.hoc.STORES.DS_ONLY,e=>{let{dsRead:t}=e;return{siteId:t.generalInfo.getSiteId()}},(e,t)=>{let{panelName:a,siteId:l,lang:n}=t;return{closePanel:()=>e(i.default.editorPlugins.panels.actions.closePanelByNameAction(a)),unpublishLanguage:t=>e(i.default.multilingual.actions.updateLanguageStatusThunk(t,h)),setDontShowAgain:t=>e(c(f,t)),sendUnpublishBI:()=>e(i.default.bi.actions.event(m,{lang:n.languageCode,origin:"editor_language_unpublish_panel",esi:o.editorModel.editorSessionId,site_id:l}))}})(_)}.apply(t,l))||(e.exports=n)},2002:function(e,t,a){var l,n;l=[a,t,a(0),a(1),a(4),a(12),a(7),a(2),a(3),a(28),a(8),a(10)],void 0===(n=function(e,t,a,l,n,i,o,s,r,u,d,p){"use strict";l=a.__importDefault(l),n=a.__importDefault(n),i=a.__importStar(i),o=a.__importDefault(o),s=a.__importStar(s),r=a.__importDefault(r),u=a.__importDefault(u),d=a.__importDefault(d),p=a.__importStar(p);class c extends r.default.Component{constructor(){super(...arguments),this.onCancel=()=>{this.props.sendClosedBi("cancel"),this.props.closePanel()},this.onClose=()=>{this.props.sendClosedBi("close"),this.props.closePanel()},this.onConfirm=()=>{this.props.deleteCB(),this.props.sendClosedBi("confirm"),this.props.closePanel()},this.getKeyboardShortcuts=()=>({esc:this.onClose})}render(){return r.default.createElement(u.default,{ref:"panelFrame",shouldHideHeader:!0,shouldNotCloseOnBlur:!0,keyboardShortcuts:this.getKeyboardShortcuts(),panelName:this.props.panelName,className:"language-picker-delete-panel"},r.default.createElement(d.default.Composites.PopupSmallSize,null,r.default.createElement(d.default.PanelHeader,{noHelpBtn:!0,onClose:this.onClose,className:"dark"},s.translate("Notification_Box_Multilingual_Delete_Menu_Header")),r.default.createElement(d.default.Composites.PanelContent,null,r.default.createElement(d.default.Composites.RichTextWithIllustration,null,r.default.createElement(d.default.Illustration,null,r.default.createElement(p.symbol,{name:"deleteLanguagePicker"})),r.default.createElement(d.default.Composites.RichText,null,r.default.createElement(d.default.RichText,{type:"T01"},s.translate("Notification_Box_Multilingual_Delete_Menu_Text1"),r.default.createElement("br",null),s.translate("Notification_Box_Multilingual_Delete_Menu_Text2"))))),r.default.createElement(d.default.Composites.ActionSetHorizontal,null,r.default.createElement(d.default.Button,{onClick:this.onCancel,className:"secondary"},r.default.createElement(d.default.TextLabel,{value:"Notification_Box_Multilingual_Delete_Menu_Cancel_Button"})),r.default.createElement(d.default.Button,{onClick:this.onConfirm,className:"primary"},r.default.createElement(d.default.TextLabel,{value:"Notification_Box_Multilingual_Delete_Menu_Delete_Button"})))))}}c.displayName="languagePickerDeletePanel",c.propTypes={panelName:n.default.string,closePanel:n.default.func.isRequired,sendClosedBi:n.default.func.isRequired,deleteCB:n.default.func.isRequired};return s.hoc.connect(s.hoc.STORES.EDITOR_API,e=>{let{editorAPI:t,dsRead:a}=e;const{language:n}=a,{delete_language_menu_panel_selection:o}=i.events.multilingual,s=t.pages.getCurrentPageId(),r={primary_lang:n.original.get().languageCode,current_secondary_lng:n.current.get(),page_id:s,page_name:t.pages.getPageTitle(s)};return{sendClosedBi:e=>t.bi.event(o,l.default.assign({button_name:e},r))}},(e,t)=>{let{panelName:a}=t;return{closePanel:()=>e(o.default.editorPlugins.panels.actions.closePanelByNameAction(a))}})(c)}.apply(t,l))||(e.exports=n)},2003:function(e,t,a){var l,n;l=[a,t,a(0),a(1),a(4),a(7),a(2),a(6),a(12),a(3),a(28),a(8),a(10)],void 0===(n=function(e,t,a,l,n,i,o,s,r,u,d,p,c){"use strict";l=a.__importDefault(l),n=a.__importDefault(n),i=a.__importDefault(i),o=a.__importStar(o),s=a.__importDefault(s),r=a.__importStar(r),u=a.__importDefault(u),d=a.__importDefault(d),p=a.__importDefault(p),c=a.__importStar(c);class m extends u.default.Component{constructor(){super(...arguments),this.state={dontShowAgain:!1},this.closePanel=e=>{const{dontShowAgain:t}=this.state;this.props.closePanel(t),this.props.sendClosedBi(e,t),o.fedopsLogger.interactionStarted(o.fedopsLogger.INTERACTIONS.MULTILINGUAL.COMPONENT_CHANGED_PANEL_CLOSE)},this.onCancel=()=>{this.closePanel("keep")},this.onClose=()=>{this.closePanel("x")},this.onConfirm=()=>{this.props.undo(),this.closePanel("undo")},this.getKeyboardShortcuts=()=>({esc:this.onClose})}componentWillUnmount(){o.fedopsLogger.interactionEnded(o.fedopsLogger.INTERACTIONS.MULTILINGUAL.COMPONENT_CHANGED_PANEL_CLOSE)}render(){return u.default.createElement(d.default,{ref:"panelFrame",shouldHideHeader:!0,shouldNotCloseOnBlur:!0,keyboardShortcuts:this.getKeyboardShortcuts(),panelName:this.props.panelName},u.default.createElement(p.default.Composites.PopupSmallSize,null,u.default.createElement(p.default.PanelHeader,{noHelpBtn:!0,onClose:this.onClose,className:"dark"},o.translate("Notification_Box_Multilingual_ApplytoAll_Header")),u.default.createElement(p.default.Composites.PanelContent,null,u.default.createElement(p.default.Composites.RichTextWithIllustration,null,u.default.createElement(p.default.Illustration,null,u.default.createElement(c.symbol,{name:"componentChanged"})),u.default.createElement(p.default.Composites.RichText,null,u.default.createElement(p.default.RichText,{type:"T01"},o.translate("Notification_Box_Multilingual_ApplytoAll_Text"))))),u.default.createElement(p.default.Composites.ActionSetHorizontal,null,u.default.createElement(p.default.Checkbox,{value:this.state.dontShowAgain,label:"Notification_Box_Multilingual_ApplytoAll_DontShowAgain",labelAfterSymbol:!0,automationId:"confirmMultilingualComponentChangedCheckBox",onChange:e=>this.setState({dontShowAgain:e})}),u.default.createElement(p.default.Button,{onClick:this.onCancel,className:"secondary"},u.default.createElement(p.default.TextLabel,{value:"Notification_Box_Multilingual_ApplytoAll_Apply_Button"})),u.default.createElement(p.default.Button,{automationId:"undo",onClick:this.onConfirm,className:"primary"},u.default.createElement(p.default.TextLabel,{value:"Notification_Box_Multilingual_ApplytoAll_Undo_Button"})))))}}m.displayName="multilingualComponentChangedPanel",m.propTypes={panelName:n.default.string,closePanel:n.default.func.isRequired,sendClosedBi:n.default.func.isRequired};return o.hoc.connect(o.hoc.STORES.EDITOR_API,e=>{let{editorAPI:t}=e;const{language:a}=t,{design_layout_panel_selection:n}=r.events.multilingual,o=t.pages.getCurrentPageId(),s={primary_lang:a.original.get().languageCode,current_secondary_lng:a.current.get(),page_id:o,page_name:t.pages.getPageTitle(o)};return{sendClosedBi:(e,a)=>t.bi.event(n,l.default.assign({button_name:e,dont_show_again_indication:a},s)),undo:()=>{t.history.undo(),t.store.dispatch(i.default.editorPlugins.multilingual.actions.componentChangedUndoSendBi("dialogPanel"))}}},(e,t)=>{let{panelName:a}=t;return{closePanel:t=>{const{setSiteUserPreferences:l}=i.default.editorPlugins.userPreferences.actions,{DONT_SHOW_AGAIN:n}=s.default.USER_PREFS.MULTILINGUAL.COMPONENT_CHANGED_WARNING;e(l(n,t)),e(i.default.editorPlugins.panels.actions.closePanelByNameAction(a))}}})(m)}.apply(t,l))||(e.exports=n)},2004:function(e,t,a){var l,n;l=[a,t,a(0),a(5),a(4),a(2),a(11),a(7),a(3),a(28),a(8),a(10)],void 0===(n=function(e,t,a,l,n,i,o,s,r,u,d,p){"use strict";l=a.__importDefault(l),n=a.__importDefault(n),i=a.__importStar(i),o=a.__importStar(o),s=a.__importDefault(s),r=a.__importDefault(r),u=a.__importDefault(u),d=a.__importDefault(d),p=a.__importStar(p);const c=l.default({displayName:"googleTranslateFailed",propTypes:{panelName:n.default.string,compForBi:n.default.object},mixins:[o.mixins.editorAPIMixin],componentDidMount(){s.default.multilingual.services.multilingualBi.smthWentWrongPopupDisplayed(this.getEditorAPI(),this.props.compForBi)},componentWillUnmount(){i.fedopsLogger.interactionEnded(i.fedopsLogger.INTERACTIONS.CODE_ADD_PANEL_FIRST_INSTALL)},getTitle:()=>i.translate("multlingual_google_translate_unavailable_popup_title"),getMessage:()=>i.translate("multlingual_google_translate_unavailable_popup_text"),getConfirmButtonLabel:()=>i.translate("multlingual_google_translate_unavailable_popup_button"),onClose(){s.default.multilingual.services.multilingualBi.smthWentWrongPopupClosed(this.getEditorAPI(),this.props.compForBi),i.fedopsLogger.interactionStarted(i.fedopsLogger.INTERACTIONS.GOOGLE_TRANSLATE.FAILED_POPUP.CLOSE),this.props.closePanel()},getKeyboardShortcuts(){return{esc:this.onClose}},render(){return r.default.createElement(u.default,{ref:"panelFrame",shouldHideHeader:!0,shouldNotCloseOnBlur:!0,keyboardShortcuts:this.getKeyboardShortcuts(),panelName:this.props.panelName},r.default.createElement(d.default.Composites.PopupSmallSize,null,r.default.createElement(d.default.PanelHeader,{noHelpBtn:!0,onClose:this.onClose,className:"dark"},r.default.createElement("span",null,this.getTitle())),r.default.createElement(d.default.Composites.PanelContent,null,r.default.createElement(d.default.Composites.RichTextWithIllustration,null,r.default.createElement(d.default.Illustration,null,r.default.createElement(p.symbol,{name:"googleTranslateFailed"})),r.default.createElement(d.default.Composites.RichText,null,r.default.createElement(d.default.RichText,{type:"T01"},this.getMessage())))),r.default.createElement(d.default.Composites.ActionSetHorizontal,null,r.default.createElement(d.default.Button,{onClick:this.onClose,className:"primary"},r.default.createElement("span",null,this.getConfirmButtonLabel())))))}}),m=(e,t,a)=>{let{editorAPI:l}=a;return l};return i.hoc.connect(i.hoc.STORES.DS_ONLY,e=>{let{dsRead:t}=e;return{siteId:t.generalInfo.getSiteId()}},(e,t)=>{let{panelName:a}=t;const l=e(m);return{closePanel:()=>l.panelManager.closePanelByName(a)}})(c)}.apply(t,l))||(e.exports=n)},2005:function(e,t,a){var l,n;l=[a,t,a(0),a(4),a(2),a(7),a(3),a(28),a(8),a(10)],void 0===(n=function(e,t,a,l,n,i,o,s,r,u){"use strict";l=a.__importDefault(l),n=a.__importStar(n),i=a.__importDefault(i),o=a.__importDefault(o),s=a.__importDefault(s),r=a.__importDefault(r),u=a.__importStar(u);const{openHelpCenter:d,closePanelByNameAction:p}=i.default.editorPlugins.panels.actions;class c extends o.default.Component{constructor(){super(...arguments),this.getDescription1=()=>n.translate("PLATFORM_Popup_open_close_reset_and_lock_description1"),this.getDescription2=()=>n.translate("PLATFORM_Popup_open_close_reset_and_lock_description2"),this.getLearnMoreLabel=()=>n.translate("PLATFORM_Popup_open_close_reset_and_lock_learn_more"),this.onClose=()=>{this.props.closePanel()},this.getKeyboardShortcuts=()=>({esc:this.onClose}),this.onConfirm=()=>{this.props.onConfirm(),this.onClose()}}render(){return o.default.createElement(s.default,{shouldHideHeader:!0,automationId:"confirmResetAndClose",keyboardShortcuts:this.getKeyboardShortcuts(),panelName:this.props.panelName},o.default.createElement(r.default.Composites.PopupSmallSize,null,o.default.createElement(r.default.PanelHeader,{onHelp:this.props.openHelpCenter,onClose:this.onClose,className:"dark"},o.default.createElement(r.default.TextLabel,{type:"T11",value:"PLATFORM_Popup_open_close_reset_and_lock_title"})),o.default.createElement(r.default.Composites.PanelContent,null,o.default.createElement(r.default.Composites.RichTextWithIllustration,null,o.default.createElement(r.default.Illustration,null,o.default.createElement(u.symbol,{name:"confirmClosingWidgetIllustration"})),o.default.createElement(r.default.Composites.RichText,null,o.default.createElement(r.default.RichText,{type:"T01"},this.getDescription1(),o.default.createElement("br",null),o.default.createElement("br",null),this.getDescription2(),o.default.createElement("br",null),o.default.createElement("a",{onClick:this.props.openHelpCenter},this.getLearnMoreLabel()))))),o.default.createElement(r.default.Composites.ActionSetHorizontal,null,o.default.createElement(r.default.Button,{automationId:"confirmCloseCancel",onClick:this.onClose,className:"secondary"},o.default.createElement(r.default.TextLabel,{value:"PLATFORM_Popup_open_close_reset_and_lock_cancel"})),o.default.createElement(r.default.Button,{automationId:"confirmCloseConfirm",onClick:this.onConfirm,className:"primary"},o.default.createElement(r.default.TextLabel,{value:"PLATFORM_Popup_open_close_reset_and_lock_reset_button"})))))}}c.displayName="confirmResetAndClose",c.propTypes={onConfirm:l.default.func.isRequired,openHelpCenter:l.default.func.isRequired};return n.hoc.connect(n.hoc.STORES.DS_ONLY,void 0,(e,t)=>{let{panelName:a}=t;return{closePanel:()=>e(p(a)),openHelpCenter:()=>e(d("e1de2826-3df0-4a7f-a4e9-1aa538f34224"))}})(c)}.apply(t,l))||(e.exports=n)},2006:function(e,t,a){var l,n;l=[a,t,a(0),a(4),a(2),a(6),a(7),a(3),a(28),a(8),a(10)],void 0===(n=function(e,t,a,l,n,i,o,s,r,u,d){"use strict";l=a.__importDefault(l),n=a.__importStar(n),i=a.__importDefault(i),o=a.__importDefault(o),s=a.__importDefault(s),r=a.__importDefault(r),u=a.__importDefault(u),d=a.__importStar(d);const{openHelpCenter:p,closePanelByNameAction:c}=o.default.editorPlugins.panels.actions,{setSessionUserPreferences:m}=o.default.userPreferences.actions,f=i.default.USER_PREFS.OPEN_WIDGET_CONFIRMATION.DONT_SHOW_AGAIN;class h extends s.default.Component{constructor(){super(...arguments),this.state={dontShowAgain:!1},this.getDescription1=()=>n.translationUtil.translateTemplate("PLATFORM_Popup_open_close_unlock_layout_description1",{widget_name:this.props.widgetName}),this.getDescription2=()=>n.translate("PLATFORM_Popup_open_close_unlock_layout_description2"),this.getLearnMoreLabel=()=>n.translate("PLATFORM_Popup_open_close_unlock_layout_learn_more"),this.onClose=()=>{this.props.closePanel()},this.getKeyboardShortcuts=()=>({esc:this.onClose}),this.onConfirm=()=>{this.state.dontShowAgain&&this.props.setDontShowAgainPreferences(!0),this.props.onConfirm(),this.onClose()}}render(){return s.default.createElement(r.default,{ref:"panelFrame",shouldHideHeader:!0,automationId:"confirmOpenWidget",keyboardShortcuts:this.getKeyboardShortcuts(),panelName:this.props.panelName},s.default.createElement(u.default.Composites.PopupSmallSize,null,s.default.createElement(u.default.PanelHeader,{onHelp:this.props.openHelpCenter,onClose:this.onClose,className:"dark"},s.default.createElement(u.default.TextLabel,{type:"T11",value:"PLATFORM_Popup_open_close_unlock_layout_title"})),s.default.createElement(u.default.Composites.PanelContent,null,s.default.createElement(u.default.Composites.RichTextWithIllustration,null,s.default.createElement(u.default.Illustration,null,s.default.createElement(d.symbol,{name:"opeiningWidgetMasageIllustration"})),s.default.createElement(u.default.Composites.RichText,null,s.default.createElement(u.default.RichText,{type:"T01",automationId:"confirmOpenDescription"},this.getDescription1(),s.default.createElement("br",null),s.default.createElement("br",null),this.getDescription2(),s.default.createElement("br",null),s.default.createElement("a",{onClick:this.props.openHelpCenter},this.getLearnMoreLabel()))))),s.default.createElement(u.default.Composites.ActionSetHorizontal,null,s.default.createElement(u.default.Checkbox,{value:this.state.dontShowAgain,label:"Notification_Box_Dont_Show_Again",labelAfterSymbol:!0,automationId:"confirmOpenWidgetCheckBox",onChange:e=>this.setState({dontShowAgain:e})}),s.default.createElement(u.default.Button,{automationId:"confirmOpenCancel",_head:!0,onClick:this.onClose,className:"secondary"},s.default.createElement(u.default.TextLabel,{value:"PLATFORM_Popup_open_close_unlock_layout_cancel"})),s.default.createElement(u.default.Button,{automationId:"confirmOpenConfirm",onClick:this.onConfirm,className:"primary"},s.default.createElement(u.default.TextLabel,{value:"PLATFORM_Popup_open_close_unlock_layout_unlock"})))))}}h.displayName="confirmResetAndClose",h.propTypes={onConfirm:l.default.func.isRequired,widgetName:l.default.string.isRequired};return n.hoc.connect(n.hoc.STORES.DS_ONLY,void 0,(e,t)=>{let{panelName:a}=t;return{closePanel:()=>e(c(a)),openHelpCenter:()=>e(p("56c3431c-9964-4512-9313-c4ae0ebb844f")),setDontShowAgainPreferences:t=>e(m(f,t))}})(h)}.apply(t,l))||(e.exports=n)},2007:function(e,t,a){var l,n;l=[a,t,a(0),a(5),a(1),a(11),a(14),a(12),a(6),a(2),a(500),a(2008),a(3),a(9),a(8),a(28)],void 0===(n=function(e,t,a,l,n,i,o,s,r,u,d,p,c,m,f,h){"use strict";function _(){const e=u.translate;return c.default.createElement("div",null,c.default.createElement(h.default,{panelName:this.props.panelName,shouldHideHeader:!0,className:"custom-error-page-panel custom-error-page-panel custom-error-page-panel"},c.default.createElement(f.default.Composites.BigPanelHeaderWithIllustration,{className:"custom-error-page-panel__header"},c.default.createElement(f.default.PanelHeaderCenteredText,{title:"custom404_create_popup_title",noHelp:!0,onClose:this.close,shouldTranslate:!0,className:"custom-error-page-panel__header-text"}),c.default.createElement(f.default.PanelHeaderIllustration,{className:"custom-error-page-panel__header-illustration"},c.default.createElement(m.symbol,{name:"custom404_Modal",className:"custom-error-page-panel__symbol"}))),c.default.createElement("div",{className:"custom-error-page-panel__content"},c.default.createElement(f.default.TextLabel,{type:"T05",value:"custom404_create_popup_subtitle",shouldTranslate:!0,className:"custom-error-page-panel__title custom-error-page-panel__title_bold"}),c.default.createElement(f.default.Composites.PromotionalList,{className:"custom-error-page-panel__promotional-list"},c.default.createElement(f.default.PromotionalList,{shouldTranslate:!1,items:this.getPremiumPromotionalListItems(),className:"custom-error-page-panel__promotion-list"}))),c.default.createElement("div",{className:"custom-error-page-panel__footer"},c.default.createElement(f.default.Button,{onClick:this.addNewPage,automationId:this.automationIds.SET_PAGE_BUTTON,className:"btn-big custom-error-page-panel__btn"},e("custom404_create_popup_create_button")),c.default.createElement(f.default.Button,{automationId:this.automationIds.HELP_LINK,onClick:this.openHelpLink,className:"btn-text link custom-error-page-panel__link"},e("custom404_create_popup_help_link")))))}function g(){const e=u.translate;return c.default.createElement("div",null,c.default.createElement(h.default,{panelName:this.props.panelName,shouldHideHeader:!0,className:"custom-error-page-panel custom-error-page-panel custom-error-page-panel custom-error-page-panel_freemium"},c.default.createElement(f.default.Composites.BigPanelHeaderWithIllustration,{className:"custom-error-page-panel__header"},c.default.createElement(f.default.PanelHeaderCenteredText,{title:"custom404_upgrade_popup_title",noHelp:!0,onClose:this.close,shouldTranslate:!0,className:"custom-error-page-panel__header-text"}),c.default.createElement(f.default.PanelHeaderIllustration,{className:"custom-error-page-panel__header-illustration"},c.default.createElement(m.symbol,{name:"custom404_Upgrade",className:"custom-error-page-panel__symbol"}))),c.default.createElement("div",{className:"custom-error-page-panel__content"},c.default.createElement(f.default.TextLabel,{type:"T05",value:"custom404_upgrade_popup_text_intro",shouldTranslate:!0,className:"custom-error-page-panel__title"}),c.default.createElement(f.default.Composites.PromotionalList,{className:"custom-error-page-panel__promotional-list"},c.default.createElement(f.default.PromotionalList,{shouldTranslate:!1,items:this.getFreemiumPromotionalListItems(),className:"custom-error-page-panel__promotion-list"}))),c.default.createElement("div",{className:"custom-error-page-panel__footer"},c.default.createElement(f.default.Button,{onClick:this.openGoPremiumLink,automationId:this.automationIds.UPGRADE_PLAN_BUTTON,className:"btn-big custom-error-page-panel__btn"},e("custom404_upgrade_popup_upgrade_button")),c.default.createElement(f.default.Button,{automationId:this.automationIds.PREVIEW_LINK,onClick:this.openDefault404,className:"btn-text custom-error-page-panel__link"},e("custom404_upgrade_popup_preview_link")))))}l=a.__importDefault(l),n=a.__importDefault(n),i=a.__importStar(i),o=a.__importStar(o),s=a.__importStar(s),r=a.__importDefault(r),u=a.__importStar(u),d=a.__importDefault(d),p=a.__importDefault(p),c=a.__importDefault(c),m=a.__importStar(m),f=a.__importDefault(f),h=a.__importDefault(h);const{automationIds:E,actions:b,displayName:P}=d.default,C=l.default({displayName:P,mixins:[i.mixins.editorAPIMixin],automationIds:E,componentDidMount(){u.fedopsLogger.interactionEnded(u.fedopsLogger.INTERACTIONS.CUSTOM_404_OPEN_PANEL)},componentWillUnmount(){u.fedopsLogger.interactionEnded(u.fedopsLogger.INTERACTIONS.CUSTOM_404_CLOSE_PANEL)},openGoPremiumLink(){const e=this.getEditorAPI();e.bi.event(s.events.panels.PANEL_CLOSED,{panel_name:this.props.panelName,origin:r.default.BI.HELP.ORIGIN.PANEL}),e.account.upgrade(b.UPGRADE_PLAN),e.bi.event(s.events.customErrorPage.custom_error_page_panel,{action:"upgrade"}),this.close("close")},openHelpLink(){const e=this.getEditorAPI(),t={panel_name:this.props.panelName,origin:r.default.BI.HELP.ORIGIN.PANEL};e.panelManager.openHelpCenter(o.EXTERNAL.CUSTOM_ERROR_PAGE,{},t)},addNewPage(){const e=this.getEditorAPI();if(!e.pages.hasCustomErrorPage()){const t=e.pages.add(p.default.title,p.default.definition);t&&(e.bi.event(s.events.customErrorPage.custom_error_page_panel,{action:"create_custom_error_page"}),u.fedopsLogger.interactionStarted(u.fedopsLogger.INTERACTIONS.CUSTOM_404_CREATE_PAGE),e.dsActions.waitForChangesApplied(()=>{e.history.add("adding new page",{actionType:"addPage",nextPage:t.id}),u.fedopsLogger.interactionEnded(u.fedopsLogger.INTERACTIONS.CUSTOM_404_CREATE_PAGE),e.navigateAndOpenPagesPanel(t.id,{renameEnabled:!1})}))}},close(e){const t=this.getEditorAPI();t.bi.event(s.events.panels.PANEL_CLOSED,{panel_name:this.props.panelName,origin:e}),u.fedopsLogger.interactionStarted(u.fedopsLogger.INTERACTIONS.CUSTOM_404_CLOSE_PANEL),t.panelManager.closePanelByName(this.props.panelName)},openDefault404(){const e=this.getEditorAPI();n.default.invoke(e,"dsRead.generalInfo.isFirstSave")||(e.bi.event(s.events.customErrorPage.custom_error_page_panel,{action:"preview_custom_error_page",flow:"custom_error_page_panel"}),window.open(this.getUrl()))},getFreemiumPromotionalListItems:()=>[u.translate("custom404_upgrade_popup_bullet1"),u.translate("custom404_upgrade_popup_bullet2"),u.translate("custom404_upgrade_popup_bullet3"),u.translate("custom404_upgrade_popup_bullet4")],getPremiumPromotionalListItems:()=>[u.translate("custom404_create_popup_bullet1"),u.translate("custom404_create_popup_bullet2"),u.translate("custom404_create_popup_bullet3")],getUrl(){const e=this.getEditorAPI(),[t,a]=e.site.getSitePublicUrl().split("?");return"".concat(t,"/").concat(d.default.defaultUrl,"?").concat(a)},getIsPremium(){return this.getEditorAPI().site.isPremium()},render(){return this.getIsPremium()?_.call(this):g.call(this)}});return u.hoc.connect(u.hoc.STORES.EDITOR_API,void 0,void 0)(C)}.apply(t,l))||(e.exports=n)},2008:function(e,t,a){var l,n;l=[a,t,a(0),a(2),a(500)],void 0===(n=function(e,t,a,l,n){"use strict";l=a.__importStar(l),n=a.__importDefault(n);const i=l.translate("SiteMenu_Custom404_Page_Default_Name");return{title:i,definition:{type:"Page",id:"c1dmp",components:[{parent:"c1dmp",layout:{x:229,y:29,fixedPosition:!1,width:487,height:250,scale:1,rotationInDegrees:0},metaData:{pageId:"c1dmp"},componentType:"wysiwyg.viewer.components.VectorImage",type:"Component",id:"comp-k2vvwjx7",skin:"skins.viewer.VectorImageSkin",data:{type:"VectorImage",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1,pageId:"c1dmp"},svgId:"11062b_4a0c53962acf4f968e73daf68f8b8e3c.svg",title:"404 Cactus",id:"dataItem-k2vvwjx8"},props:{id:"propItem-k2vvwjxa",type:"VectorImageProperties",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1,autoGenerated:!1,pageId:"c1dmp"},displayMode:"fit",flip:"none"},mobileHints:{type:"MobileHints",author:"duplicate",originalCompId:"comp-j6qle20z",recommendedScale:1,recommendedWidth:88,recommendedHeight:100,metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},id:"mobileHints-k2vvwjxe"},design:{type:"VectorImageDesignData",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1,pageId:"c1dmp"},shapeStyle:{opacity:1,strokeWidth:4,stroke:"#5E97FF",strokeOpacity:1,enableStroke:!1},overrideColors:{color1:"color_18"},id:"dataItem-k2vvwjxa1"},style:{type:"ComponentStyle",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1,pageId:"c1dmp"},style:{properties:{},propertiesSource:{},groups:{}},componentClassName:"wysiwyg.viewer.components.VectorImage",pageId:"",compId:"i8yjldka_0",styleType:"custom",skin:"skins.viewer.VectorImageSkin",id:"style-k2vvwjxe1"}},{type:"Component",id:"comp-k2c27eq1",skin:"wysiwyg.viewer.skins.WRichTextNewSkin",layout:{width:600,height:195,x:190,y:341,scale:1,rotationInDegrees:0,fixedPosition:!1},componentType:"wysiwyg.viewer.components.WRichText",parent:"c1dmp",metaData:{pageId:"c1dmp"},data:{type:"StyledText",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1,pageId:"c1dmp"},text:'<h2 class="font_2" style="text-align:center; font-size: 28px"><span class="color_18">'.concat(l.translate("custom404_page_template_title_text"),"</span></h2>"),stylesMapId:"CK_EDITOR_PARAGRAPH_STYLES",linkList:[],id:"dataItem-k2c27eqw"},style:"txtNew"},{type:"Component",id:"comp-k2c29xns",skin:"wysiwyg.viewer.skins.WRichTextNewSkin",layout:{width:377,height:52,x:301,y:394,scale:1,rotationInDegrees:0,fixedPosition:!1},componentType:"wysiwyg.viewer.components.WRichText",parent:"c1dmp",metaData:{pageId:"c1dmp"},data:{type:"StyledText",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1,pageId:"c1dmp"},text:'<p class="font_7" style="text-align: center; line-height: 1.5em;"><span style="letter-spacing:0em;"><span class="color_15">'.concat(l.translate("custom404_page_template_body_text"),"</span></span></p>"),stylesMapId:"CK_EDITOR_PARAGRAPH_STYLES",linkList:[],id:"dataItem-k2c29xoj"},props:{type:"WRichTextProperties",metaData:{schemaVersion:"1.0",autoGenerated:!1,pageId:"c1dmp"},brightness:1,packed:!1,minHeight:52,id:"propItem-k2c2a228"},style:"txtNew"},{type:"Component",id:"comp-k2c2bufn",skin:"wysiwyg.viewer.skins.button.BasicButton",layout:{width:155,height:42,x:412,y:471,scale:1,rotationInDegrees:0,fixedPosition:!1},componentType:"wysiwyg.viewer.components.SiteButton",parent:"c1dmp",metaData:{pageId:"c1dmp"},data:{type:"LinkableButton",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1,pageId:"c1dmp"},label:l.translate("custom404_page_template_button_text"),link:{type:"PageLink",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1,pageId:"c1dmp"},pageId:"#c1dmp",target:"_self"},id:"dataItem-k2c2buga"},props:{type:"ButtonProperties",metaData:{schemaVersion:"1.0",pageId:"c1dmp"},align:"center",margin:0,id:"propItem-k2c2bugc"},style:{type:"ComponentStyle",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1,pageId:"c1dmp"},style:{properties:{"alpha-bg":"0","alpha-bgh":"1","alpha-brd":"1","alpha-brdh":"0","alpha-txt":"1","alpha-txth":"1",bg:"#FFFFFF",bgh:"color_18","boxShadowToggleOn-shd":"false",brd:"color_18",brdh:"#323232",brw:"2",fnt:"font_9",rd:"20px",shd:"0px 1px 4px 0px rgba(0,0,0,0.6)",txt:"color_18",txth:"#FFFFFF"},propertiesSource:{"alpha-bg":"value","alpha-bgh":"value","alpha-brd":"value","alpha-brdh":"value","alpha-txt":"value","alpha-txth":"value",bg:"value",bgh:"theme","boxShadowToggleOn-shd":"value",brd:"theme",brdh:"value",brw:"value",fnt:"theme",rd:"value",shd:"value",txt:"theme",txth:"value"},groups:{}},componentClassName:"wysiwyg.viewer.components.SiteButton",pageId:"",compId:"",styleType:"custom",skin:"wysiwyg.viewer.skins.button.BasicButton",id:"style-k2c3axu6"}}],skin:"wysiwyg.viewer.skins.page.TransparentPageSkin",layout:{width:1903,height:706,x:0,y:0,scale:1,rotationInDegrees:0,fixedPosition:!1},componentType:"mobile.core.components.Page",metaData:{pageId:"c1dmp"},data:{type:"Page",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1,pageId:"masterPage"},title:i,hideTitle:!0,icon:"",pageUriSEO:n.default.defaultUrl,hidePage:!0,isMobileLandingPage:!1,underConstruction:!1,tpaApplicationId:0,pageSecurity:{requireLogin:!1},isPopup:!1,indexable:!1,isLandingPage:!1,pageBackgrounds:{desktop:{custom:!0,ref:{type:"BackgroundMedia",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1,pageId:"masterPage"},color:"{color_11}",alignType:"top",fittingType:"fill",scrollType:"fixed"},isPreset:!0},mobile:{custom:!0,ref:{type:"BackgroundMedia",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1,pageId:"masterPage"},color:"{color_11}",alignType:"top",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0},isPreset:!0,mediaSizing:"viewport"}},translationData:{uriSEOTranslated:!1},ignoreBottomBottomAnchors:!0,ogImage:""},props:{type:"PageProperties",metaData:{schemaVersion:"1.0",autoGenerated:!1,pageId:"c1dmp"},desktop:{minHeight:706},id:"propItem-k2c259np"},mobileHints:{type:"MobileHints",hidden:!1,metaData:{pageId:"c1dmp"},id:"mobileHints-j8u779np"},style:"p1",behaviors:{type:"ObsoleteBehaviorsList",items:"[]",metaData:{pageId:"c1dmp"},id:"behavior-jg9pfpzt"},activeModes:{}}}}.apply(t,l))||(e.exports=n)},2009:function(e,t,a){var l,n;l=[a,t,a(0),a(3),a(4),a(2),a(501)],void 0===(n=function(e,t,a,l,n,i,o){"use strict";function s(){return l.default.createElement(o.default,{panelName:this.props.panelName,progressMax:this.props.progressMax,step:this.state.step,taskDisplayName:this.state.taskDisplayName,appName:this.props.appName,isError:this.props.isError,isDone:this.props.isDone,title:this.getTitle()})}l=a.__importDefault(l),n=a.__importDefault(n),i=a.__importStar(i),o=a.__importDefault(o);const r=["Installation_Popup_Loader_Text1","Installation_Popup_Loader_Text2","Installation_Popup_Loader_Text3","Installation_Popup_Loader_Text4","Installation_Popup_Loader_Text5"];class u extends l.default.Component{constructor(e){super(e),this.state={step:0,taskDisplayName:""}}componentDidMount(){this.interval=window.setInterval(()=>this.updateProgressState(),2e3)}getTitle(){return i.translationUtil.translateTemplate("Installation_Popup_Loader_Header",{App_name:this.props.appName})}updateProgressState(){this.state.step<4&&this.setState({step:this.state.step+1,taskDisplayName:i.translate(r[this.state.step])}),this.props.isDone&&!this.props.isError&&(clearInterval(this.interval),this.onSuccess())}componentWillUnmount(){clearInterval(this.interval)}onSuccess(){this.setState({step:this.props.progressMax,taskDisplayName:i.translate(r[this.props.progressMax-1])})}render(){return s.call(this)}}return u.propTypes={isDone:n.default.bool.isRequired,isError:n.default.bool,appName:n.default.string.isRequired},u.defaultProps={isError:!1,progressMax:5},i.hoc.connect(i.hoc.STORES.STATE_AND_DS,null,null)(u)}.apply(t,l))||(e.exports=n)},2010:function(e,t,a){var l,n;l=[a,t,a(0),a(3),a(4),a(7),a(2),a(8),a(67)],void 0===(n=function(e,t,a,l,n,i,o,s,r){"use strict";function u(){return l.default.createElement(r.default,{panelName:this.props.panelName,panelTitle:o.translate("MyDesigns_RenameDesign_Popup_Header"),confirmLabel:"MyDesigns_RenameDesign_Popup_Button_Save",cancelLabel:"MyDesigns_RenameDesign_Popup_Button_Cancel",confirmDisabled:this.isConfirmDisabled(),onConfirm:this.submit,className:"rename-saved-components-panel"},l.default.createElement(s.default.Composites.TextInputLabeled,null,l.default.createElement(s.default.TextLabel,{value:"MyDesigns_RenameDesign_Popup_Edit_Name_Label"}),l.default.createElement(s.default.TextInput,{value:this.state.value,automationId:"saved-elements-rename-input",validateOnBlurOnly:!0,validateInitialValue:!1,validator:this.validator,maxLength:255,autoSelect:!0,onKeyDown:this.handleKeyDown,placeholder:"MyDesigns_SaveDesign_Popup_Name_Placeholder",invalidMessage:"MyDesigns_RenameDesign_Popup_Rename_Error_Empty",onChange:this.handleChange})))}l=a.__importDefault(l),n=a.__importDefault(n),i=a.__importDefault(i),o=a.__importStar(o),s=a.__importDefault(s),r=a.__importDefault(r);class d extends l.default.Component{constructor(e){super(e),this.state=this.initialState,this.validator=this.validator.bind(this),this.handleChange=this.handleChange.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.submit=this.submit.bind(this)}get initialState(){return{value:this.props.name,isValid:!1,isPristine:!0}}validator(e){const t=Boolean(e);return this.setState({isValid:t}),t}handleChange(e){this.setState({value:e,isPristine:!1})}handleKeyDown(e){13===e.keyCode&&this.submit()}submit(){this.state.isValid&&(this.props.onConfirm(this.state.value),this.props.close())}isConfirmDisabled(){return this.state.isPristine||!this.state.isValid}render(){return u.call(this)}}d.displayName="renameSavedComponentsPanel",d.propTypes={name:n.default.string.isRequired,onConfirm:n.default.func.isRequired};return o.hoc.connect(o.hoc.STORES.STATE_ONLY,void 0,(e,t)=>({close:()=>e(i.default.editorPlugins.panels.actions.closePanelByNameAction(t.panelName))}))(d)}.apply(t,l))||(e.exports=n)},2011:function(e,t,a){var l,n;l=[a,t,a(0),a(4),a(3),a(2),a(9),a(8),a(67)],void 0===(n=function(e,t,a,l,n,i,o,s,r){"use strict";l=a.__importDefault(l),n=a.__importDefault(n),i=a.__importStar(i),o=a.__importStar(o),s=a.__importDefault(s),r=a.__importDefault(r);const u=e=>function(e){return n.default.createElement(r.default,{panelName:e.panelName,onConfirm:e.onConfirm,confirmLabel:"MyDesigns_DeleteDesign_Popup_Button_Delete",cancelLabel:"MyDesigns_DeleteDesign_Popup_Button_Cancel",type:"danger",panelTitle:i.translate("MyDesigns_DeleteDesign_Popup_Header"),className:"delete-saved-components-panel"},n.default.createElement(s.default.Composites.RichTextWithIllustration,null,n.default.createElement(s.default.Illustration,null,n.default.createElement(o.symbol,{name:"deleteGeneralIcon"})),n.default.createElement(s.default.Composites.RichText,null,n.default.createElement(s.default.RichText,{type:"T01"},n.default.createElement("p",{key:"line1"},i.translate("MyDesigns_DeleteDesign_Popup_Text1",e.name)),n.default.createElement("p",{key:"line2"},i.translate("MyDesigns_DeleteDesign_Popup_Text2"))))))}(e);return u.displayName="deleteSavedComponentsPanel",u.propTypes={name:l.default.string.isRequired,onConfirm:l.default.func.isRequired},u}.apply(t,l))||(e.exports=n)},2012:function(e,t,a){var l,n;function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){s(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}l=[a,t,a(0),a(3),a(6),a(14),a(2),a(12),a(7),a(16),a(8),a(9),a(2013),a(67)],void 0===(n=function(e,t,a,l,n,i,s,r,u,d,p,c,m,f){"use strict";l=a.__importDefault(l),n=a.__importDefault(n),i=a.__importStar(i),s=a.__importStar(s),r=a.__importStar(r),u=a.__importDefault(u),d=a.__importDefault(d),p=a.__importStar(p),c=a.__importStar(c),m=a.__importDefault(m),f=a.__importDefault(f);const{translate:h,hoc:{connect:_,STORES:{EDITOR_API:g}}}=s,{DISPLAY_NAME:E,AUTOMATION_IDS:b}=m.default,{notifications:P,editorPlugins:{savedComponents:C,panels:y}}=u.default;var S;!function(e){e[e.INTERNAL_SERVER_ERROR=500]="INTERNAL_SERVER_ERROR",e[e.NOT_FOUND=404]="NOT_FOUND",e[e.BAD_REQUEST=400]="BAD_REQUEST"}(S||(S={}));class N extends l.default.Component{constructor(){super(...arguments),this.state={componentName:"",isValid:!1,isPristine:!0,isSubmitting:!1},this.automationIds=b,this.validator=e=>{const t=this.validateContent(e);return this.setState({isValid:t}),t},this.handleHelp=()=>{const e={panel_name:this.props.panelName,origin:n.default.BI.HELP.ORIGIN.PANEL};this.props.openHelpCenter(i.HELP_CENTER.SAVE_TO_MY_ELEMENTS_HELP_ITEM,{},e)},this.handleComponentNameChange=e=>this.setState(t=>o({},t,{componentName:e.trim(),isPristine:!1})),this.handleKeyDown=e=>{13===e.keyCode&&this.submit()},this.submit=()=>{this.state.isValid&&!this.state.isSubmitting&&(this.setState({isSubmitting:!0}),this.props.close(),this.props.save(this.props.selectedComponents,this.state.componentName).catch(this.handleSaveError).finally(this.handleSaved),this.handleSaveSucceed())},this.getShortcuts=()=>({esc:()=>this.props.close()}),this.handleSaved=()=>{this.setState({isSubmitting:!1})},this.handleSaveSucceed=()=>{const{shouldShowNotification:e,shouldOpenAddPanel:t}=this.props;this.props.onSaveSucceed(e,t)},this.handleSaveError=e=>{let t="Notifications_MyDesigns_SaveError_Text";(e.status===S.INTERNAL_SERVER_ERROR||e.status===S.NOT_FOUND||e.status===S.BAD_REQUEST||"Failed to fetch"===e.message)&&(t="Notifications_MyDesigns_SaveError_Text"),this.props.onSaveError(t)},this.validateContent=e=>Boolean(e.trim())}static getDerivedStateFromProps(e,t){return t.componentName?t:o({},t,{componentName:e.defaultComponentName,isValid:!0,isPristine:!e.defaultComponentName})}componentDidMount(){this.props.sendBI(r.events.panels.PANEL_OPENED)}isDisabled(){return this.state.isPristine||!this.state.isValid||this.state.isSubmitting}render(){const{panelName:e,close:t,hasUnsupportedComponents:a}=this.props,{componentName:n}=this.state;return l.default.createElement(f.default,{panelName:e,className:"add-to-my-elements-panel",panelTitle:s.translate("MyDesigns_SaveDesign_Popup_Title"),close:t,keyboardShortcuts:this.getShortcuts(),onConfirm:this.submit,confirmLabel:"MyDesigns_SaveDesign_Popup_Button_Save",cancelLabel:"MyDesigns_SaveDesign_Popup_Button_Cancel",onHelp:this.handleHelp,shouldCloseOnConfirm:!1,confirmDisabled:this.isDisabled(),shouldHideHeader:!1},l.default.createElement(p.Composites.RichTextWithIllustration,null,l.default.createElement(p.Illustration,null,l.default.createElement(c.symbol,{name:"myDesignSave"})),l.default.createElement(p.RichText,null,l.default.createElement(p.Composites.TextInputLabeled,null,l.default.createElement(p.TextLabel,{value:"MyDesigns_SaveDesign_Popup_Name_Label"}),l.default.createElement(p.TextInput,{automationId:this.automationIds.INPUT,value:n,validateOnBlurOnly:!0,onKeyDown:this.handleKeyDown,validateInitialValue:!1,validator:this.validator,maxLength:255,autoSelect:!0,placeholder:"MyDesigns_SaveDesign_Popup_Name_Placeholder",invalidMessage:"MyDesigns_RenameDesign_Popup_Rename_Error_Empty",onChange:this.handleComponentNameChange})),a?l.default.createElement(p.Composites.RichText,{key:"unsupported-components-warning"},l.default.createElement(p.RichText,null,l.default.createElement("span",null,s.translate("MyDesigns_SaveDesign_Popup_Cannot_Save_Elements_Text")),l.default.createElement("span",{dangerouslySetInnerHTML:{__html:"&nbsp;"}}),l.default.createElement("a",{href:"#",onClick:this.handleHelp},s.translate("MyDesigns_SaveDesign_Popup_Cannot_Save_Elements_Link")))):null)))}}N.displayName=E;const T=()=>y.actions.updateOrOpenPanel("addPanelInfra.addPanel",{category:d.default.CATEGORIES_ID.SAVED_COMPONENTS});return _(g,e=>{let{state:t}=e;return{shouldShowNotification:!C.selectors.getIsEmpty(t),shouldOpenAddPanel:C.selectors.getIsEmpty(t),defaultComponentName:C.selectors.getNextComponentDefaultName(t,h("MyDesigns_SaveDesign_Popup_Name_Default"))}},(e,t)=>({save:(a,l)=>e(C.actions.saveItem(a,l,{funnelId:t.funnelId})),close:()=>e(y.actions.closePanelByNameAction(t.panelName)),sendBI:(a,l)=>e(u.default.bi.actions.event(a,Object.assign({funnel_id:t.funnelId},l))),onSaveSucceed:(t,a)=>{var l;a&&e(T()),t&&e((l=()=>e(T()),P.actions.showUserActionNotification({type:n.default.NOTIFICATIONS.TYPES.INFO,title:"Notifications_MyDesignSaved_Text",message:"Notifications_MyDesignSaved_Text",link:{caption:"Notifications_MyDesignSaved_Link",onNotificationLinkClick:l},timeout:3e3})))},onSaveError:t=>{e(P.actions.closeAllNotifications()),e((e=>P.actions.showUserActionNotification({type:n.default.NOTIFICATIONS.TYPES.ERROR,title:e,message:e,timeout:3e3}))(t))},openHelpCenter:(t,a,l)=>e(y.actions.openHelpCenter(t,a,l))}))(N)}.apply(t,l))||(e.exports=n)},2013:function(e,t,a){var l;void 0===(l=function(e,t){"use strict";return{AUTOMATION_IDS:{INPUT:"save-to-my-elements-input",BUTTON_CONFIRM:"message-panel-frame-confirm-btn",BUTTON_CANCEL:"message-panel-frame-cancel-btn"},DISPLAY_NAME:"SaveToMyElementsPanel"}}.apply(t,[a,t]))||(e.exports=l)},2014:function(e,t,a){var l,n;l=[a,t,a(0),a(2015),a(2016),a(2017),a(2018),a(2019),a(2020),a(2021),a(2022),a(2023),a(2024),a(2025),a(2026)],void 0===(n=function(e,t,a,l,n,i,o,s,r,u,d,p,c,m,f){"use strict";return l=a.__importDefault(l),n=a.__importDefault(n),i=a.__importDefault(i),o=a.__importDefault(o),s=a.__importDefault(s),r=a.__importDefault(r),u=a.__importDefault(u),d=a.__importDefault(d),p=a.__importDefault(p),c=a.__importDefault(c),m=a.__importDefault(m),f=a.__importDefault(f),{changeStyleMessage:l.default,deleteLastPageMessage:n.default,deletePageMessage:i.default,exampleMessage:o.default,siteRevisionsPanel:s.default,switchToOldEditorConfirmationPanel:r.default,validationErrorPanel:u.default,concurrentUserPanel:d.default,autopilotUpdatePanel:p.default,widgetWarningMessage:c.default,browserDeprecationMessage:m.default,browserDeprecationMessageForIE:f.default}}.apply(t,l))||(e.exports=n)},2015:function(e,t,a){var l,n;l=[a,t,a(0),a(1),a(5),a(11),a(12),a(2),a(3),a(67),a(9),a(8),a(6)],void 0===(n=function(e,t,a,l,n,i,o,s,r,u,d,p,c){"use strict";l=a.__importDefault(l),n=a.__importDefault(n),i=a.__importStar(i),o=a.__importStar(o),s=a.__importStar(s),r=a.__importDefault(r),u=a.__importDefault(u),d=a.__importStar(d),p=a.__importDefault(p),c=a.__importDefault(c);const m=o.events.multilingual;return n.default({displayName:"changeStyleMessage",mixins:[i.mixins.editorAPIMixin],render(){return r.default.createElement(u.default,{panelName:this.props.panelName,confirmLabel:"Notification_Box_Got_It",dontShowAgainKey:c.default.USER_PREFS.MULTILINGUAL.STYLING_COMPONENT.DONT_SHOW_AGAIN,userPrefType:"site",panelTitle:s.translate("Notification_Box_Multilingual_Design_Change_Title"),onDontShowAgainChange:this.onDontShowAgainChange,onConfirm:this.onConfirm,onCancel:this.onCancel,className:"change-style"},r.default.createElement(p.default.Composites.RichTextWithIllustration,null,r.default.createElement(p.default.Illustration,null,r.default.createElement(d.symbol,{name:"plaster"})),r.default.createElement(p.default.Composites.RichText,null,r.default.createElement(p.default.RichText,{type:"T01"},s.translate("Notification_Box_Multilingual_Design_Change_Text")))))},sendBI(e,t){const a=this.getEditorAPI();a.bi.event(e,l.default.assign({esi:s.editorModel.editorSessionId,site_id:a.dsRead.generalInfo.getSiteId()},t))},onDontShowAgainChange(e){this.sendBI(m.styling_dont_show,{toggle_state:e})}})}.apply(t,l))||(e.exports=n)},2016:function(e,t,a){var l,n;l=[a,t,a(0),a(5),a(11),a(3),a(67),a(2),a(9),a(8)],void 0===(n=function(e,t,a,l,n,i,o,s,r,u){"use strict";return l=a.__importDefault(l),n=a.__importStar(n),i=a.__importDefault(i),o=a.__importDefault(o),s=a.__importStar(s),r=a.__importStar(r),u=a.__importDefault(u),l.default({displayName:"deleteLastPageMessage",mixins:[n.mixins.editorAPIMixin],render(){return i.default.createElement(o.default,{panelName:this.props.panelName,confirmLabel:"Pages_Settings_Delete_Last_Page_Message_Confirmation",panelTitle:s.translate("Pages_Settings_Delete_Last_Page_Message_Title"),className:"delete-page-confirmation"},i.default.createElement(u.default.Composites.RichTextWithIllustration,null,i.default.createElement(u.default.Illustration,null,i.default.createElement(r.symbol,{name:"plaster"})),i.default.createElement(u.default.Composites.RichText,null,i.default.createElement(u.default.RichText,{type:"T01"},i.default.createElement("p",null,s.translate("Pages_Settings_Delete_Last_Page_Message")),i.default.createElement("p",null,s.translate("Pages_Settings_Delete_Last_Page_Message2")),i.default.createElement("p",null,s.translate("Pages_Settings_Delete_Last_Page_Message3"),i.default.createElement("a",{key:"page-settings-tab-privacy-member-url",href:"https://www.wix.com/support/html5/",target:"_blank"},i.default.createElement(r.button,{label:"Pages_Settings_Delete_Last_Page_Message_Link",className:"btn-text"})),".")))))}})}.apply(t,l))||(e.exports=n)},2017:function(e,t,a){var l,n;l=[a,t,a(0),a(3),a(67),a(2),a(9),a(8)],void 0===(n=function(e,t,a,l,n,i,o,s){"use strict";var r;return l=a.__importDefault(l),n=a.__importDefault(n),i=a.__importStar(i),o=a.__importStar(o),s=a.__importDefault(s),(r=class extends l.default.Component{render(){return l.default.createElement(n.default,{panelName:this.props.panelName,onConfirm:this.props.onConfirm,onCancel:this.props.onCancel,confirmLabel:"Pages_Settings_Delete_Page_Delete",cancelLabel:"Pages_Settings_Delete_Page_Cancel",type:"danger",panelTitle:i.translate(this.props.isPopup?"Pages_Settings_Delete_Popup_Title":"Pages_Settings_Delete_Page_Title"),className:"delete-page-message"},l.default.createElement(s.default.Composites.RichTextWithIllustration,null,l.default.createElement(s.default.Illustration,null,l.default.createElement(o.symbol,{name:"deleteGeneralIcon"})),l.default.createElement(s.default.Composites.RichText,null,l.default.createElement(s.default.RichText,{type:"T01"},"".concat(i.translate(this.props.isPopup?"Pages_Settings_Delete_Popup_Message":"Pages_Settings_Delete_Page_Message")," ").concat(this.props.pageTitle).concat(i.translate("Pages_Settings_Delete_Page_Message_End"))))))}}).displayName="deletePageMessage",r}.apply(t,l))||(e.exports=n)},2018:function(e,t,a){var l,n;l=[a,t,a(0),a(17),a(3),a(67)],void 0===(n=function(e,t,a,l,n,i){"use strict";var o;return l=a.__importDefault(l),n=a.__importDefault(n),i=a.__importDefault(i),(o=class extends n.default.Component{constructor(){super(...arguments),this.onConfirm=()=>{l.default.log.info("onConfirm called")}}render(){return n.default.createElement(i.default,{panelName:this.props.panelName,width:"500",height:"500",onConfirm:this.onConfirm,confirmLabel:"OK",title:"Hello"},n.default.createElement("div",null,"content here"))}}).displayName="exampleMessage",o}.apply(t,l))||(e.exports=n)},2019:function(e,t,a){var l,n;l=[a,t,a(0),a(27),a(5),a(3),a(9),a(8),a(2),a(67)],void 0===(n=function(e,t,a,l,n,i,o,s,r,u){"use strict";return l=a.__importDefault(l),n=a.__importDefault(n),i=a.__importDefault(i),o=a.__importStar(o),s=a.__importDefault(s),r=a.__importStar(r),u=a.__importDefault(u),n.default({displayName:"siteRevisionsPanel",mixins:[l.default],onConfirm(){this.props.onButtonClick&&this.props.onButtonClick(!0)},onCloseFrame(){this.props.onButtonClick&&this.props.onButtonClick(!1)},render(){return i.default.createElement(u.default,{ref:"frame",panelName:this.props.panelName,panelTitle:r.translate("TOPBAR_SITE_HISTORY_MSG_TITLE"),confirmLabel:"TOPBAR_SITE_HISTORY_MSG_BUTTON",onConfirm:this.onConfirm,onCancel:this.onCloseFrame,className:"site-revisions-panel"},i.default.createElement(s.default.Composites.RichTextWithIllustration,null,i.default.createElement(s.default.Illustration,null,i.default.createElement(o.symbol,{name:"siteHistoryClipart"})),i.default.createElement(s.default.Composites.RichText,null,i.default.createElement(s.default.RichText,{type:"T01"},i.default.createElement("p",null,r.translate("TOPBAR_SITE_HISTORY_MSG_BODY1")),i.default.createElement("p",null,r.translate("TOPBAR_SITE_HISTORY_MSG_BODY2"))))))}})}.apply(t,l))||(e.exports=n)},2020:function(e,t,a){var l,n;l=[a,t,a(0),a(5),a(4),a(11),a(2),a(3),a(9),a(8),a(67)],void 0===(n=function(e,t,a,l,n,i,o,s,r,u,d){"use strict";l=a.__importDefault(l),n=a.__importDefault(n),i=a.__importStar(i),o=a.__importStar(o),s=a.__importDefault(s),r=a.__importStar(r),u=a.__importDefault(u),d=a.__importDefault(d);return l.default({displayName:"switchToOldEditorConfirmationPanel",mixins:[i.mixins.editorAPIMixin],propTypes:{title:n.default.string.isRequired,messageBody:n.default.string.isRequired},handleBackToOld(){o.cookie.setUserPetriOverrideCookie("SantaEditorUserOverride","old"),window.onbeforeunload=null,window.location.reload(!0)},close(){this.getEditorAPI().panelManager.closePanelByName(this.props.panelName)},linkClick(){if(window){const e=o.languages.getLanguageCode(),t="https://{$lang}.wix.com/support/html5/new-wix-editor-june-2015/using-your-editor/kb/suggestions-and-feedback-new-wix-editor-2015".replace("{$lang}","en"===e?"www":e);window.open(t)}},render(){return s.default.createElement(d.default,{ref:"frame",panelName:this.props.panelName,panelTitle:o.translate(this.props.title),confirmLabel:"Notification_Box__ToOldEditor_Button_ToOldEditor",onConfirm:this.handleBackToOld,cancelLabel:"Notification_Box__ToOldEditor_Button_Cancel",onCancel:this.close,className:"switch-to-old-editor"},s.default.createElement(u.default.Composites.RichTextWithIllustration,null,s.default.createElement(u.default.Illustration,null,s.default.createElement(r.symbol,{name:"switchToOldEditorPanel"})),s.default.createElement(u.default.Composites.RichText,null,s.default.createElement(u.default.RichText,{type:"T01"},s.default.createElement("p",null,o.translate("Notification_Box__ToOldEditor_Text1")),s.default.createElement("p",null,o.translate("Notification_Box__ToOldEditor_Text2"),s.default.createElement("a",{onClick:()=>{this.linkClick()}},o.translate("Notification_Box__ToOldEditor_link")))))))}})}.apply(t,l))||(e.exports=n)},2021:function(e,t,a){var l,n;l=[a,t,a(0),a(4),a(3),a(2),a(197)],void 0===(n=function(e,t,a,l,n,i,o){"use strict";var s;return l=a.__importDefault(l),n=a.__importDefault(n),i=a.__importStar(i),o=a.__importDefault(o),(s=class extends n.default.Component{render(){return n.default.createElement(o.default,{panelName:this.props.panelName,title:"Notification_Box_Data_Curruption_Error_Title",confirmLabel:"Notification_Box_Data_Curruption_Error_Reload_Button",iconName:"plasterRed",onHelpHeader:this.openLearnMore,validationError:!0,closeWithoutCalling:!0,onConfirm:this.props.onConfirm},n.default.createElement("span",null,i.translate("Notification_Box_Data_Curruption_Error_Text")))}}).displayName="validationErrorPanel",s.propTypes={onConfirm:l.default.func.isRequired},s}.apply(t,l))||(e.exports=n)},2022:function(e,t,a){var l,n;l=[a,t,a(0),a(5),a(4),a(1),a(11),a(2),a(12),a(3),a(10),a(274)],void 0===(n=function(e,t,a,l,n,i,o,s,r,u,d,p){"use strict";l=a.__importDefault(l),n=a.__importDefault(n),i=a.__importDefault(i),o=a.__importStar(o),s=a.__importStar(s),r=a.__importStar(r),u=a.__importDefault(u),d=a.__importStar(d),p=a.__importDefault(p);const c=["CONCURRENT_EDITING_SOMEBODY_JOINED_OPT_1","CONCURRENT_EDITING_SOMEBODY_JOINED_OPT_2"],m=["CONCURRENT_EDITING_ALREADY_OPEN_OPT_1","CONCURRENT_EDITING_ALREADY_OPEN_OPT_2"],f={title:"CONCURRENT_EDITING_SOMEBODY_JOINED_TITLE",description:"CONCURRENT_EDITING_SOMEBODY_JOINED_DESCRIPTION",ok:"CONCURRENT_EDITING_SOMEBODY_JOINED_OK_BUTTON"},h={title:"CONCURRENT_EDITING_ALREADY_OPEN_TITLE",description:"CONCURRENT_EDITING_ALREADY_OPEN_DESCRIPTION",ok:"CONCURRENT_EDITING_ALREADY_OPEN_OK_BUTTON"};let _=0;return l.default({displayName:"ConcurrentUserPanel",mixins:[o.mixins.editorAPIMixin],symbols:{firstUser:"concurrentUsersPopupsBlue",secondUser:"concurrentUsersPopupsRed"},propTypes:{isFirstUser:n.default.bool.isRequired,concurrentUsers:n.default.arrayOf(n.default.string).isRequired,concurrentUserToDisplay:n.default.string},componentDidMount(){_=0===_?1:2},text(){return this.props.isFirstUser?f:h},getRecommendations(){return this.props.isFirstUser?c:m},getConcurrentUserToDisplay(){let e=this.props.concurrentUserToDisplay||i.default.head(this.props.concurrentUsers);return("wixStaff"===e||i.default.endsWith(e.toLowerCase(),"@wixcs.com"))&&(e=s.translate("CONCURRENT_EDITING_SOMEBODY_JOINED_DESCRIPTION_WIX_STAFF")),e},onOk(){const e=r.events.concurrentUsers.CONCURRENT_USERS_POPUP_OK_CLICK,t={user:this.props.isFirstUser?"first":"second",count:this.props.concurrentUsers.length,is_first:1===_};this.getEditorAPI().bi.event(e,t)},render(){return u.default.createElement(p.default,{panelName:this.props.panelName,onConfirm:this.onOk,confirmLabel:this.text().ok,shouldHideCancelButton:!0,type:this.props.isFirstUser?"normal":"important",panelTitle:s.translate(this.text().title),className:"concurrent-user-panel"},u.default.createElement("div",{className:"panel-inner"},u.default.createElement("div",{className:"concurrent-users-panel-img"},u.default.createElement(d.symbol,{name:this.props.isFirstUser?this.symbols.firstUser:this.symbols.secondUser})),u.default.createElement("div",{className:"textual-content"},u.default.createElement("div",{className:"sub-title"},u.default.createElement("span",{className:"concurrent-user"},this.getConcurrentUserToDisplay()),s.translate(this.text().description)),u.default.createElement("ul",{className:"recommendation-list"},i.default.map(this.getRecommendations(),(e,t)=>u.default.createElement("li",null,u.default.createElement("span",{className:"number"},t+1,"."),u.default.createElement("span",{className:"description"},s.translate(e))))))))}})}.apply(t,l))||(e.exports=n)},2023:function(e,t,a){var l,n;l=[a,t,a(0),a(4),a(2),a(3),a(10),a(8),a(274)],void 0===(n=function(e,t,a,l,n,i,o,s,r){"use strict";var u;return l=a.__importDefault(l),n=a.__importStar(n),i=a.__importDefault(i),o=a.__importStar(o),s=a.__importDefault(s),r=a.__importDefault(r),(u=class extends i.default.Component{constructor(){super(...arguments),this.refresh=()=>{n.windowInteractionUtils.reloadPageWithoutQuestion()}}render(){return i.default.createElement(r.default,{automationId:this.props.panelName,panelName:this.props.panelName,shouldHideFooter:!0,shouldHideHeader:!0,className:"autopilot-update-panel"},i.default.createElement(s.default.Composites.PopupMediumSize,null,i.default.createElement(s.default.Composites.BigPanelHeaderWithIllustration,null,i.default.createElement(s.default.PanelHeaderCenteredText,{title:"OfflineInstallation_PopUp_Title",titleType:"T13",shouldTranslate:!0,shouldHideCloseButton:!0}),i.default.createElement(s.default.PanelHeaderIllustration,{blueStripHeight:80},i.default.createElement(o.symbol,{name:"autopilotUpdate",key:"illustrationSymbol"}))),i.default.createElement(s.default.Composites.PanelContent,null,i.default.createElement(s.default.Composites.RichTextWithIllustration,{className:"composite-centered"},i.default.createElement(s.default.Composites.RichTextLabeled,{className:"composite-centered"},i.default.createElement(s.default.TextLabel,{value:"OfflineInstallation_PopUp_Text1",shouldTranslate:!0,type:"T01"}),i.default.createElement(s.default.TextLabel,{value:"OfflineInstallation_PopUp_Text2",shouldTranslate:!0,type:"T01"})))),i.default.createElement(s.default.Composites.ActionSetVertical,null,i.default.createElement(s.default.Button,{onClick:this.refresh},n.translate("OfflineInstallation_PopUp_Refresh_Button")))))}}).displayName="AutopilotUpdatePanel",u.propTypes={panelName:l.default.string},u}.apply(t,l))||(e.exports=n)},2024:function(e,t,a){var l,n;l=[a,t,a(0),a(5),a(4),a(3),a(197),a(2)],void 0===(n=function(e,t,a,l,n,i,o,s){"use strict";return l=a.__importDefault(l),n=a.__importDefault(n),i=a.__importDefault(i),o=a.__importDefault(o),s=a.__importStar(s),l.default({displayName:"widgetWarningMessage",propsTypes:{title:n.default.string.isRequired,message:n.default.string.isRequired,onConfirm:n.default.func.isRequired,messageTemplateReplacements:n.default.object,confirmLabel:n.default.string,cancelLabel:n.default.string,iconName:n.default.string},getDefaultProps:()=>({messageTemplateReplacements:{},confirmLabel:"AppStudio_Continue_Button",cancelLabel:"AppStudio_Cancel_Button",iconName:"platformWarning"}),render(){return i.default.createElement(o.default,{panelName:this.props.panelName,onConfirm:this.props.onConfirm,confirmLabel:this.props.confirmLabel,cancelLabel:this.props.cancelLabel,title:this.props.title,iconName:this.props.iconName,closeWithoutCalling:"true",onHelpHeader:this.props.onHelpHeader},s.translationUtil.translateTemplate(this.props.message,this.props.messageTemplateReplacements))}})}.apply(t,l))||(e.exports=n)},2025:function(e,t,a){var l,n;l=[a,t,a(0),a(5),a(4),a(14),a(6),a(3),a(8),a(10),a(2),a(67)],void 0===(n=function(e,t,a,l,n,i,o,s,r,u,d,p){"use strict";return l=a.__importDefault(l),n=a.__importDefault(n),i=a.__importStar(i),o=a.__importDefault(o),s=a.__importDefault(s),r=a.__importDefault(r),u=a.__importStar(u),d=a.__importStar(d),p=a.__importDefault(p),l.default({displayName:"browserDeprecationMessage",propTypes:{openHelpCenter:n.default.func.isRequired,browser:n.default.string.isRequired},browserKeys:{safari9:{panelTitle:"Notification_Box_Browser_Not_Supported_Title",subTitle:"Notification_Box_Browser_Not_Supported_Text1",description:"Notification_Box_Browser_Not_Supported_Text2"},ie11:{panelTitle:"Notification_Box_Browser_Not_Supported_Title1",subTitle:"Notification_Box_Browser_Not_Supported_Text3",description:"Notification_Box_Browser_Not_Supported_Text4"}},openLearnMore(){this.props.openHelpCenter(i.LEARN_MORE.BROWSER_DEPRECATED,null,{learn_more:!0,panel_name:this.props.panelName,origin:o.default.BI.HELP.ORIGIN.PANEL})},render(){const e=this.browserKeys[this.props.browser];return s.default.createElement(p.default,{panelName:this.props.panelName,panelTitle:d.translate(e.panelTitle),confirmLabel:"Notification_Box_Browser_Not_Supported_Button"},s.default.createElement(r.default.Composites.RichTextWithIllustration,null,s.default.createElement(r.default.Illustration,null,s.default.createElement(u.symbol,{name:"browser-not-supported"})),s.default.createElement(r.default.Composites.RichTextLabeled,null,s.default.createElement(r.default.TextLabel,{value:e.subTitle}),s.default.createElement(r.default.RichText,null,d.translate(e.description)," ",s.default.createElement("a",{onClick:this.openLearnMore},d.translate("Notification_Box_Browser_Not_Supported_Link"))))))}})}.apply(t,l))||(e.exports=n)},2026:function(e,t,a){var l,n;l=[a,t,a(0),a(4),a(14),a(6),a(3),a(8),a(2),a(197)],void 0===(n=function(e,t,a,l,n,i,o,s,r,u){"use strict";var d;return l=a.__importDefault(l),n=a.__importStar(n),i=a.__importDefault(i),o=a.__importDefault(o),s=a.__importDefault(s),r=a.__importStar(r),u=a.__importDefault(u),(d=class extends o.default.Component{constructor(){super(...arguments),this.openLearnMore=()=>{this.props.openHelpCenter(n.LEARN_MORE.BROWSER_DEPRECATED,null,{learn_more:!0,panel_name:this.props.panelName,origin:i.default.BI.HELP.ORIGIN.PANEL})}}render(){return o.default.createElement(u.default,{panelName:this.props.panelName,title:"Notification_Box_Browser_Not_Supported_Title2",confirmLabel:"Notification_Box_Browser_Not_Supported_Button",iconName:"browser-not-supported-red",onHelpHeader:this.openLearnMore,onConfirm:this.props.onConfirm},o.default.createElement(s.default.TextLabel,{value:"Notification_Box_Browser_Not_Supported_Text3"}),o.default.createElement(s.default.RichText,null,r.translate("Notification_Box_Browser_Not_Supported_Text5"),o.default.createElement("a",{onClick:this.openLearnMore},r.translate("Notification_Box_Browser_Not_Supported_Link"))))}}).displayName="browserDeprecationMessage",d.propTypes={openHelpCenter:l.default.func.isRequired},d}.apply(t,l))||(e.exports=n)},2027:function(e,t,a){var l,n;l=[a,t,a(0),a(2028),a(2030),a(2031),a(2032),a(2037),a(2038),a(2039),a(2040),a(2042),a(2043),a(2044),a(2045),a(2046),a(2047),a(2052),a(2055),a(2056),a(2060)],void 0===(n=function(e,t,a,l,n,i,o,s,r,u,d,p,c,m,f,h,_,g,E,b,P){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),l=a.__importDefault(l),n=a.__importDefault(n),i=a.__importDefault(i),o=a.__importDefault(o),s=a.__importDefault(s),r=a.__importDefault(r),u=a.__importDefault(u),d=a.__importDefault(d),p=a.__importDefault(p),c=a.__importDefault(c),m=a.__importDefault(m),f=a.__importDefault(f),h=a.__importDefault(h),_=a.__importDefault(_),g=a.__importDefault(g),E=a.__importDefault(E),b=a.__importDefault(b),P=a.__importDefault(P),t.default={pagesSelectorPanel:l.default,exampleTool:n.default,linkPanel:i.default,languageSupport:r.default,colorPicker:o.default,changeQabIcon:s.default,mobileActionBarSubPanel:u.default,fontsUploadPanel:d.default,deleteFontMsg:p.default,cancelFontUploadMsg:c.default,gridAddColumnPanel:m.default,customSignupSettingsPanel:f.default,rolesManagerPanel:h.default,layersPanel:_.default,imageCropSVGPanel:g.default,apiDefinitionEvent:E.default,stylableEditor:b.default,addA11yAttribute:P.default}}.apply(t,l))||(e.exports=n)},2028:function(e,t,a){var l,n;l=[a,t,a(0),a(5),a(1),a(2),a(11),a(131),a(3),a(9),a(8),a(2029),a(48)],void 0===(n=function(e,t,a,l,n,i,o,s,r,u,d,p,c){"use strict";function m(){const e=this.getTreeViewClass(),t=this.props.nodeContent,a=this.getChildren().length;return r.default.createElement("li",{"data-numofchildren":a,className:i.cx({"pages-tree-node":!0,"has-children":this.hasChildren()})},r.default.createElement(t,Object.assign({},this.passNodeContentProps(this.props.dataSource))),r.default.createElement(e,Object.assign({isCollapsed:this.state.collapsed},this.passNodeProps())))}return l=a.__importDefault(l),n=a.__importDefault(n),i=a.__importStar(i),o=a.__importStar(o),s=a.__importStar(s),r=a.__importDefault(r),u=a.__importStar(u),d=a.__importDefault(d),p=a.__importDefault(p),c=a.__importDefault(c),l.default({displayName:"pagesSelectorPanel",mixins:[o.mixins.editorAPIMixin,i.translationMixin],getFrameStyle(){return n.default.pick(this.props,["top","left","width"])},toggleOpenOnPage(e,t){const a=this.getEditorAPI();t?s.actions.openBehaviors.assignOpenBehaviorToPage(a,e):s.actions.openBehaviors.removeOpenBehaviorFromPage(a,e)},toggleOpenOnAllPages(e){const t=this.getEditorAPI();e?s.actions.openBehaviors.assignOpenBehaviorToAllPages(t):s.actions.openBehaviors.removeOpenBehaviorFromAllPages(t)},validatePage(e,t){if(n.default.has(e.occupiedPages,t))return{valid:!1,message:this.translateTemplate("Popups_Settings_Triggers_Page_Has_Popup_Tooltip",{POPUP_NAME:'"'.concat(e.occupiedPages[t],'"')},this.getEditorAPI())}},getKeyboardShortcuts(e){const t={},a=i.browserUtil.getKeyboardSpecialKey().value;return t["".concat(a," + z")]=e.history.undo,t[["".concat(a," + y"),"".concat(a," + shift + z")].join(",")]=e.history.redo,t},getTreeDataSource(e){const t=e.pages.dynamicPages.getMenuItems(),a=e.mainMenu.getMenuItemsTreeForPagesFixed(),l=n.default.flatMap(t,"items");return a.concat(l)},render(){const e=this.getEditorAPI();if(!e.pages.popupPages.getCurrentPopup())return null;const t=s.mappers.pagesSelectorPanel(e);return r.default.createElement(c.default,Object.assign({contentStyle:this.getFrameStyle(),key:"pages-selector-panel",keyboardShortcuts:this.getKeyboardShortcuts(e),contentWrapperClass:"pages-selector-panel",headerTitle:i.translate("Popups_Settings_Pages_Panel_Header")},n.default.omit(this.props,"children")),t.selectAll.visible?r.default.createElement("div",{key:"selectAll_description",className:"description-block"},i.translate("Popups_Settings_Pages_Panel_Text")):null,t.selectAll.visible?r.default.createElement("div",{key:"selectAll_control",className:"select-all-block"},r.default.createElement(d.default.Checkbox,{disabled:t.selectAll.disabled,labelAfterSymbol:!0,value:t.selectAll.checked,indeterminate:t.selectAll.indeterminate,onChange:this.toggleOpenOnAllPages,label:"Popups_Settings_Pages_All_Toggle"})):null,r.default.createElement(d.default.CustomScroll,null,r.default.createElement("div",{className:"pages-selector-scrollbox"},r.default.createElement(u.treeView,{dataSource:this.getTreeDataSource(e),editorAPI:e,nodeContent:p.default,nodeTemplate:m,validatePage:n.default.partial(this.validatePage,t),selectedPageIds:t.selectedPageIds,toggleSelection:this.toggleOpenOnPage,isRoot:!0,className:"pages-tree "}))))}})}.apply(t,l))||(e.exports=n)},2029:function(e,t,a){var l,n;l=[a,t,a(0),a(27),a(5),a(4),a(11),a(1),a(3),a(9),a(8),a(10),a(2)],void 0===(n=function(e,t,a,l,n,i,o,s,r,u,d,p,c){"use strict";return l=a.__importDefault(l),n=a.__importDefault(n),i=a.__importDefault(i),o=a.__importStar(o),s=a.__importDefault(s),r=a.__importDefault(r),u=a.__importStar(u),d=a.__importDefault(d),p=a.__importStar(p),n.default({mixins:[o.mixins.editorAPIMixin,l.default],displayName:"pageSelectorPageItem",propTypes:{isSubMenu:i.default.bool,isSubMenuLast:i.default.bool,validatePage:i.default.func,selectedPageIds:i.default.array.isRequired,dataSource:i.default.object.isRequired,toggleSelection:i.default.func},handleToggleChanged(e){this.props.toggleSelection&&this.props.toggleSelection(this.getPageId(),e)},getItemClassNames(e){const t=this.validatePage().valid;return{"pages-selector-item":!0,"current-page":!1,"item-hidden":!e.isVisible,"item-disabled":!t,"item-first-level":!this.props.isSubMenu,"item-second-level":this.props.isSubMenu,"item-second-level-last":this.props.isSubMenuLast,"item-is-page":e.type.isPage}},isSelected(){return s.default.includes(this.props.selectedPageIds,this.getPageId())},validatePage(){const e=this.getPageId(),t=[this.props.validatePage||s.default.noop,s.default.constant({valid:!0})];return s.default.reduce(t,s.default.bind((function(t,a){return t||a(e,this)}),this),void 0)},getPageId(){return this.props.dataSource.pageData&&this.props.dataSource.pageData.id},render(){const e=this.props.dataSource,t=this.getEditorAPI(),a=this.validatePage();return r.default.createElement("div",{className:c.cx(this.getItemClassNames(e))},r.default.createElement(u.tooltip,{disabled:a.valid,shouldTranslate:!1,value:a.message},r.default.createElement("label",{className:"item-label"},e.pageData?r.default.createElement(d.default.Checkbox,{key:"toggle",disabled:!a.valid,value:this.isSelected(),onChange:this.handleToggleChanged}):null,r.default.createElement("span",{className:"page-name"},e.label),e.pageData&&t.pages.isHomePage(e.pageData.id)?r.default.createElement(p.symbol,{name:"pageItemHomeIcon",key:"isHome"}):null,e.pageData&&o.utils.tpaTypeUtils.isTPA(e.pageData)&&!o.utils.tpaTypeUtils.isTPASpecialPage(t.dsRead,e.pageData)?r.default.createElement(p.symbol,{name:"actionButtonSpecialPages",key:"isTpaPage"}):null,e.pageData&&o.utils.blogTypeUtils.isBlogSectionPage(t,e.pageData)?r.default.createElement(p.symbol,{name:"actionButtonBlogPages",key:"isBlogPage"}):null,e.type.isLink?r.default.createElement(p.symbol,{name:"pageItemLinkIcon",key:"isLink"}):null,e.type.isDropdown?r.default.createElement(p.symbol,{name:"pageItemDropdownIcon",key:"isDropDown"}):null,e.isVisible?null:r.default.createElement(p.symbol,{name:"pageItemHideIcon",key:"isHidden"}))))}})}.apply(t,l))||(e.exports=n)},2030:function(e,t,a){var l,n;l=[a,t,a(0),a(1),a(3),a(48)],void 0===(n=function(e,t,a,l,n,i){"use strict";var o;return l=a.__importDefault(l),n=a.__importDefault(n),i=a.__importDefault(i),(o=class extends n.default.Component{constructor(){super(...arguments),this.getFrameStyle=()=>l.default.defaults({width:500,height:200},l.default.pick(this.props,["top","left"]))}render(){return n.default.createElement(i.default,{panelName:this.props.panelName,headerTitle:"Tools Panel",contentStyle:this.getFrameStyle()},n.default.createElement("div",null,"content here"))}}).displayName="exampleToolPanel",o.defaultProps={top:"200px",left:"300px"},o}.apply(t,l))||(e.exports=n)},2031:function(e,t,a){var l,n;l=[a,t,a(0),a(27),a(16),a(3),a(10),a(5),a(4),a(11),a(1),a(13),a(2),a(7),a(12),a(6),a(48),a(9),a(8)],void 0===(n=function(e,t,a,l,n,i,o,s,r,u,d,p,c,m,f,h,_,g,E){"use strict";l=a.__importDefault(l),n=a.__importDefault(n),i=a.__importDefault(i),o=a.__importStar(o),s=a.__importDefault(s),r=a.__importDefault(r),u=a.__importStar(u),d=a.__importDefault(d),p=a.__importDefault(p),c=a.__importStar(c),m=a.__importDefault(m),f=a.__importStar(f),h=a.__importDefault(h),_=a.__importDefault(_),g=a.__importStar(g),E=a.__importDefault(E);const b=["DynamicPageLink","PageLink","AnchorLink","ExternalLink","EmailLink","PhoneLink","WhatsAppLink","DocumentLink","PopupLink","AddressLink","EdgeAnchorLinks"];function P(e){let t=0;for(;t+100<=e;)t+=100;return t}function C(e,t){if("SCROLL_TO_TOP"===e.anchorDataId||"SCROLL_TO_BOTTOM"===e.anchorDataId)return!0;const a=d.default.has(e.anchorDataId,"id")?"#".concat(d.default.get(e.anchorDataId,"id")):e.anchorDataId;return d.default.some(t,{anchorDataId:a})}function y(e,t){if(e){d.default.has(e,"id")&&(e=e.id),"#"===e.charAt(0)&&(e=e.substr(1));for(let a=0;a<t.length;a++){const l=t[a];if(e===l.id)return d.default.assign({},l,{pageId:"#".concat(e)})}}return{pageId:""}}function S(e){return"SCROLL_TO_TOP"===e}function N(e){return"SCROLL_TO_BOTTOM"===e}function T(e){let t="";"AnchorLink"===e.type&&(t=d.default.includes(["SCROLL_TO_BOTTOM","SCROLL_TO_TOP"],e.anchorDataId)?"SCROLL_TO_TOP"===e.anchorDataId?"top":"bottom":"anchor"),this.getEditorAPI().bi.event(f.events.linkPanel.link_panel_done_click,{category:this.state.selectedTab,anchor_where_on_page:t})}function I(e,t){const a=d.default.clone(this.state.link);a[e]=t,this.setState({link:a})}function v(){const e=this.state.link;if(!e)return!1;switch(e.type){case"DynamicPageLink":return function(e,t){return t?!d.default.isEmpty(e.routerId):!d.default.isEmpty(e.routerId)&&!d.default.isEmpty(e.innerRoute)}(e,this.isCollectionPageOrHasOneRoute());case"PageLink":return function(e){return!!e.pageId}(e);case"AnchorLink":return function(e){return!!e.pageId&&!!e.anchorDataId}(e);case"ExternalLink":return this.isValidUrl(e&&e.url);case"EmailLink":return this.isValidEmail(e&&e.recipient);case"PhoneLink":return this.isValidPhone(e&&e.phoneNumber);case"WhatsAppLink":return this.isValidInternationalPhone(e&&e.phoneNumber);case"DocumentLink":return function(e){return e.docId}(e)}return!0}function D(e,t){return c.media.isFilePDF(t)&&c.media.isPdfAlreadyMarkedIndexable(e,t)}return s.default({displayName:"linkPanel",propTypes:{data:r.default.shape({pages:r.default.arrayOf(r.default.shape({id:r.default.string,title:r.default.string})),popups:r.default.arrayOf(r.default.shape({id:r.default.string,title:r.default.string})),anchors:r.default.arrayOf(r.default.shape({id:r.default.string,name:r.default.string,pageId:r.default.string})),currentPageId:r.default.string}),bi:r.default.shape({selectedComponentType:r.default.string}),link:r.default.object,createDefaultData:r.default.func.isRequired,currentPage:r.default.string,callback:r.default.func,onCancelCallback:r.default.func,visibleSections:r.default.object,defaultLinkType:r.default.string,hideLinkTarget:r.default.bool,initialTabToDisplay:r.default.oneOf(b),autoFocusAddress:r.default.bool},mixins:[l.default,c.translationMixin,u.mixins.editorAPIMixin],render(){const e=this.isSectionVisible("PageLink"),t=this.isSectionVisible("NoLink"),a=this.popupList;return i.default.createElement(_.default,{helpId:this.getHelpId(),panelName:this.props.panelName,selectedComponentType:this.props.bi.selectedComponentType,headerTitle:c.translate("LINK_PANEL_HEADER_PANE_LABEL"),ref:"frame",onClose:this.props.onCancelCallback&&this.props.onCancelCallback.bind(null,this.props.link),contentWrapperClass:"link-panel"},i.default.createElement(g.tabs.holder,{valueLink:this.linkSelectedTab(),ref:"tabs",className:"left radio"},i.default.createElement(g.tabs.header,null,d.default.map(this.getLinkSectionsData(),e=>i.default.createElement(g.tabs.label,{htmlFor:e.for,key:e.key,automationId:e.automationId},this.translateIfNeeded(e.label)))),i.default.createElement(g.tabs.content,null,t?i.default.createElement(g.tabs.tab,{name:"NoLink",key:"NoLinkTab",className:"none"},i.default.createElement("div",{className:"symbol-container"},i.default.createElement(o.symbol,{name:"noLink"})),i.default.createElement("h3",null,this.translateIfNeeded("LINK_PANEL_PAGE_DROP_DOWN_Title")),i.default.createElement("p",null,this.translateIfNeeded("LINK_PANEL_PAGE_DROP_DOWN_Text"))):null,this.isPagesDropDownReady()&&e?i.default.createElement(g.tabs.tab,{name:"PageLink",key:"pageLinkTab",className:"page"},i.default.createElement(E.default.Composites.DropDownLabeled,{key:"dropDownLabeled"},i.default.createElement(E.default.TextLabel,{value:c.translate(this.props.pageTabPageDropDownTitle?this.props.pageTabPageDropDownTitle:"LINK_PANEL_PAGE_DROP_DOWN_LABEL"),shouldTranslate:!1}),i.default.createElement(E.default.DropDown,{shouldTranslate:!1,value:this.linkToPage().value,searchBox:!0,onChange:this.linkToPage().requestChange,optionsContainerClassName:"link-panel-options-container"},d.default.map(this.getPagesListToShow(),e=>i.default.createElement(E.default.DropDownOption,{shouldTranslate:!1,key:e.id,value:e.id,label:"".concat(e.title).concat(this.getCurrentPageThisTranslate(e.id)," ").concat(this.getRouterTypeForPageId(e.id)),className:e.level?"level".concat(e.level):""})))),i.default.createElement(E.default.Divider,{className:"page-link-drop-divider"}),this.shouldShowInnerRoutesDropDown()?i.default.createElement(E.default.Composites.DropDownLabeled,{key:"innerRouteDropDownLabeled"},i.default.createElement("label",{className:"dropdown-title"},c.translate("LINK_PANEL_PAGE_INNER_ROUTES_DROP_DOWN_LABEL")),i.default.createElement(E.default.DropDown,{shouldTranslate:!1,searchBox:!0,key:"innerRouteDropDown",value:this.linkToInnerRoute().value,onChange:this.linkToInnerRoute().requestChange,optionsContainerClassName:"link-panel-options-container"},this.shouldShowPrevButton()?i.default.createElement(E.default.Button,{key:"prevButton",onClick:this.decreaseRange,className:"btn-text"},i.default.createElement("span",null,c.translate("dynamic_pages_routes_navigation_button_back"))):null,d.default.map(this.getInnerRoutesToRender()||[],e=>i.default.createElement(E.default.DropDownOption,{shouldTranslate:!1,key:e.url,value:e.url,label:e.title})),this.shouldShowNextButton()?i.default.createElement(E.default.Button,{key:"nextButton",onClick:this.increaseRange,className:"btn-text"},i.default.createElement("span",null,c.translate("dynamic_pages_routes_navigation_button_next"))):null)):null,this.shouldHideLinkTarget()?null:(()=>{const e=this.linkTo("target");return i.default.createElement(E.default.Composites.RadioButtonsLabeled,{key:"pageTargetRadio"},i.default.createElement(E.default.TextLabel,{value:"LINK_PANEL_WEB_ADDRESS_OPTIONS_LABEL"}),i.default.createElement(E.default.RadioButtons,{value:e.value,onChange:e.requestChange,options:[{value:"_blank",label:"LINK_PANEL_WEB_ADDRESS_OPTION1"},{value:"_self",label:"LINK_PANEL_WEB_ADDRESS_OPTION2"}],className:"open-target-radio-buttons"}))})(),this.shouldDisplayLinkDescription()?i.default.createElement(E.default.TextLabel,{value:"LINK_PANEL_PAGE_DESCRIPTION",key:"linkDisclaimer",className:"link-page-description"}):null):null,this.isPagesDropDownReady()?(()=>{const e=this.getPagesWithAnchors();return i.default.createElement(g.tabs.tab,{name:"AnchorLink",key:"anchorLinkTab",className:"anchor"},d.default.isEmpty(e)?i.default.createElement("div",{key:"noAnchorsWrapper",className:"no-anchors"},i.default.createElement("div",{className:"symbol-container"},i.default.createElement(o.symbol,{name:"noLink"})),i.default.createElement("h3",null,this.translateIfNeeded("LINK_PANEL_NO_ANCHOR_TITLE")),i.default.createElement("p",null,this.translateIfNeeded(p.default.isOpen("se_addPanelOrganizing")?"LINK_PANEL_NO_ANCHOR_TEXT_ADDPANEL_MENUS":"LINK_PANEL_NO_ANCHOR_TEXT")),i.default.createElement(g.button,{label:"Anchor_Settings_How_Link_Text",onClick:this.openLearnMoreOnAnchor,className:"btn-text"})):null,d.default.isEmpty(e)?null:i.default.createElement("label",{key:"pagesDropDownAnchorTabLabel",className:"dropdown-title"},c.translate(this.props.anchorTabPageDropDownTitle?this.props.anchorTabPageDropDownTitle:"LINK_PANEL_PAGE_DROP_DOWN_LABEL")),d.default.isEmpty(e)?null:i.default.createElement(E.default.DropDown,{shouldTranslate:!1,value:this.linkToPage().value,searchBox:!0,onChange:this.linkToPage().requestChange,key:"pagesDropDownAnchorTab",optionsContainerClassName:"link-panel-options-container"},d.default.map(this.getPagesWithAnchors(),e=>i.default.createElement(E.default.DropDownOption,{key:e.id,value:e.id,label:"".concat(e.title).concat(this.getCurrentPageThisTranslate(e.id)," ").concat(this.getRouterTypeForPageId(e.id)),shouldTranslate:!1,className:e.level?"level".concat(e.level):""}))),d.default.isEmpty(e)?null:i.default.createElement(E.default.Divider,{long:!0,key:"anchorDivider",className:"dropdown-link-separator"}),d.default.isEmpty(e)||!this.isDynamicPage(this.state.page.id)||this.isCollectionPageOrHasOneRoute()?null:i.default.createElement("label",{key:"innerRouteDropDownLabel",className:"dropdown-title"},c.translate("LINK_PANEL_PAGE_INNER_ROUTES_DROP_DOWN_LABEL")),d.default.isEmpty(e)||!this.isDynamicPage(this.state.page.id)||this.isCollectionPageOrHasOneRoute()?null:i.default.createElement(E.default.DropDown,{shouldTranslate:!1,searchBox:!0,disabled:!this.shouldShowInnerRoutesDropDown(),key:"innerRouteDropDown",value:this.linkToInnerRoute().value,optionsContainerClassName:"link-panel-options-container",onChange:this.linkToInnerRoute().requestChange},this.shouldShowPrevButton()?i.default.createElement(E.default.Button,{key:"prevButton",onClick:this.decreaseRange,className:"btn-text"},i.default.createElement("span",{key:"preButtonText"},c.translate("dynamic_pages_routes_navigation_button_back"))):null,d.default.map(this.getInnerRoutesDropDown(),e=>i.default.createElement(E.default.DropDownOption,{shouldTranslate:!1,key:e.url,value:e.url,label:e.title})),this.shouldShowNextButton()?i.default.createElement(E.default.Button,{key:"nextButton",onClick:this.increaseRange,className:"btn-text"},i.default.createElement("span",{key:"nextButtonText"},c.translate("dynamic_pages_routes_navigation_button_next"))):null),this.shouldShowInnerRoutesDropDown()?i.default.createElement(E.default.Divider,{key:"innerRouteDropDownDivider",long:!0,className:"dropdown-link-separator"}):null,d.default.isEmpty(e)?null:i.default.createElement("label",{key:"anchorNameLabel",className:"dropdown-title"},c.translate("LINK_PANEL_PAGE_ANCHOR_DROP_DOWN_LABEL")),d.default.isEmpty(e)?null:i.default.createElement(E.default.DropDown,{key:"anchorDropDown",shouldTranslate:!1,value:this.linkToAnchor().value,searchBox:!0,onChange:this.linkToAnchor().requestChange,optionsContainerClassName:"link-panel-options-container",disabled:!this.state.link||!this.hasAnchors()||this.isDynamicPage(this.state.page.id)&&!this.shouldShowInnerRoutesDropDown()&&!this.isCollectionPageOrHasOneRoute()},d.default.map(this.getDropDownOptions(),e=>i.default.createElement(E.default.DropDownOption,{shouldTranslate:!1,key:e.value,value:e.value,label:e.label}))))})():null,i.default.createElement(g.tabs.tab,{name:"ExternalLink",className:"web"},i.default.createElement(E.default.Composites.TextInputLabeled,null,i.default.createElement(E.default.TextLabel,{value:"LINK_PANEL_WEB_ADDRESS_INPUT_LABEL",automationId:"link-panel-web-address-label"}),i.default.createElement(E.default.TextInput,{key:"webAddress",validator:this.isValidUrl,invalidMessage:"Validation_V2_URL",placeholder:"LINK_PANEL_WEB_ADDRESS_DEFAUL",validateInitialValue:!1,onChange:e=>{this.updateLinkValue("url",e)},value:this.state.link&&this.state.link.url,onValidationStatus:e=>{this.validationStatusChanged(e,"url")},focus:!0})),this.shouldHideLinkTarget()?null:i.default.createElement(E.default.Divider,{key:"externalTargetDivider"}),this.shouldHideLinkTarget()?null:(()=>{const e=this.linkTo("target");return i.default.createElement(E.default.Composites.RadioButtonsLabeled,{key:"externalTargetRadio"},i.default.createElement(E.default.TextLabel,{value:"LINK_PANEL_WEB_ADDRESS_OPTIONS_LABEL"}),i.default.createElement(E.default.RadioButtons,{value:e.value,onChange:e.requestChange,options:[{value:"_blank",label:"LINK_PANEL_WEB_ADDRESS_OPTION1"},{value:"_self",label:"LINK_PANEL_WEB_ADDRESS_OPTION2"}],className:"open-target-radio-buttons"}))})(),this.shouldDisplayLinkDescription()?i.default.createElement(E.default.TextLabel,{value:"LINK_PANEL_PAGE_DESCRIPTION",key:"linkDisclaimer",className:"link-page-description"}):null),i.default.createElement(g.tabs.tab,{name:"EmailLink",className:"email"},i.default.createElement(E.default.Composites.TextInputLabeled,null,i.default.createElement(E.default.TextLabel,{value:"LINK_PANEL_EMAIL_INPUT_LABEL",automationId:"link-panel-email-address-label"}),i.default.createElement(E.default.TextInput,{key:"emailAddress",validator:this.isValidEmail,invalidMessage:"Validation_V1_Email",placeholder:"LINK_PANEL_EMAIL_INPUT_DEFAULT",validateInitialValue:!1,onChange:e=>{this.updateLinkValue("recipient",e)},value:this.state.link&&this.state.link.recipient,onValidationStatus:e=>{this.validationStatusChanged(e,"recipient")},focus:!0})),i.default.createElement(E.default.Divider,null),i.default.createElement(E.default.Composites.TextInputLabeled,null,i.default.createElement(E.default.TextLabel,{value:"LINK_PANEL_EMAIL_SUBJUCT",automationId:"link-panel-email-address-subject-label"}),i.default.createElement(E.default.TextInput,{key:"emailAddressSubject",validator:this.isValidSubject,invalidMessage:"Validation_V21_InvalidInput(<>)",placeholder:"LINK_PANEL_EMAIL_SUBJECT_DEFAULT",validateInitialValue:!1,onChange:e=>{this.updateLinkValue("subject",e)},value:this.state.link&&this.state.link.subject,onValidationStatus:e=>{this.validationStatusChanged(e,"subject")}}))),i.default.createElement(g.tabs.tab,{name:"PhoneLink",className:"phone"},i.default.createElement(E.default.Composites.TextInputLabeled,null,i.default.createElement(E.default.InfoIcon,{text:"LINK_PANEL_PHONE_DESCRIPTION_TOOLTIP"}),i.default.createElement(E.default.TextLabel,{value:"LINK_PANEL_PHONE_INPUT_LABEL",automationId:"link-panel-phone-number-label"}),i.default.createElement(E.default.TextInput,{key:"phoneNumber",validator:this.isValidPhone,invalidMessage:"Validation_V1_Phone",placeholder:"LINK_PANEL_PHONE_INPUT_DEFAULT",validateInitialValue:!1,onChange:e=>{this.updateLinkValue("phoneNumber",e)},value:this.state.link&&this.state.link.phoneNumber,onValidationStatus:e=>{this.validationStatusChanged(e,"phoneNumber")},focus:!0})),i.default.createElement(E.default.Divider,null),i.default.createElement("p",{className:"extra-info"},this.translateIfNeeded("LINK_PANEL_PHONE_DESCRIPTION"),i.default.createElement(g.button,{label:"LINK_PANEL_PHONE_DESCRIPTION_LINK",onClick:this.openLearnMoreOnPhoneLink,className:"btn-text inline-link-button"}))),this.isMobileEditor()?i.default.createElement(g.tabs.tab,{name:"WhatsAppLink",key:"whatsapp",className:"whatsapp"},i.default.createElement(E.default.Composites.TextInputLabeled,null,i.default.createElement(E.default.InfoIcon,{text:"LINK_PANEL_PHONE_DESCRIPTION_TOOLTIP"}),i.default.createElement(E.default.TextLabel,{value:"LINK_PANEL_PHONE_INPUT_LABEL",automationId:"link-panel-whatsapp-number-label"}),i.default.createElement(E.default.TextInput,{key:"whatsappNumber",validator:this.isValidInternationalPhone,invalidMessage:"Validation_V1_Phone",placeholder:"LINK_PANEL_PHONE_INPUT_DEFAULT",validateInitialValue:!1,maxLength:100,onChange:e=>{this.updateLinkValue("phoneNumber",e)},value:this.state.link&&this.state.link.phoneNumber,onValidationStatus:e=>{this.validationStatusChanged(e,"phoneNumber")},focus:!0})),i.default.createElement(E.default.Divider,null),i.default.createElement("p",{className:"extra-info"},this.translateIfNeeded("LINK_PANEL_PHONE_WHATSAPP_DESCRIPTION"),i.default.createElement(g.button,{label:"LINK_PANEL_PHONE_WHATSAPP_LINK",onClick:this.openLearnMoreOnWhatsappLink,className:"btn-text inline-link-button"}))):null,i.default.createElement(g.tabs.tab,{name:"AddressLink",key:"address",className:"address"},i.default.createElement("div",{className:"addressLinkWrapper"},i.default.createElement(g.textInput,{label:"mobile_quick_actions_set_up_address_label",infoText:"Google_Maps_Settings_Information_Address_Tooltip",key:"address",asyncValidator:this.isValidAddress,invalidMessage:"Validation_V13_Google_Maps",placeholder:"mobile_quick_actions_location_placeholder_text",value:this.state.link&&this.state.link.address,onValidationStatus:e=>{this.validationStatusChanged(e,"address")},focus:!0,maxLength:1024,validateInitialValue:!0,onChange:e=>{this.updateLinkValue("address",e)},validateOnBlurOnly:!0,blurOnEnterKey:!0}),i.default.createElement(E.default.Divider,{long:!0})),i.default.createElement("p",{className:"extra-info"},this.translateIfNeeded("LINK_PANEL_ADDRESS_DESCRIPTION"))),i.default.createElement(g.tabs.tab,{name:"DocumentLink",className:"document"},i.default.createElement(E.default.Composites.RichText,null,i.default.createElement(E.default.RichText,null,this.translateIfNeeded("LINK_PANEL_DOCUMENT_LABEL"))),i.default.createElement(g.changeMediaInput,{buttonLabelWithItems:"LINK_PANEL_DOCUMENT_BUTTON",buttonLabelWithoutItems:"LINK_PANEL_DOCUMENT_BUTTON",selectionType:"single",value:this.state.link?this.state.link.name:"",onChange:this.documentChanged,mediaServices:this.getMediaServices()}),i.default.createElement("div",{key:"pdf-indexing-section-link"},c.media.isFilePDF(this.getDocId())?i.default.createElement(E.default.Divider,{key:"indexableSeparator"}):null,c.media.isFilePDF(this.getDocId())?i.default.createElement("div",{key:"search-results-pdf",className:"search-results-pdf"},this.state.pdfIndexable?i.default.createElement("div",{key:"search-results-pdf-inner-container",className:"search-results-pdf-inner-container"},i.default.createElement("span",{className:"search-results-pdf-info-text"},this.translateIfNeeded("LINK_PANEL_DOCUMENT_PDF_INDEXINGON_TEXT1")," "),i.default.createElement("span",{onClick:this.openMediaGallery.bind(this,"ALL_MEDIA"),className:"search-results-pdf-link-text"},this.translateIfNeeded("LINK_PANEL_DOCUMENT_PDF_INDEXINGON_LINK"))):null,this.state.pdfIndexable?null:i.default.createElement("span",{key:"search-results-pdf-text",onClick:this.handleShowPdfIndexing,className:"search-results-pdf-text"},this.translateIfNeeded("Document_Settings_PDF_SeoSection_ShowPDFinResults_Link"))):null)),i.default.createElement(g.tabs.tab,{key:"edge-anchors",name:"EdgeAnchorLinks",className:"edge-anchors"},i.default.createElement(E.default.Composites.Thumbnails,null,i.default.createElement(E.default.TextLabel,{value:"LINK_PANEL_TAB_TOPandBOTTOM_LABEL",enableEllipsis:!1}),i.default.createElement(E.default.Thumbnails,{value:this.linkToAnchor().value,onChange:this.linkToAnchor().requestChange,maxThumbsPerRow:2,borderType:"thumbnailAndLabel",options:this.getEdgeAnchors()}))),i.default.createElement(g.tabs.tab,{name:"PopupLink",key:"popupLinkTab",className:"popup"},a.length?null:i.default.createElement("div",{key:"popups-not-exist"},i.default.createElement("div",{className:"symbol-container"},i.default.createElement(o.symbol,{name:"noPopup"})),i.default.createElement("h3",null,this.translateIfNeeded("LINK_PANEL_TAB_POP-UP_TITLE")),i.default.createElement("p",null,this.translateIfNeeded("LINK_PANEL_TAB_POP-UP_TEXT")),i.default.createElement(g.button,{label:"LINK_PANEL_TAB_ADD_NEW_POP-UP_LINK",onClick:this.goToAddPanelPopup,className:"btn-text"})),a.length?i.default.createElement("div",{key:"popups-exist",className:"popup-list"},i.default.createElement(g.dropDown.select,{label:"LINK_PANEL_TAB_POP-UP_DROP_DOWN_LABEL",valueLink:this.linkTo("pageId")},d.default.map(a,e=>i.default.createElement(g.dropDown.option,{shouldTranslate:!1,key:e.id,value:"#".concat(e.id)},e.title))),i.default.createElement(E.default.Divider,{long:!0,className:"popup-divider"}),i.default.createElement("div",{className:"popup-footer"},this.isMobileEditor()?null:i.default.createElement("div",{key:"isMobileEditor",className:"popup-footer-content"},i.default.createElement("span",{className:"popup-want-to-add-link"},c.translate("LINK_PANEL_TAB_ADD_NEW_POP-UP_TEXT")),i.default.createElement(g.button,{label:"LINK_PANEL_TAB_ADD_NEW_POP-UP_LINK",onClick:this.goToAddPanelPopup,className:"btn-text"})))):null),p.default.isOpen("wixstaff")?i.default.createElement(g.tabs.tab,{name:"LoginToWixLink",key:"homePageLoginTab",className:"home-page-link"},i.default.createElement(g.textInput,{ref:"postLogin",key:"postLogin",label:"LINK_PANEL_POST_LOGIN_INPUT",valueLink:this.linkToAndTrim("postLoginUrl"),validator:this.isEmptyStringOrFullUrl,invalidMessage:"Validation_V2_URL",onChangeInValidationStatus:e=>{this.setState({isValid:e})}}),i.default.createElement(g.textInput,{ref:"postSignup",key:"postSignup",label:"LINK_PANEL_POST_SIGNUP_INPUT",valueLink:this.linkToAndTrim("postSignupUrl"),validator:this.isEmptyStringOrFullUrl,invalidMessage:"Validation_V2_URL",onChangeInValidationStatus:e=>{this.setState({isValid:e})}}),i.default.createElement(g.dropDown.select,{label:"LINK_PANEL_VIEW_DROPDOWN",valueLink:this.linkTo("dialog")},d.default.map([{label:"LINK_PANEL_VIEW_SHOW_LOGIN",value:"showLogin"},{label:"LINK_PANEL_VIEW_LOGIN",value:"login"},{label:"LINK_PANEL_VIEW_SIGNUP",value:"createUser"}],e=>i.default.createElement(g.dropDown.option,{key:e.value,value:e.value},e.label))),i.default.createElement(E.default.ToggleSwitch,{ref:"sendMail",key:"sendMail",value:this.linkLoginToWixLinkSendEmailProperty().value,label:"LINK_PANEL_SEND_MAIL_TOGGLE",onChange:this.linkLoginToWixLinkSendEmailProperty().requestChange}),i.default.createElement(g.textInput,{ref:"welcomeEmail",key:"welcomeEmail",label:"LINK_PANEL_WELCOME_EMAIL_INPUT",valueLink:this.linkTo("mailTemplate")}),i.default.createElement(g.textInput,{ref:"color",key:"color",label:"LINK_PANEL_USER_COLOR_INPUT",valueLink:this.linkTo("userColor")}),i.default.createElement(g.textInput,{ref:"name",key:"name",label:"LINK_PANEL_BUTTON_NAME",valueLink:this.linkTo("loginCompName")})):null)),i.default.createElement("footer",null,i.default.createElement(g.button,{label:"LINK_PANEL_CANCEL_BUTTON",ref:"cancelButton",onClick:this.cancel,className:"btn-confirm-secondary"}),i.default.createElement(g.button,{label:"LINK_PANEL_DONE_BUTTON",ref:"okButton",onClick:this.done,disabled:this.isOkDisabled(),className:"btn-confirm-primary"})))},getInitialState(){const e=this.getEditorAPI();this.visibleSections=this.getVisibleSectionsMap();let t=d.default.cloneDeep(this.props.link)||null;D(e,d.default.get(t,"docId"))&&(t.indexable=!0),t=this.updateLinkIfPageWasConvertedToDynamicPage(t),this.gotPageIdFromInnerRoute=!(t&&"DynamicPageLink"===t.type),t&&"AnchorLink"===t.type&&!C(t,this.props.data.anchors)&&(t=function(e,t){if(e.pageId){const a=d.default.has(e.pageId,"id")?e.pageId.id:e.pageId.replace("#","");if(d.default.some(t,{id:a}))return{type:"PageLink",pageId:e.pageId}}return null}(t,this.props.data.pages));const a=this.shouldConvertExternalLinkToAddressLink(t);let l=!0;a&&(t={type:"AddressLink",address:t.url});const n=a||t&&"AddressLink"===t.type;let i;if(t&&"AddressLink"===t.type&&(l=t.address&&0!==t.address.length&&!a),t&&"DynamicPageLink"===t.type&&(C(t,this.props.data.anchors)||(t.anchorDataId=null),function(e,t){return!!e.dsRead.routers.get.byId(t.routerId)}(e,t)||(t=null)),this.pagesList=this.cachePagesList(this.props.data.pages),this.popupList=this.getPopupLinkOptions(),!t){const e=this.getDefaultLink();t=e.link,i=e.page}if(!t||"PageLink"!==t.type&&"AnchorLink"!==t.type)i||(i=this.props.createDefaultData("PageLink"));else{const a=d.default.isString(t.pageId)?t.pageId:"#".concat(d.default.get(t.pageId,"id")),l=a!=="#".concat(e.dsRead.siteSegments.getSiteStructureId())?a:this.props.data.currentPageId;"PageLink"===t.type&&(t.target=t.target||"_self"),i=y(l,this.props.data.pages)}return this.routers=e.dsRead.routers.get.all(),{selectedTab:this.props.initialTabToDisplay||this.getDefaultSelectedTab(t),link:t,page:i,hasAsyncValidator:n,routerInnerRoutes:null,innerRoutesRangeStartIndex:0,isClosing:!1,isValid:l,pdfIndexable:t.indexable}},shouldConvertExternalLinkToAddressLink(e){return e&&"ExternalLink"===e.type&&!this.isSectionVisible("ExternalLink")&&this.isSectionVisible("AddressLink")},updateLinkIfPageWasConvertedToDynamicPage(e){if(e&&e.type&&("PageLink"===e.type||"AnchorLink"===e.type)){const t=d.default.isString(e.pageId)?e.pageId:"#".concat(d.default.get(e.pageId,"id")),a=this.getEditorAPI().dsRead.routers.getRouterDataForPageIfExist(t);if(a)return{type:"DynamicPageLink",routerId:a.routerId,innerRoute:"",anchorDataId:e.anchorDataId||""}}return e},componentDidMount(){this.state.link&&"DynamicPageLink"===this.state.link.type&&this.getPageFromInnerRoute()},getVisibleSectionsMap(){const e=this.getLinkSectionsData();return d.default.keyBy(e,"for")},getLinkSectionsData(){const{getOverridden:e}=m.default.linkPanel.selectors,t=e(this.getEditorAPI().store.getState()),a=[{for:"NoLink",key:"noLinkTabLabel",automationId:"link-panel-no-link",label:"LINK_PANEL_TAB_NONE"},{for:"ExternalLink",key:"externalLinkTabLabel",automationId:"link-panel-external-link",label:"LINK_PANEL_TAB_WEB_ADDRESS"},{for:"PageLink",condition:this.shouldShowPageSection,key:"pageLinkTabLabel",automationId:"link-panel-page-link",label:"LINK_PANEL_TAB_PAGE"},{for:"AnchorLink",key:"anchorLinkTabLabel",automationId:"link-panel-anchor-link",label:"LINK_PANEL_TAB_ANCHOR"},{for:"EdgeAnchorLinks",key:"edgeAnchorLinksLabel",automationId:"link-panel-edge-anchor-link",label:"LINK_PANEL_TAB_TOPandBOTTOM"},{for:"DocumentLink",key:"docLinkTabLabel",automationId:"link-panel-document-link",label:"LINK_PANEL_TAB_DOCUMENT"},{for:"EmailLink",key:"emailLinkTabLabel",automationId:"link-panel-email-link",label:"LINK_PANEL_TAB_EMAIL"},{for:"PhoneLink",key:"phoneLinkTabLabel",automationId:"link-panel-phone-link",label:"LINK_PANEL_TAB_PHONE"},{for:"WhatsAppLink",condition:this.isMobileEditor,key:"whatsAppLinkTabLabel",automationId:"link-panel-whatsapp-link",label:"mobile_quick_actions_set_up_default_WhatsApp_phone"},{for:"AddressLink",condition:this.isMobileEditor,key:"addressLinkTabLabel",automationId:"link-panel-address-link",label:"mobile_quick_actions_set_up_default_Address"},{for:"PopupLink",key:"popupLinkTabLabel",automationId:"link-panel-popup-link",label:"LINK_PANEL_TAB_POP-UP"},{for:"LoginToWixLink",experiment:"wixstaff",key:"homePageLoginTabLabel",automationId:"link-panel-login-to-wix-link",label:"LINK_PANEL_HOME_PAGE_LOGIN"}];return d.default(a).thru(e=>c.overrideUtils.applyOverrides(e,t)).reject(e=>!d.default.get(this.props.visibleSections,e.for,!0)).reject(e=>e.experiment&&!p.default.isOpen(e.experiment)).reject(e=>e.condition&&!e.condition()).value()},getPageFromInnerRoute(){const e=this.getEditorAPI();if("CURRENT_INNER_ROUTE"===this.state.link.innerRoute){const e=y(this.props.data.currentPageId,this.props.data.pages);return this.gotPageIdFromInnerRoute=!0,void this.setState({page:e})}e.dsRead.routers.getPageFromInnerRoute(this.state.link.routerId,this.state.link.innerRoute,function(e){if(this.gotPageIdFromInnerRoute=!0,e){const t=y(e,this.props.data.pages);this.setState({page:t})}else{const e=this.getDefaultLink();this.setState({selectedTab:this.getDefaultSelectedTab(e.link),link:e.link,page:e.page})}}.bind(this))},isPagesDropDownReady(){return!this.state.link||"DynamicPageLink"!==this.state.link.type||this.state.link&&"DynamicPageLink"===this.state.link.type&&this.gotPageIdFromInnerRoute},getDefaultLink(){const e=y(this.pagesList[0].id,this.props.data.pages);if(this.props.defaultLinkType)return{link:this.props.createDefaultData(this.props.defaultLinkType),page:e};if(this.shouldHidePageLinkPossibilty()){const t=this.getDefaultDataForAnchorTab();return t||{link:this.props.createDefaultData("ExternalLink"),page:e}}return{link:this.getDefaultDataForPageLinkTab(this.pagesList[0].id),page:e}},needToGetInnerRoutes(e){return e.link&&this.state.link&&("DynamicPageLink"!==this.state.link.type&&"DynamicPageLink"===e.link.type&&!e.routerInnerRoutes||"DynamicPageLink"===this.state.link.type&&"DynamicPageLink"===e.link.type&&(!e.routerInnerRoutes||this.state.link.routerId!==e.link.routerId)||"DynamicPageLink"===this.state.link.type&&"DynamicPageLink"===e.link.type&&(!e.routerInnerRoutes||this.state.page.id!==e.page.id))},componentWillUpdate(e,t){this.needToGetInnerRoutes(t)&&this.getRouterInnerRoutes(t)},componentWillReceiveProps(e){this.pagesList=this.cachePagesList(e.data.pages),this.popupList=this.getPopupLinkOptions(),this.visibleSections=this.getVisibleSectionsMap()},setIsValidLink(){if(!this.state.hasAsyncValidator){const e=!this.state.link||v.call(this);this.state.isValid!==e&&this.setState({isValid:e})}},componentDidUpdate(){this.state.isClosing?(v.call(this)?this.saveLink=this.state.link:this.shouldHidePageLinkPossibilty()||(this.saveLink=null),this.getEditorAPI().panelManager.closePanelByName(this.props.panelName)):this.setIsValidLink()},componentWillUnmount(){d.default.isUndefined(this.saveLink)||(this.save(this.saveLink),delete this.saveLink)},getDefaultProps:()=>({title:"Link Panel",panelName:"Link Panel",bi:{selectedComponentType:""}}),getDefaultSelectedTab(e){if(this.props.initialTabToDisplay&&d.default.includes(b,this.props.initialTabToDisplay))return this.props.initialTabToDisplay;let t=e?e.type:null;const a=["PageLink",void 0,null];return(d.default.includes(a,t)||"DynamicPageLink"===t&&!e.anchorDataId)&&(t="PageLink"),("AnchorLink"===t||"DynamicPageLink"===t&&e.anchorDataId)&&(t="AnchorLink"),e&&(S(e.anchorDataId)||N(e.anchorDataId)?t="EdgeAnchorLinks":"PageLink"===t&&function(e,t){return Boolean(y(e.pageId,t).pageId)}(e,this.props.data.popups)&&(t="PopupLink")),this.isSectionVisible(t)||(t="NoLink"),t},shouldShowPrevButton(e){if(d.default.isEmpty(this.state.routerInnerRoutes))return!1;e=e||this.state.innerRoutesRangeStartIndex;const t=this.state.routerInnerRoutes.length<100;return!(0===e)&&!t},shouldShowNextButton(){if(d.default.isEmpty(this.state.routerInnerRoutes))return!1;const e=this.state.routerInnerRoutes.length<100;return!(this.state.innerRoutesRangeStartIndex+100>=this.state.routerInnerRoutes.length)&&!e},getInnerRoutesToRender(){return d.default.slice(this.state.routerInnerRoutes,this.state.innerRoutesRangeStartIndex,this.state.innerRoutesRangeStartIndex+100)},increaseRange(){const e=this.state.innerRoutesRangeStartIndex+100,t=this.shouldShowPrevButton(e)?this.state.routerInnerRoutes[e].url:this.state.routerInnerRoutes[e-1].url;this.setState({innerRoutesRangeStartIndex:e,link:{type:"DynamicPageLink",innerRoute:t,routerId:this.state.link.routerId}})},decreaseRange(){const e=this.state.innerRoutesRangeStartIndex-100,t=this.state.routerInnerRoutes[e].url;this.setState({innerRoutesRangeStartIndex:e,link:{type:"DynamicPageLink",innerRoute:t,routerId:this.state.link.routerId}})},linkSelectedTab(){return{value:this.state.selectedTab,requestChange:function(e){const t={selectedTab:e};let a;if(this.state.selectedTab!==e){if(this.state.routerInnerRoutes&&(t.routerInnerRoutes=null,t.innerRoutesRangeStartIndex=0),"EdgeAnchorLinks"===e){const e=this.getAnchorLink("SCROLL_TO_TOP");e.page&&(t.page=e.page),t.link=e.link}else if("PopupLink"===e)t.link=this.props.createDefaultData("PageLink"),this.popupList.length>0&&(t.link.pageId="#".concat(this.popupList[0].id));else{if(t.link=this.props.createDefaultData(e),"PageLink"===e){const e=this.getDefaultPageId();t.link=this.getDefaultDataForPageLinkTab(e),t.page=y(e,this.props.data.pages)}"AnchorLink"===e&&(a=this.getDefaultDataForAnchorTab(),a&&(t.link=a.link,t.page=a.page))}this.setState(t)}}.bind(this)}},getDefaultPageId(){if(this.shouldHidePageLinkPossibilty()){const e=this.getEditorAPI().dsRead.routers.pages.getDynamicPagesList();return d.default.flatMap(e,"pages")[0].id}return this.pagesList[0].id},getDefaultDataForPageLinkTab(e){const t=this.getRouterDataForPageIfExist(e);if(t)return{routerId:t.routerId,type:"DynamicPageLink"};const a=this.getEditorAPI().data.getSchema("PageLink");return{type:"PageLink",pageId:e,target:d.default.get(a,["target","default"])}},getDefaultDataForAnchorTab(){const e=this.getPagesWithAnchors();return!e||d.default.isEmpty(e)?null:{link:this.getDefaultDataForPageAnchorLinkTabWithDynamicPages(e[0].id),page:y(e[0].id,this.props.data.pages)}},getDefaultDataForPageAnchorLinkTab(e){let t;const a=this.getAnchorOptions(this.props.data.anchors,e.substring(1));return this.shouldHidePageLinkPossibilty()?a.length>0&&(t={type:"AnchorLink",anchorDataId:a[0].anchorDataId,pageId:e,anchorName:a[0].anchorName}):t={type:"PageLink",pageId:e},t},getDefaultDataForPageAnchorLinkTabWithDynamicPages(e){const t=this.getAnchorOptions(this.props.data.anchors,e.substring(1)),a=this.getRouterDataForPageIfExist(e);if(t.length>0)return a?{type:"DynamicPageLink",routerId:a.routerId,anchorDataId:t[0].anchorDataId}:{type:"AnchorLink",pageId:e,anchorDataId:t[0].anchorDataId,anchorName:t[0].anchorName}},linkToAndTrim(e){const t=this.state.link;return{value:t?t[e]:"",requestChange:d.default.flow(d.default.trim,I.bind(this,e))}},linkTo(e){const t=this.state.link;return{value:t?t[e]:"",requestChange:I.bind(this,e)}},isValidUrl:e=>!!e&&c.validate.url(e),isValidAddress(e,t,a){return this.setState({isValid:!1}),e&&c.validate.validateAddress(e,e=>{let{address:a}=e;const l=this.state.link;l.address=a,this.setState({isValid:!0,link:l}),t()},a)},isValidEmail:e=>!!e&&c.validate.email(e)&&c.validate.notEmpty(e),isValidSubject:e=>c.validate.noHTMLTags(e),isValidPhone:e=>c.validate.phone(e),isValidInternationalPhone:e=>c.validate.internationalPhone(e),updateLinkValue(e,t){const a=d.default.clone(this.state.link);a[e]=t,this.setState({link:a})},validationStatusChanged(e,t){const a={isValid:e};if(!e){const e=d.default.clone(this.state.link);e[t]=void 0,a.link=e}this.setState(a)},linkLoginToWixLinkSendEmailProperty(){const e=this.state.link;return{value:e?e.sendMail:"",requestChange:function(t){e.sendMail=t,e.metaData={schemaVersion:"2.0",isPreset:!0,isHidden:!1},this.setState({link:e})}.bind(this)}},save(e){var t,a;e&&"ExternalLink"===e.type&&(e.url=(t=e.url,a="http",t&&!/^\s*\w+:\/\//.test(t)?"".concat(a,"://").concat(t.trim()):t)),this.props.callback&&this.props.callback(e),e&&T.call(this,e)},cancel(){this.props.onCancelCallback&&this.props.onCancelCallback(this.props.link),this.getEditorAPI().panelManager.closePanelByName(this.props.panelName)},done(){this.logLinkCreationBI(),this.setState({isClosing:!0})},getPageOptions(){return d.default.map(this.pagesList,d.default.bind((function(e){return{value:e.id,label:e.title+this.getCurrentPageThisTranslate(e.id)}}),this))},linkToPage(){return{value:this.state.page.pageId,requestChange:function(e){this.setState({routerInnerRoutes:null,innerRoutesRangeStartIndex:0,link:"PageLink"===this.state.selectedTab?this.getDefaultDataForPageLinkTab(e):this.getDefaultDataForPageAnchorLinkTabWithDynamicPages(e),page:y(e,this.props.data.pages)})}.bind(this)}},getRouterInnerRoutes(e){const t="CURRENT_INNER_ROUTE"===e.link.innerRoute?this.props.data.currentPageId:e.page.id;this.getEditorAPI().dsRead.routers.getRouterInnerRoutes(e.link.routerId,t,function(t){let a=d.default.isEmpty(t)?[]:t[0].url;if(e.link.innerRoute&&(d.default.find(t,{url:e.link.innerRoute})||"CURRENT_INNER_ROUTE"===e.link.innerRoute)&&(a=e.link.innerRoute),d.default.isEmpty(t))this.setState({routerInnerRoutes:[],innerRoutesRangeStartIndex:0},function(){this.setIsValidLink()}.bind(this));else{let l=d.default.findIndex(t,["url",a]);l=-1===l?0:l,this.setState({routerInnerRoutes:d.default.isEmpty(t)?[]:t,innerRoutesRangeStartIndex:P(l),link:{type:"DynamicPageLink",routerId:e.link.routerId,anchorDataId:e.link.anchorDataId,innerRoute:a}},function(){this.setIsValidLink()}.bind(this))}}.bind(this))},isCollectionPageOrHasOneRoute(){const e=this.state.routerInnerRoutes;return!!e&&1===e.length},linkToInnerRoute(){return{value:this.state.link?this.state.link.innerRoute:null,requestChange:function(e){const t={type:"DynamicPageLink",routerId:this.state.link.routerId,innerRoute:e};this.state.link.anchorDataId&&(t.anchorDataId=this.state.link.anchorDataId),this.setState({link:t})}.bind(this)}},hasInnerRoutes(){return!!this.state.routerInnerRoutes&&!d.default.isEmpty(this.state.routerInnerRoutes)},getRouterDataForPageIfExist(e){return this.getEditorAPI().dsRead.routers.getRouterDataForPageIfExist(e)},isDynamicPage(e){return!!this.getRouterDataForPageIfExist(e)},shouldShowInnerRoutesDropDown(){return this.isDynamicPage(this.state.page.id)&&this.hasInnerRoutes()&&!this.isCollectionPageOrHasOneRoute()},getInnerRoutesDropDown(){const e=[];return this.state.page.id!==this.props.data.currentPageId||this.shouldHidePageLinkPossibilty()||e.push({url:"CURRENT_INNER_ROUTE",title:c.translate("Platform_Link_Menu_Anchor_Item_Option_Any_Item")}),this.state.routerInnerRoutes&&!d.default.isEmpty(this.state.routerInnerRoutes)?e.concat(this.getInnerRoutesToRender()):[{value:"NO_INNER_ROUTES",title:c.translate("LINK_PANEL_NO_INNER_ROUTES"),url:"no_inner_routes"}]},getCurrentPageThisTranslate(e){return e==="#".concat(this.props.data.currentPageId)?" ".concat(c.translate("LINK_PANEL_PAGE_THIS")):""},getRouterTypeForPageId(e){const t=this.getEditorAPI().pages.dynamicPages.getRouterPageType(e);return t?"(".concat(t,")"):""},linkToAnchor(){return{value:(d.default.has(this.state.link,"anchorDataId.id")?"#".concat(this.state.link.anchorDataId.id):d.default.get(this.state.link,"anchorDataId"))||"SCROLL_TO_TOP",requestChange:function(e){const t=this.getAnchorLink(e),a={link:t.link};t.page&&(a.page=t.page),this.setState(a)}.bind(this)}},getAnchorLink(e){const t=this.getEditorAPI();let a={};if("TOP_OF_SELECTED_PAGE"===e){const e=this.state.page.pageId;a={link:this.getDefaultDataForPageAnchorLinkTabWithDynamicPages(e),page:y(e,this.props.data.pages)}}else{const l=this.props.data.anchors;let n;if(this.state.link&&this.state.link.routerId)a={link:{type:"DynamicPageLink",anchorDataId:e,routerId:this.state.link.routerId,innerRoute:this.state.link.innerRoute}};else{const i={type:"AnchorLink",anchorDataId:e,pageId:this.state.page.pageId},o="#".concat(t.dsRead.siteSegments.getSiteStructureId());if(S(e))i.anchorName=c.translate("LINK_PANEL_PAGE_ANCHOR_SCROLL_TO_TOP_NAME"),i.pageId=o;else if(N(e))i.anchorName=c.translate("LINK_PANEL_PAGE_ANCHOR_SCROLL_TO_BOTTOM_NAME"),i.pageId=o;else for(n=0;n<l.length;n++){const t=l[n];if(t.anchorDataId===e){i.anchorName=t.anchorName;break}}a.link=i}}return a},cachePagesList(e){const t=[];return e.forEach((function(e){const a="#".concat(e.id);if(!function(e,t){return y(e,t).repeaterPage}(a,this.props.data.pages)){const l={id:a,title:e.title,level:0};t.push(l)}}),this),t},getAnchorOptions(e,t){const a=[];return e.forEach((function(e){("#"===e.pageId.charAt(0)?e.pageId.substring(1):e.pageId)===t&&a.push(e)})),a.sort((function(e,t){return e.y-t.y})),a},documentChanged(e){const t=e[0],a=t.fileUrl;this.setState({link:{type:"DocumentLink",docId:a,name:t.title},pdfIndexable:D(this.getEditorAPI(),a)})},handleShowPdfIndexing(){const e=this.getEditorAPI(),t=this;e.panelManager.openPanel("compPanels.panels.DocumentMedia.confirmationPanel",{onConfirm(){c.media.setLinksAsIndexableForDoc(e,t.state.link.docId),t.setState({pdfIndexable:!0,link:d.default.defaults({indexable:!0},t.state.link)}),e.bi.event(f.events.documentMedia.PDF_INDEXING,{origin:t.constructor.displayName})}},!0)},getMediaServices(){return this.getEditorAPI().mediaServices},openMediaGallery(e){const t=this.getEditorAPI().mediaServices,a=t.mediaManager,l=e||a.categories.ICON_DOCUMENT;a.open(l,{callback:(e,a)=>{this._handleChangeImage(e,a),t.setFocusToEditor()},multiSelect:!1})},getDocId(){return d.default.get(this.state.link,"docId")},isMobileEditor(){return this.getEditorAPI().isMobileEditor()},isSectionVisible(e){return!d.default.isUndefined(this.visibleSections[e])},shouldHidePageLinkPossibilty(){return this.props.hidePageLinks},hasAnchors(e){let t=e||this.state.page.id;return!!t&&(t="#"===t.charAt(0)?t.substring(1):t,0!==this.getAnchorOptions(this.props.data.anchors,t).length)},getPagesWithAnchors(){return d.default.filter(this.pagesList,d.default.bind((function(e){return this.hasAnchors(e.id)}),this))},openLearnMoreOnAnchor(){const e={panel_name:this.props.panelName,origin:h.default.BI.HELP.ORIGIN.PANEL,learn_more:!0};this.getEditorAPI().panelManager.openHelpCenter("4932c49c-7282-48f0-8fa2-42d929981c40",null,e)},openLearnMoreOnAddingInnerRoutes(){const e={panel_name:this.props.panelName,origin:h.default.BI.HELP.ORIGIN.PANEL,learn_more:!0};this.getEditorAPI().panelManager.openHelpCenter("0a1de6d7-3f69-4d30-8ddc-7aa99bd12edc",null,e)},openLearnMoreOnPhoneLink(){const e={panel_name:this.props.panelName,origin:h.default.BI.HELP.ORIGIN.PANEL,learn_more:!0};this.getEditorAPI().panelManager.openHelpCenter("269ee4ca-ac26-40a4-b982-b120e84c75d4",null,e)},openLearnMoreOnWhatsappLink(){const e={panel_name:this.props.panelName,origin:h.default.BI.HELP.ORIGIN.PANEL,learn_more:!0};this.getEditorAPI().panelManager.openHelpCenter("25e5d809-cd6e-4966-9515-92175603e433",null,e)},getPagesListToShow(){if(this.shouldHidePageLinkPossibilty()){const e=this.getEditorAPI().dsRead.routers.pages.getDynamicPagesList(),t=d.default(e).flatMap("pages").map("id").value();return d.default.filter(this.pagesList,(function(e){return d.default.includes(t,e.id.slice(1))}))}return this.pagesList},shouldShowPageSection(){if(!this.shouldHidePageLinkPossibilty())return!0;const e=this.getEditorAPI().routers.pages.getDynamicPagesList(),t=d.default.flatMap(e,"pages");return!d.default.isEmpty(t)},getDropDownOptions(){const e=[],t=this.getAnchorOptions(this.props.data.anchors,this.state.page.id);return t.length>0&&d.default.forEach(t,(function(t){e.push({value:t.anchorDataId,label:t.anchorName})})),e},getPopupLinkOptions(){const e=d.default.clone(this.props.data.popups),t=this.getEditorAPI(),a=t.dsRead.pages.getFocusedPageId(),l=t.dsRead.pages.popupPages.isPopup(a);return!this.props.showAllPopups&&l&&d.default.remove(e,{id:a}),e},getAnchorTooltipValue(){return{classPath:"baseUI.popoverTemplates.imageAndTextTooltip",props:{image:"linkPanelAnchorTooltip",title:"Anchor_Settings_tooltip_title",text:"Anchor_Settings_tooltip_text",learnMoreText:"mobile_refreshlayout_link",linkAction:this.openLearnMoreOnAnchor,imageContainerStyle:{backgroundColor:"#5fcef5"}}}},isOkDisabled(){return!this.state.isValid},getAnchorType(e){switch(e){case"SCROLL_TO_TOP":return"page-top";case"SCROLL_TO_BOTTOM":return"page-bottom";default:return"anchor"}},logLinkCreationBI(){const e=this.state.link;if(!e)return;const t={site_id:this.getEditorAPI().dsRead.generalInfo.getSiteId(),component_type:d.default.get(this.props,"bi.selectedComponentType","")};switch(e&&e.type){case"PageLink":d.default.assign(t,{field_type:"page",data:""});break;case"AnchorLink":d.default.assign(t,{field_type:this.getAnchorType(e.anchorDataId),data:""});break;case"ExternalLink":d.default.assign(t,{field_type:"url",data:e.url});break;case"AddressLink":d.default.assign(t,{field_type:"address",data:e.address});break;case"EmailLink":d.default.assign(t,{field_type:"mail",data:""});break;case"PhoneLink":d.default.assign(t,{field_type:"phone",data:e.phoneNumber});break;case"WhatsAppLink":d.default.assign(t,{field_type:"whatsapp",data:e.phoneNumber});break;case"DocumentLink":d.default.assign(t,{field_type:"document",data:""});break;default:return}this.getEditorAPI().bi.event(f.events.linkPanel.LINK_PANEL_ADD_CLICK_TO_ACTION,t)},getEdgeAnchors:()=>[{value:"SCROLL_TO_TOP",label:"LINK_PANEL_TAB_TOPandBOTTOM_ TOP",illustration:i.default.createElement(o.symbol,{name:"anchorTop"})},{value:"SCROLL_TO_BOTTOM",label:"LINK_PANEL_TAB_TOPandBOTTOM_ BOTTOM",illustration:i.default.createElement(o.symbol,{name:"anchorBottom"})}],isEmptyStringOrFullUrl:e=>""===e||c.validate.fullUrl(e),goToAddPanelPopup(){const e=this.getEditorAPI(),t=p.default.isOpen("se_addPanelOrganizing")?n.default.CATEGORIES_ID.BOX_SLIDE_SHOW:n.default.CATEGORIES_ID.POPUP;e.store.dispatch(m.default.editorPlugins.userPreferences.actions.setSessionUserPreferences("addPanelCategoryIdOnClose",t)),e.store.dispatch(m.default.editorPlugins.leftBar.actions.openAddPanel())},getHelpId(){return this.getEditorAPI().developerMode.isEnabled()?"049671da-19be-4453-8f1e-a53d949a0110":"650e4ba4-4aa8-4484-957a-cc9db36be6d9"},shouldHideLinkTarget(){return this.props.hideLinkTarget},shouldDisplayLinkDescription(){const e=d.default.get(this,"state.link.target"),t=d.default.get(this,"state.link.type");return"_self"===e?!("PageLink"===t):"PageLink"===t&&"_blank"===e}})}.apply(t,l))||(e.exports=n)},2032:function(e,t,a){var l,n;l=[a,t,a(0),a(2033),a(2036),a(503)],void 0===(n=function(e,t,a,l,n,i){"use strict";return l=a.__importDefault(l),n=a.__importDefault(n),i=a.__importDefault(i),{colorPickerPanel:l.default,addColorPanel:n.default,addColorContent:i.default}}.apply(t,l))||(e.exports=n)},2033:function(e,t,a){var l,n;l=[a,t,a(0),a(5),a(3),a(4),a(1),a(11),a(12),a(2),a(24),a(7),a(41),a(48),a(198),a(6),a(13),a(9),a(8),a(502),a(10),a(2)],void 0===(n=function(e,t,a,l,n,i,o,s,r,u,d,p,c,m,f,h,_,g,E,b,P,C){"use strict";function y(){return n.default.createElement("div",{className:"main-content"},n.default.createElement("div",{onMouseDown:this.startContentDrag,className:"panel-section color-picker-header"},n.default.createElement("div",{className:"color-picker-header-content"},n.default.createElement("span",{key:"color-picker-title"},u.translate("ColorPicker_MainPanel_Header"))),n.default.createElement("span",{onClick:this.close,className:"close-panel-button"},n.default.createElement(P.symbol,{name:"headerCloseButton"}))),this.state.content===this.Content.CHOOSE_COLOR?n.default.createElement("div",{key:"color-picker-content-color",className:"choose-color-content"},n.default.createElement("div",{className:"panel-section site-colors-section"},n.default.createElement("div",{className:"section-left"},u.translate("ColorPicker_MainPanel_SitePalette")),n.default.createElement("div",{className:"section-gap"}),this.isPaletteChangeAllowed()?n.default.createElement("div",{key:"color-picker-edit-palette-button",className:"section-right"},n.default.createElement("a",{onClick:this.switchContent.bind(this,this.Content.CHANGE_PALETTE)},this.props.changePaletteLabel||u.translate("ColorPicker_MainPanel_ChangeSiteColors"))):null),n.default.createElement(g.paletteDisplayer,{palette:this.getPaletteColors(),isSelectable:!0,onPreview:this.previewColor,valueLink:{value:this.getColorInHex(this.state.selectedColor),requestChange:this.selectColor}}),n.default.createElement("div",{className:"panel-section custom-colors-title-section"},u.translate("ColorPicker_MainPanel_MoreColors")),n.default.createElement(b.default,{customColors:this.siteCustomColors,isEditable:!0,onPreview:this.previewColor,paletteColors:this.state.paletteColors,openAddColorPanel:this.openAddColorPanel,valueLink:{value:this.getColorInHex(this.state.selectedColor),requestChange:this.selectColor},className:"custom-colors-section"}),n.default.createElement("div",{className:"panel-section footer"},n.default.createElement("div",{className:"section-left"},n.default.createElement("span",null,"+"),n.default.createElement("a",{onClick:this.addColorLinkClicked},u.translate("ColorPicker_MainPanel_AddColor"))),n.default.createElement("div",{className:"section-right"},this.isThemeColor(this.state.colorToPreview)?this.getPaletteColors()[this.state.colorToPreview]:this.state.colorToPreview))):null,this.state.content===this.Content.CHANGE_PALETTE?n.default.createElement("div",{key:"color-picker-content-palettes",className:"content-change-palette"},n.default.createElement("div",{className:"panel-section change-palette-section"},u.translate("ColorPicker_ChangeEditPalette_Title")),n.default.createElement(g.paletteDisplayer,{palette:this.getPaletteColors(),isSelectable:!0,onPreview:this.previewColor,valueLink:{value:this.getColorInHex(this.state.selectedColor),requestChange:this.openChangePaletteColor}}),n.default.createElement("div",{className:"root-colors-wrapper"},o.default.map(this.getRootColors(),(e,t)=>n.default.createElement("div",{key:"rootColor-".concat(t),className:C.cx(this.getRootColorBoxClasses(e))},n.default.createElement("div",{style:{borderBottomColor:e},className:"root-color-arrow"}),n.default.createElement("div",{style:{backgroundColor:e},onClick:()=>{this.openChooseRootColorPanel(e,t)},className:"root-color-circle"},n.default.createElement(P.symbol,{name:"recycle".concat(this.getColorBrightness(e))}))))),n.default.createElement("div",{className:"help-text"},n.default.createElement("span",null,u.translate("ColorPicker_ChangeEditPalette_HelpText")),n.default.createElement("a",{onClick:()=>{this.openHelpCenter(this.EDIT_PALETTE_LEARN_MORE_HELP_ID)}},u.translate("ColorPicker_ChangeEditPalette_LearnMore"))),n.default.createElement("div",{className:"footer"},n.default.createElement(g.button,{label:"ColorPicker_ChangeEditPalette_CancelButton",onClick:this.handleCancelEditingPaletteClicked,className:"cancel-button btn-md btn-confirm-secondary"}),n.default.createElement(g.button,{label:"ColorPicker_ChangeEditPalette_DoneButton",onClick:this.handleDoneEditingPaletteClicked,className:"confirm-button btn-md"}))):null)}function S(){return this.state.content===this.Content.CHANGE_PALETTE?n.default.createElement("div",{key:"colorPickerPaletteListSection",className:"secondary-content palette-list-section"},n.default.createElement("div",{className:"palette-list-title"},u.translate("ColorPicker_ChangeEditPalette_PalettesStrip")),n.default.createElement("div",{className:"palette-list-comp-wrapper"},n.default.createElement(E.default.CustomScroll,{heightRelativeToParent:"100%"},n.default.createElement(g.palettesList,{palettes:this.getPaletteList(),valueLink:{value:this.state.selectedPalette,requestChange:this.setSelectedPalette},onPreview:this.handlePaletteListPreview,className:"change-palette-palette-list"})))):null}l=a.__importDefault(l),n=a.__importDefault(n),i=a.__importDefault(i),o=a.__importDefault(o),s=a.__importStar(s),r=a.__importStar(r),u=a.__importStar(u),d=a.__importStar(d),p=a.__importDefault(p),c=a.__importDefault(c),m=a.__importDefault(m),f=a.__importDefault(f),h=a.__importDefault(h),_=a.__importDefault(_),g=a.__importStar(g),E=a.__importDefault(E),b=a.__importDefault(b),P=a.__importStar(P);const{measuring:N}=d.hoc,{updatePanelAction:T,updateOrOpenPanel:I,openHelpCenter:v}=p.default.editorPlugins.panels.actions,D=p.default.editorPlugins.stylableEditor.actions,A={color_13:["color_11","color_12","color_13","color_14","color_15"],color_18:["color_16","color_17","color_18","color_19","color_20"],color_23:["color_21","color_22","color_23","color_24","color_25"],color_28:["color_26","color_27","color_28","color_29","color_30"],color_33:["color_31","color_32","color_33","color_34","color_35"]},L=[].concat.apply([],Object.values(A)),{getStageLayout:k}=p.default.domMeasurements.selectors;function x(e){return e?(0===e.indexOf("{color")&&(e=e.replace("{","").replace("}","")),"transparent"===e?f.default.NO_COLOR:0!==e.indexOf("#")&&0!==e.indexOf("color")&&e!==f.default.NO_COLOR?0===e.indexOf("r")?e:"rgba(".concat(e,")"):e):null}function O(e){return{top:"".concat(e.top-window.pageYOffset+15,"px"),left:"".concat(e.left-window.pageXOffset+204,"px")}}const w=l.default({displayName:"colorPickerPanel",propTypes:{customInstanceColors:i.default.array,displayNoColor:i.default.bool,panelName:i.default.string,customCompsAddedColors:i.default.array,setCustomCompsAddedColors:i.default.func,customUserAddedColors:i.default.array,setCustomUserAddedColors:i.default.func,previewOnHover:i.default.bool,enableHistory:i.default.bool,palettePresets:i.default.array,updateSitePalette:i.default.func,top:i.default.oneOfType([i.default.string,i.default.number]),left:i.default.oneOfType([i.default.string,i.default.number]),isBlockingLayerFullScreen:i.default.bool,shouldBlockOuterScroll:i.default.bool,openHelpCenter:i.default.func.isRequired,updatePanelProps:i.default.func.isRequired,openPanel:i.default.func.isRequired,stylableEditorSetUserColors:i.default.func.isRequired,onClose:i.default.func,value:i.default.any,onChange:i.default.func,valueLink:u.valueLink.valueLinkPropType,reportMeasurements:i.default.func.isRequired,measurements:i.default.object.isRequired,changePaletteLabel:i.default.string,onPaletteChange:i.default.func},mixins:[s.mixins.editorAPIMixin],getDefaultProps:()=>({previewOnHover:!0}),getInitialState(){const e=this.getColorFromProps();this.fixThemeFontsColorIfNeeded(e);const t=this.getColorInHex(e),a={selectedColor:t,colorToPreview:t,selectedPalette:this.getEditorAPI().theme.colors.getAll(),content:this.Content.CHOOSE_COLOR};return this.initialPalette=a.selectedPalette,this.siteCustomColors=this.getCustomColorsInOrderAndSaveOrder(),a},componentDidMount(){this.mounted=!0},componentWillReceiveProps(){this.setState({paletteColors:this.getEditorAPI().theme.colors.getAll()})},componentDidUpdate(e){if(this.state.content===this.Content.CHANGE_PALETTE&&this.props.top!==e.top||this.props.left!==e.left){const e=O(this.getContentElementOffset());this.props.updatePanelProps("panels.toolPanels.colorPicker.addColorPanel",{top:e.top,left:e.left})}},componentWillUnmount(){this.mounted=!1,this.props.onClose&&this.props.onClose(),this.resetPaletteIfPanelClosedWithoutPaletteConfirmation(),this.resetPreviewColor()},Content:{CHOOSE_COLOR:"CHOOSE_COLOR",CHANGE_PALETTE:"CHANGE_PALETTE"},fixThemeFontsColorIfNeeded(e){const t=this.getEditorAPI(),a=u.valueLink.getValueFromProps(this.props);if(this.isThemeColor(a)&&this.isThemeColor(e)&&a!==e&&t.theme.colors.get(e)===t.theme.colors.get(a)){const l=o.default.reduce(t.theme.fonts.getAll(),(t,l,n)=>(t[n]=o.default.replace(l,a,e),t),{});t.theme.fonts.update(l)}},getFrameContentStyle(){const e=o.default.pick(this.props,["top","left"]);return this.state.content===this.Content.CHANGE_PALETTE?o.default.defaults(this.adjustPanelPosition(),e):e},getPaletteColors(){const e=this.state.paletteColors;return o.default.omit(e,"paletteName","paletteTags")},isThemeColorOutOfPaletteRange(e){const t=Number(e.split("_")[1]);return t>35||t<11},getColorFromProps(){const e=this.getEditorAPI();let t=u.valueLink.getValueFromProps(this.props);const a=this.isThemeColor(t);if(t&&a&&this.isThemeColorOutOfPaletteRange(t)){const a=e.theme.colors.get(t);t=L.find(t=>e.theme.colors.get(t)===a)||t}else t&&!a&&(t=L.find(a=>e.theme.colors.get(a)===t)||t);return x(t)},getContentElementOffset(){return this.props.measurements.contentOffset||this.props.measurements.initialPos||{}},getCustomColorsInOrderAndSaveOrder(){const e=this.props.customCompsAddedColors||[],t=this.props.customUserAddedColors||[];let a;if(e){const l=o.default.intersection(e,t),n=o.default.difference(t,e);a=l.concat(n)}else a=t;return this.props.setCustomCompsAddedColors(a),a.concat(o.default.difference(this.props.customInstanceColors,a))},getColorBrightness(e){const t=u.colors.hexToRgb(e),a=u.colors.rgbToHsb(t);return a.brightness>=80&&a.saturation<50?"Dark":"Bright"},isThemeColor:e=>o.default.includes(e,"color_"),isPaletteChangeAllowed(){return this.props.palettePresets&&!this.getEditorAPI().isMobileEditor()},getColorInHex(e){const t=u.colors.rgbToHex;return e=x(e),o.default.includes(e,"rgba")?t(u.colors.rgbaStringToObject(e)):o.default.includes(e,"rgb")?t(u.colors.rgbStringToObject(e)):e},getColorInOriginalFormat(e){let t=this.getColorFromProps();t=x(t);const a=u.colors.hexToRgb;if(e===f.default.NO_COLOR)return e;const l=this.isThemeColor(e)?this.getPaletteColors()[e]:e;if(o.default.includes(t,"rgba")){const e=a(l);return e.alpha=u.colors.rgbaStringToObject(t).alpha,u.colors.rgbaObjectToString(e)}return o.default.includes(t,"rgb")?u.colors.rgbObjectToString(a(l)):e},areColorsEqual(e,t){return o.default.includes(e,"color")&&o.default.includes(t,"color")?e===t:this.getColorInHex(e)===this.getColorInHex(t)},EDIT_PALETTE_LEARN_MORE_HELP_ID:"7b56b01e-1104-485d-8bcc-9690f8c9592a",getRootColors(){return o.default.pick(this.getPaletteColors(),o.default.keys(A))},getRootColorBoxClasses:e=>({"root-color-box":!0,"white-color":u.colors.getDistanceToWhite(e)<3}),getPaletteList(){return o.default.map(this.props.palettePresets,(function(e){return o.default.omit(e,"paletteName","paletteTags")}))},openChangePaletteColor(e){const t=this,a=O(this.getContentElementOffset()),l={valueLink:{value:this.getPaletteColors()[e],requestChange(a){const l=o.default.clone(t.state.selectedPalette);l[e]=a,t.setSelectedPalette(l)}},siteCustomColors:this.siteCustomColors,paletteColors:this.state.paletteColors,top:a.top,left:a.left,onPreview(a){const l=o.default.clone(t.state.selectedPalette);l[e]=a,t.setPaletteToDocument(l)},onCancel:this.setPaletteToDocument.bind(this,o.default.clone(this.state.selectedPalette))};this.props.openPanel("panels.toolPanels.colorPicker.addColorPanel",l,!0)},selectColor(e,t){if(e!==this.state.selectedColor){const t=this;this.setState({selectedColor:e},(function(){t.handleChange(e),t.addColorHistoryEntryIfNeeded()}))}else t&&this.close()},previewColor(e){_.default.isOpen("colorPickerChangeColorOnClickExp")||(this.mounted&&this.setState({colorToPreview:e}),this.props.previewOnHover&&this.handleChange(e,!0))},handleChange(e,t){u.valueLink.callOnChangeIfExists(this.props,this.getColorInOriginalFormat(e),t)},setSelectedPalette(e){this.mounted?this.setState({selectedPalette:e},this.setPaletteToDocument.bind(this,e)):this.setPaletteToDocument(e)},setPaletteToDocument(e){this.props.updateSitePalette(e)},computeNewPaletteFromRootColor(e,t){const a=this.getPaletteColors(),l=u.colors.createGradientColorsFromRoot(t,a,A[e]);return o.default.assign(a,l)},setSelectedPaletteFromRootColor(e,t){const a=this,l=this.computeNewPaletteFromRootColor(e,t);this.mounted?this.setState({selectedPalette:l},a.setPaletteToDocument.bind(this,l)):a.setPaletteToDocument(l)},setPaletteToDocumentFromRootColor(e,t){const a=this.computeNewPaletteFromRootColor(e,t);this.setPaletteToDocument(a)},addCustomColor(e){const t=o.default.cloneDeep(this.props.customUserAddedColors)||[];t.unshift(e),this.props.setCustomUserAddedColors(t),this.props.stylableEditorSetUserColors(),this.selectColor(e)},openAddColorPanel(){const e=function(e){return{top:"".concat(e.top-window.pageYOffset+115,"px"),left:"".concat(e.left+window.pageXOffset+48,"px")}}(this.getContentElementOffset());this.props.openPanel("panels.toolPanels.colorPicker.addColorPanel",{valueLink:{value:this.state.selectedColor,requestChange:this.addCustomColor},paletteColors:this.state.paletteColors,onPreview:o.default.debounce(this.previewColor,100),top:e.top,left:e.left,onCancel:this.previewColor.bind(this,this.state.selectedColor)},!0)},addColorLinkClicked(){this.getEditorAPI().bi.event(r.events.colorPicker.ADD_COLOR_LINK_CLICKED,{}),this.openAddColorPanel()},openChooseRootColorPanel(e,t){const a=O(this.getContentElementOffset());this.props.openPanel("panels.toolPanels.colorPicker.addColorPanel",{valueLink:{value:e,requestChange:this.setSelectedPaletteFromRootColor.bind(this,t)},siteCustomColors:this.siteCustomColors,paletteColors:this.state.paletteColors,top:a.top,left:a.left,onPreview:o.default.debounce(this.setPaletteToDocumentFromRootColor.bind(this,t),100),onCancel:this.setPaletteToDocument.bind(this,o.default.clone(this.state.selectedPalette))},!0)},handlePaletteListPreview(e){_.default.isOpen("colorPickerChangePaletteOnClickExp")||this.setPaletteToDocument(e)},handleDoneEditingPaletteClicked(){this.addPaletteHistoryEntryIfNeeded(),this.initialPalette=this.state.selectedPalette,this.setPaletteToDocument(this.state.selectedPalette),this.close()},handleCancelEditingPaletteClicked(){this.setSelectedPalette(this.initialPalette),this.setSelectedPalette(this.initialPalette),this.switchContent(this.Content.CHOOSE_COLOR)},handleBackEditingPaletteClicked(){this.setSelectedPalette(this.initialPalette),this.switchContent(this.Content.CHOOSE_COLOR)},arePalettesEqual(e,t){const a=o.default.intersection(o.default.keys(e),o.default.keys(t));return o.default.isEqual(o.default.pick(e,a),o.default.pick(t,a))},addPaletteHistoryEntryIfNeeded(){this.props.enableHistory&&(this.arePalettesEqual(this.state.selectedPalette,this.initialPalette)||this.getEditorAPI().history.add("palette colors updated"))},addColorHistoryEntryIfNeeded(){this.props.enableHistory&&(this.areColorsEqual(this.state.selectedColor,this.getColorFromProps())||this.getEditorAPI().history.add("new color chosen - ".concat(this.state.selectedColor)))},switchContent(e){if(e===this.Content.CHANGE_PALETTE){if(this.props.onPaletteChange)return this.props.onPaletteChange();this.getEditorAPI().bi.event(r.events.colorPicker.CHANGE_SITE_COLORS_LINK_CLICKED,{})}this.setState({content:e})},resetPaletteIfPanelClosedWithoutPaletteConfirmation(){this.state.content===this.Content.CHANGE_PALETTE&&this.setPaletteToDocument(this.initialPalette)},resetPreviewColor(){this.state.colorToPreview!==this.state.selectedColor&&this.previewColor(this.state.selectedColor)},adjustPanelPosition(){const e=this.getContentElementOffset(),t=k(this.getEditorAPI().store.getState()),a=t.right-424,l=this.props.measurements.contentHeight||0,n=window.pageYOffset+(t.bottom-l);return{top:Math.min(e.top,n),left:Math.min(e.left,a)}},close(){this.state.content===this.Content.CHOOSE_COLOR?this.getEditorAPI().bi.event(r.events.colorPicker.MAIN_PANEL_CLOSED,{}):this.state.content===this.Content.CHANGE_PALETTE&&this.getEditorAPI().bi.event(r.events.colorPicker.CHANGE_SITE_COLOR_CLOSED,{}),this.getEditorAPI().panelManager.closePanelByName(this.props.panelName)},openHelpCenter(e){const t={component:this.getEditorAPI().selection.getSelectedComponentType(),learn_more:!0,origin:h.default.BI.HELP.ORIGIN.PANEL,panel_name:this.props.panelName};this.props.openHelpCenter(e,null,t)},render(){return n.default.createElement(m.default,{panelName:this.props.panelName,isSingleInstance:!0,useScroll:!1,contentWrapperClass:"color-picker-panel",isBlockingLayerFullScreen:this.props.isBlockingLayerFullScreen,shouldBlockOuterScroll:this.props.shouldBlockOuterScroll,contentStyle:this.getFrameContentStyle(),contentClass:"color-picker-panel-content-wrapper",measurements:this.props.measurements,reportMeasurements:this.props.reportMeasurements,selectedColor:this.state.selectedColor,renderContent:e=>(this.startContentDrag=e,[y.call(this),S.call(this)])})}}),R=[{type:"session",key:h.default.USER_PREFS.THEME.COLORS.CUSTOM.COMPS_ADDED,propName:"customCompsAddedColors",updatePropName:"setCustomCompsAddedColors"},{type:"session",key:h.default.USER_PREFS.THEME.COLORS.CUSTOM.USER_ADDED,propName:"customUserAddedColors",updatePropName:"setCustomUserAddedColors"}],M=o.default.flowRight(p.default.bi.hoc.reportBiEventOnUiChange,c.default.withUserPreferences(R),u.hoc.connect(u.hoc.STORES.STATE_ONLY,o.default.constant({}),e=>({openHelpCenter(t,a,l){e(v(t,a,l))},openPanel(t,a,l){e(I(t,a,l))},updatePanelProps(t,a){e(T(t,a))},stylableEditorSetUserColors(){e(D.setUserColors())}}),void 0,!1),N)(w);return M.pure=w,M}.apply(t,l))||(e.exports=n)},2034:function(e,t,a){var l,n;l=[a,t,a(0),a(9),a(3),a(198)],void 0===(n=function(e,t,a,l,n,i){"use strict";l=a.__importStar(l),n=a.__importDefault(n),i=a.__importDefault(i);return e=>{let{onAddCustomColor:t}=e;return n.default.createElement("label",{className:"color-option first-color-in-row"},n.default.createElement("div",{onClick:t,"data-aid":i.default.AUTOMATION_IDS.BTN.ADD_CUSTOM_COLOR,className:"add-color-button"},n.default.createElement(l.symbol,{name:"add-custom-color-plus"})))}}.apply(t,l))||(e.exports=n)},2035:function(e,t,a){var l,n;l=[a,t,a(0),a(2),a(3)],void 0===(n=function(e,t,a,l,n){"use strict";n=a.__importDefault(n);return e=>{let{index:t,onSelectColor:a,onPreview:i,color:o,selected:s,radioGroupId:r,selectedIndex:u,colorOptionClasses:d,automationId:p}=e;return n.default.createElement("label",{"data-aid":p,"data-color":o,onMouseEnter:()=>{i(o)},onMouseLeave:()=>{i(s)},className:"color-option"},n.default.createElement("input",{type:"radio",name:r,value:o,checked:t===u,onChange:()=>{a(o,t)}}),n.default.createElement("div",{style:{backgroundColor:o},className:l.cx(d)}))}}.apply(t,l))||(e.exports=n)},2036:function(e,t,a){var l,n;l=[a,t,a(0),a(5),a(4),a(1),a(11),a(12),a(3),a(48),a(503)],void 0===(n=function(e,t,a,l,n,i,o,s,r,u,d){"use strict";return l=a.__importDefault(l),n=a.__importDefault(n),i=a.__importDefault(i),o=a.__importStar(o),s=a.__importStar(s),r=a.__importDefault(r),u=a.__importDefault(u),d=a.__importDefault(d),l.default({displayName:"addColorPanel",mixins:[o.mixins.editorAPIMixin],propTypes:{valueLink:n.default.shape({value:n.default.string,requestChange:n.default.func}).isRequired,paletteColors:n.default.object.isRequired,top:n.default.string,left:n.default.string,onPreview:n.default.func.isRequired,onCancel:n.default.func.isRequired,siteCustomColors:n.default.arrayOf(n.default.string)},close(){this.getEditorAPI().bi.event(s.events.colorPicker.ADD_COLOR_PANEL_CLOSED,{}),this.getEditorAPI().panelManager.closePanelByName(this.props.panelName)},render(){return r.default.createElement(u.default,{ref:"frame",contentWrapperClass:"custom-color-picker-panel",panelName:this.props.panelName,title:this.props.title,contentStyle:i.default.pick(this.props,["top","left"])},r.default.createElement(d.default,{siteCustomColors:this.props.siteCustomColors,paletteColors:this.props.paletteColors,valueLink:this.props.valueLink,onPreview:this.props.onPreview,onCancel:this.props.onCancel,closeHandler:this.close}))}})}.apply(t,l))||(e.exports=n)},2037:function(e,t,a){var l,n;l=[a,t,a(0),a(1),a(3),a(4),a(2),a(7),a(48),a(10),a(9),a(8)],void 0===(n=function(e,t,a,l,n,i,o,s,r,u,d,p){"use strict";function c(){return n.default.createElement("div",{className:"main-content-change-qab-icon"},n.default.createElement(p.default.PanelHeader,{onHelp:this.openHelpPanel,onClose:this.close,onMouseDown:this.startContentDrag},n.default.createElement(p.default.TextLabel,{value:"mobile_quick_actions_set_up_choose_icon_header",type:"T05"})),this.state.renderIcons?n.default.createElement("div",{key:"qab-icons-wrapper",className:"qab-icons-wrapper"},n.default.createElement(p.default.CustomScroll,null,n.default.createElement("div",{className:"thumbnails-qab-wrapper"},this.props.qabUploadedSvg?n.default.createElement("div",{key:"changeUploadedCustomIcon",onClick:this.openMediaManager,className:"change-uploaded-custom-icon"},n.default.createElement(p.default.Tooltip,{shouldTranslate:!0,closeOnMouseClick:!0,content:"mobile_quick_actions_set_up_change_icon_tooltip"},n.default.createElement(u.symbol,{name:"video-player-change-poster"}))):null,n.default.createElement(p.default.Thumbnails,{value:this.props.currentIcon,options:this.getThumbnailOptions(),onChange:this.onThumbnailChange,addThumbnailProps:this.getAddThumbnailProps()}))),this.shouldRenderChangeColors()?n.default.createElement(p.default.Composites.ButtonLargeFixedBottom,{key:"change-color-icon-qab",className:"change-color-icon"},n.default.createElement(p.default.Button,{onClick:this.switchToChangeColor,automationId:"change-color-icon"},o.translate("mobile_quick_actions_set_up_change_color_button"))):null):null,this.state.renderIcons?null:n.default.createElement("div",{key:"qab-icon-change-color",className:"qab-icon-change-color"},n.default.createElement("div",{className:"btn-back-wrapper"},n.default.createElement(d.button,{label:"mobile_quick_actions_set_up_change_icon_back_button",icon:"arrowLeftSmall",onClick:this.switchToIconsList,className:"btn-back"})),n.default.createElement(p.default.Divider,{long:!0}),n.default.createElement("div",{className:"change-color-content-wrapper"},n.default.createElement(p.default.TextLabel,{value:"mobile_quick_actions_set_up_change_icon_color",className:"color-picker-text"}),n.default.createElement(p.default.ColorPickerInput,{value:this.getCurrentColor(),onClick:this.openColorPicker}))))}l=a.__importDefault(l),n=a.__importDefault(n),i=a.__importDefault(i),o=a.__importStar(o),s=a.__importDefault(s),r=a.__importDefault(r),u=a.__importStar(u),d=a.__importStar(d),p=a.__importDefault(p);const m=new Set(["brand","brand inv"]);function f(e,t,a){return{value:t,illustration:a||n.default.createElement(u.symbol,{name:e,style:{fill:"#2B576E"}})}}class h extends n.default.Component{constructor(e){super(e),this.close=()=>{this.props.closePanelByName(this.props.panelName)},this.shouldRenderChangeColors=()=>this.props.isColoring&&!(this.props.currentIcon===this.props.qabUploadedSvg&&this.props.isUploadedButtonVectorArt),this.onThumbnailChange=e=>{this.props.onChange(e)},this.openHelpPanel=()=>{this.props.openHelpCenter("c318bb09-a14c-49da-8c9e-205e83d11df8")},this.getThumbnailOptions=()=>{const e=this.props.options.map(e=>f(e.symbolName,e.value));if(e.pop(),this.props.qabUploadedSvg){const t=this.props.uploadedSvg&&n.default.createElement("div",{style:{backgroundImage:"url(".concat(o.media.getQabUploadedSvgUrl(this.props.qabUploadedSvg),")"),width:51,height:51,backgroundSize:"30px auto",backgroundPosition:"center",backgroundRepeat:"no-repeat",filter:"invert(30%) sepia(10%) saturate(2399%) hue-rotate(157deg) brightness(94%) contrast(91%)"}});e.unshift(f("my_uploads_images",this.props.qabUploadedSvg,t))}return e},this.openMediaManager=()=>{this.props.openMediaManager(this.props.mediaCategory,"qab_change_icon",{multiSelect:!1,path:"public/ab62ca24cd194952aad0707eead0c0f7/6e81b28a-62f2-4dad-9665-a38767d78666",callback:e=>{if(e){const t=e[0].fileName.split(".")[0];this.props.onChange(t),this.props.setQabUploadedSvg(t,this.props.currentIconRef.id)}}})},this.switchToIconsList=()=>{this.setState({renderIcons:!0})},this.switchToChangeColor=()=>{this.setState({renderIcons:!1})},this.getCurrentColor=()=>this.props.currentColor,this.onChangeColor=e=>{let t=e;(function(e){return l.default.includes(e,"color_")})(e)&&(t=this.props.getColorByTheme(e));const a=this.props.getStyle(this.props.currentIconRef);a.style.properties.color=t,this.props.updateStyle(this.props.currentIconRef,a)},this.openColorPicker=()=>{const e=this.props.getStyle(this.props.currentIconRef);this.props.openPanel("panels.toolPanels.colorPicker.colorPickerPanel",{value:l.default.get(e,"style.properties.color")||"#000000",onChange:this.onChangeColor,isBlockingLayerFullScreen:!0,shouldBlockOuterScroll:!0,top:this.props.top+10,left:this.props.left+10,previewOnHover:!0},!0)},this.getAddThumbnailProps=()=>this.props.qabUploadedSvg?null:{onAddThumbnailClick:this.openMediaManager,label:"",isFirst:!0},e.qabUploadedSvg||e.options.find(t=>t.value===e.currentIcon)||e.setQabUploadedSvg(e.currentIcon,e.currentIconRef.id),this.state={renderIcons:!0}}render(){return n.default.createElement(r.default,{panelName:"panels.toolPanels.changeQabIcon",isSingleInstance:!0,isBlockingLayerFullScreen:!1,shouldBlockOuterScroll:!1,contentStyle:l.default.pick(this.props,["top","left"]),contentClass:"change-qab-icon-content-wrapper",renderContent:e=>(this.startContentDrag=e,c.call(this))})}}h.displayName="ChangeQabIcon",h.propTypes={top:i.default.number.isRequired,left:i.default.number.isRequired,panelName:i.default.string.isRequired,options:i.default.array.isRequired,onChange:i.default.func.isRequired,currentIcon:i.default.string.isRequired,currentColor:i.default.string.isRequired,openMediaManager:i.default.func.isRequired,openPanel:i.default.func.isRequired,getStyle:i.default.func.isRequired,updateStyle:i.default.func.isRequired,getColorByTheme:i.default.func.isRequired,openHelpCenter:i.default.func.isRequired,currentIconRef:i.default.object.isRequired,mediaCategory:i.default.string.isRequired,qabUploadedSvg:i.default.string,closePanelByName:i.default.func.isRequired};return o.hoc.connect(o.hoc.STORES.EDITOR_API,(e,t)=>{let{state:a,editorAPI:n}=e;const i=n.components.style.get(t.selectedComponents[0]),r=n.components.getChildren(t.selectedComponents[0])[t.iconIndex],u=t.getCurrentIcon(),d=u+".svg",p=n.media.vectorImage.getSvgInfoFromCache(d);return p||n.media.vectorImage.fetchSvg(d,l.default.noop),{currentIcon:u,currentIconRef:r,getStyle:n.components.style.get,openPanel:n.panelManager.openPanel,getColorByTheme:n.theme.colors.get,updateStyle:n.components.style.update,openMediaManager:n.mediaServices.mediaManager.open,uploadedSvg:n.media.vectorImage.getSvgFromCache(d),mediaCategory:n.mediaServices.mediaManager.categories.VECTOR_ART,currentColor:n.components.style.get(r).style.properties.color,isColoring:m.has(l.default.get(i,"style.properties.colorScheme")),isUploadedButtonVectorArt:o.media.isSvgVectorArt(p),openHelpCenter:n.panelManager.openHelpCenter,qabUploadedSvg:s.default.editorPlugins.mobile.selectors.qab.qabUploadedSvg(a,r.id)}},e=>({setQabUploadedSvg(t,a){e(s.default.editorPlugins.mobile.actions.qab.setQabUploadedSvg(t,a))},closePanelByName(t){e(s.default.editorPlugins.panels.actions.closePanelByNameAction(t))}}))(h)}.apply(t,l))||(e.exports=n)},2038:function(e,t,a){var l,n;l=[a,t,a(0),a(5),a(1),a(11),a(2),a(7),a(12),a(3),a(48),a(9),a(8),a(6),a(2)],void 0===(n=function(e,t,a,l,n,i,o,s,r,u,d,p,c,m,f){"use strict";l=a.__importDefault(l),n=a.__importDefault(n),i=a.__importStar(i),o=a.__importStar(o),s=a.__importDefault(s),r=a.__importStar(r),u=a.__importDefault(u),d=a.__importDefault(d),p=a.__importStar(p),c=a.__importDefault(c),m=a.__importDefault(m);const h=[{characterSet:"latin",position:"0px 0px",label:"add_languages_english",tooltip:"add_languages_english_tooltip",disabled:!0},{characterSet:"latin-ext",position:"-15px -46px",label:"add_languages_eastern_european",tooltip:"add_languages_eastern_european_tooltip"},{characterSet:"cyrillic",position:"-15px -19px",label:"add_languages_cyrillic",tooltip:"add_languages_cyrillic_tooltip"},{characterSet:"japanese",position:"-15px -123px",label:"add_languages_japanese"},{characterSet:"korean",position:"-15px -96px",label:"add_languages_korean"},{characterSet:"arabic",position:"-15px -150px",label:"add_languages_arabic"},{characterSet:"hebrew",position:"-15px -70px",label:"add_languages_hebrew"}],_=l.default({displayName:"languageSupport",mixins:[o.translationMixin,i.mixins.editorAPIMixin],render(){return u.default.createElement(d.default,{panelName:this.props.panelName,headerTitle:this.translateIfNeeded("add_languages_header_label"),isSingleInstance:!0,helpId:"147f770b-8d82-48b9-aea8-2f07d94c0743",ref:"frame",contentWrapperClass:"language-support-panel",contentStyle:n.default.pick(this.props,["top","left"]),contentClass:"language-support-panel-content-wrapper"},u.default.createElement("div",{className:"label"},this.translateIfNeeded("add_languages_text")),n.default.map(this.state.charsItems,(e,t)=>u.default.createElement("div",{key:e.label,className:f.cx({"language-option":!0,disabled:e.disabled})},u.default.createElement(p.tooltip,{value:e.tooltip,disabled:!e.tooltip,styleType:m.default.UI.TOOLTIP.STYLE_TYPE.SMALL},u.default.createElement(c.default.Checkbox,{label:e.label,disabled:e.disabled,value:e.value,onChange:e=>{this.update(t,e)},labelAfterSymbol:!0})),e.disabled?null:u.default.createElement("span",{key:"example-img",className:"example-img"},u.default.createElement("span",{style:e.style})))),u.default.createElement("footer",null,u.default.createElement("div",{className:"copy-right-text"},u.default.createElement("span",null,this.translateIfNeeded("add_languages_copyright_text"),u.default.createElement("a",{onClick:this.openCopyright,className:"copy-right-link"},this.translateIfNeeded("add_languages_copyright_text_link")))),u.default.createElement(p.button,{label:"add_languages_save_button",onClick:this.setLanguages,className:"btn-confirm-primary"})))},getBackground:()=>"url(".concat(o.media.getMediaUrl("textEditor/langs.v1.png"),")"),getInitialState(){return{charsItems:this.getCharacterSetsArray()}},setLanguages(){this.getEditorAPI().bi.event(r.events.textControls.text_languages_support_dialog_save_click);const e=[];n.default.forEach(this.state.charsItems,(function(t){t.value&&e.push(t.characterSet)})),this.getEditorAPI().dsActions.theme.fonts.updateCharacterSet(e),this.close()},close(){this.getEditorAPI().panelManager.closePanelByName(this.props.panelName)},update(e,t){const a=n.default.clone(this.state.charsItems),l=n.default.clone(a[e]);l.value=t,a[e]=l,this.setState({charsItems:a})},getCharactersSets(){return this.getEditorAPI().dsRead.theme.fonts.getCharacterSet()},openHelpPanelFrame(){this.getEditorAPI().bi.event(r.events.textControls.text_languages_support_learn_more_click),this.getEditorAPI().panelManager.openHelpCenter("147f770b-8d82-48b9-aea8-2f07d94c0743",{},{panel_name:"languageSupport",origin:"languageSupport"})},getCharacterSetsArray(){const e=h,t=[],a=this.getCharactersSets(),l=this.getBackground();return n.default.forEach(e,(function(e){const i={label:e.label,characterSet:e.characterSet,tooltip:e.tooltip,value:n.default.includes(a,e.characterSet),disabled:e.disabled,style:{backgroundImage:l,backgroundPosition:e.position,height:"18px",width:"72px",display:"inline-block"}};t.push(i)})),t},openCopyright(){const e=o.translate("add_languages_copyright_link");window&&window.open(e,"_blank")}}),g=s.default.bi.hoc.reportBiEventOnUiChange(_);return g.pure=_,g}.apply(t,l))||(e.exports=n)},2039:function(e,t,a){var l,n;l=[a,t,a(0),a(5),a(1),a(11),a(2),a(3),a(48),a(9),a(8)],void 0===(n=function(e,t,a,l,n,i,o,s,r,u,d){"use strict";return l=a.__importDefault(l),n=a.__importDefault(n),i=a.__importStar(i),o=a.__importStar(o),s=a.__importDefault(s),r=a.__importDefault(r),u=a.__importStar(u),d=a.__importDefault(d),l.default({displayName:"mobileActionBarSubPanel",mixins:[i.mixins.editorAPIMixin],render(){return s.default.createElement(r.default,{ref:"frame",headerTitle:o.translate("mobile_action_bar_social_title"),panelName:this.props.panelName,isSingleInstance:!0,contentWrapperClass:"actionbar-sub-panel",isBlockingLayerFullScreen:this.props.isBlockingLayerFullScreen,shouldBlockOuterScroll:this.props.shouldBlockOuterScroll,contentStyle:n.default.pick(this.props,["top","left"]),contentClass:"actionbar-sub-panel-content-wrapper"},s.default.createElement(d.default.CustomScroll,{ref:"customScroll",heightRelativeToParent:"100%",addScrolledClass:!0},s.default.createElement("ul",null,n.default.map(this.getSocialLinks(),e=>s.default.createElement("li",{key:e.id,className:"social-link-item"},s.default.createElement(u.tooltip,{value:this.getSocialLinkTooltip(e.id)},s.default.createElement("span",null,s.default.createElement(u.symbol,{name:e.symbol,className:"".concat(e.symbol," symbol")}))),s.default.createElement(u.textInput,{validator:this.validateUrlWithEmptyState,invalidMessage:"mobile_action_bar_social_error_message",placeholder:this.getSocialLinkPlaceholder(e.id),valueLink:this.getValueLink(e.id)}))))))},getSocialLinks:()=>[{id:"blogger",symbol:"mba_social_panel_google_blogger"},{id:"facebook",symbol:"mba_social_panel_facebook"},{id:"flickr",symbol:"mba_social_panel_youtube_flickr"},{id:"google_plus",symbol:"mba_social_panel_google_plus"},{id:"linkedin",symbol:"mba_social_panel_google_linkdin"},{id:"pinterest",symbol:"mba_social_panel_pinterest"},{id:"tumblr",symbol:"mba_social_panel_google_tumblr"},{id:"twitter",symbol:"mba_social_panel_twitter"},{id:"vimeo",symbol:"mba_social_panel_youtube_vimeo"},{id:"youtube",symbol:"mba_social_panel_youtube"}],getSocialLinkPlaceholder:e=>"mobile_action_bar_".concat(e="google_plus"===e?"google":e,"_placeholder"),getValueLink(e){const t=this.getEditorAPI().mobile.actionBar.actions,a=t.get().socialLinks;return{value:a[e],requestChange:function(e,l){const i={};a[e]=l,i.socialLinks=a;const o=n.default(a).values().compact().value().length>0;t.update(i),t.enable({socialLinks:o})}.bind(this,e)}},getSocialLinkTooltip:e=>"mobile_action_bar_".concat(e="google_plus"===e?"google":e,"_tooltip"),validateUrlWithEmptyState:e=>o.validate.url(e)||""===e})}.apply(t,l))||(e.exports=n)},2040:function(e,t,a){var l,n;l=[a,t,a(0),a(5),a(4),a(1),a(7),a(2),a(12),a(3),a(28),a(9),a(8),a(10),a(2041)],void 0===(n=function(e,t,a,l,n,i,o,s,r,u,d,p,c,m,f){"use strict";l=a.__importDefault(l),n=a.__importDefault(n),i=a.__importDefault(i),o=a.__importDefault(o),s=a.__importStar(s),r=a.__importStar(r),u=a.__importDefault(u),d=a.__importDefault(d),p=a.__importStar(p),c=a.__importDefault(c),m=a.__importStar(m),f=a.__importDefault(f);const{getList:h,getQueue:_,getUploadedItems:g}=o.default.editorPlugins.uploadedFonts.selectors,{setUploadedItems:E,assignFlagToQueueItem:b,cancelUpload:P,prepareUploadedFontsData:C,removeFonts:y,clearUploadQueue:S,uploadItems:N}=o.default.editorPlugins.uploadedFonts.actions,{updateOrOpenPanel:T,closePanelByName:I}=o.default.editorPlugins.panels.actions,v=l.default({displayName:"fontsUploadPanel",mixins:[s.translationMixin],propTypes:{panelName:n.default.string,geoLocation:n.default.string.isRequired,uploadedFontsList:n.default.object,uploadedFontsQueue:n.default.object,uploadedFontsItems:n.default.object,setUploadedItems:n.default.func.isRequired,assignFlagToQueueItem:n.default.func.isRequired,cancelUpload:n.default.func.isRequired,clearUploadQueue:n.default.func.isRequired,prepareUploadedFontsData:n.default.func.isRequired,removeFonts:n.default.func.isRequired,uploadItems:n.default.func.isRequired,closePanelByName:n.default.func.isRequired,updateOrOpenPanel:n.default.func.isRequired,reportBi:n.default.func.isRequired},render(){return u.default.createElement(d.default,{ref:"frame",panelName:this.props.panelName,shouldNotCloseOnBlur:!0,onClose:this.handlePanelCloseClick,title:this.translateIfNeeded("UPLOAD_FONTS_Panel_Header"),helpId:"96323a82-c61a-4ac1-90ac-10aecb37cbf8",width:"600",onContextMenu:e=>{e.preventDefault()},className:"fonts-upload-panel"},u.default.createElement("div",{className:"fonts-upload-header"},u.default.createElement("span",{className:"general-explanation-text"},this.shouldFilterOtfFiles()?this.translateIfNeeded("Upload_Fonts_Panel_Header_Text_CJK"):this.translateIfNeeded("Upload_Fonts_Panel_Header_Text")),u.default.createElement(p.fileInput,{label:"Upload_Fonts_Upload_Button",onChange:e=>{this.handleUpload(e,!1)},fileTypes:this.getFileTypes(),className:"font-upload-button"})),this.shouldShowFontsList()?null:u.default.createElement(p.filesDrop,{onChange:e=>{this.handleUpload(e,!0)},key:"empty-fonts-list",className:"empty-msg"},u.default.createElement("div",{className:"empty-message-container"},u.default.createElement("div",{className:"empty-symbol-container"},u.default.createElement(m.symbol,{name:"fonts-manager-clipart"})),u.default.createElement("span",{className:"empty-text-title"},this.translateIfNeeded("Upload_Fonts_Empty_State_Title")),u.default.createElement("br",null),u.default.createElement("span",{className:"empty-text"},this.shouldFilterOtfFiles()?this.translateIfNeeded("Upload_Fonts_Empty_State_Text_CJK"):this.translateIfNeeded("Upload_Fonts_Empty_State_Text")),u.default.createElement(p.fileInput,{label:"Upload_Fonts_Empty_State_Text_Link",onChange:e=>{this.handleUpload(e,!1)},onlyText:!0,fileTypes:this.getFileTypes(),className:"font-upload-link"}))),this.shouldShowFontsList()?u.default.createElement(p.filesDrop,{key:"fonts-list",hasBorder:!1,onChange:e=>{this.handleUpload(e,!0)},className:"list"},u.default.createElement(c.default.CustomScroll,{ref:"customScroll"},u.default.createElement("div",{className:"font-list-container"},i.default.map(this.state.invalidFiles,e=>u.default.createElement(f.default,Object.assign({key:e.name},this.getInvalidFilesProps(e)))),i.default.map(this.getFontsList(),(e,t)=>u.default.createElement(f.default,Object.assign({key:e.fontFamily||e.fileName+t},e)))))):null,u.default.createElement("div",{className:"fonts-upload-footer"},this.shouldShowFooterMsg()?u.default.createElement("span",{key:"upload-text",className:"footer-msg"},this.translateIfNeeded("Upload_Fonts_Footer_Text")):null,this.shouldShowErrorMsg()?u.default.createElement("span",{key:"error-text",className:"footer-error-msg"},this.translateIfNeeded("Upload_Fonts_Footer_Error_Text")):null,u.default.createElement(p.button,{label:this.getButtonLabel(),disabled:this.isUploadInProcess(),onClick:this.handleDoneClick,className:"default btn-md close-panel"})))},getInitialState:()=>({invalidFiles:[],isUploadStarted:!1,isUploadError:!1}),handleUpload(e,t){const a=this.shouldFilterOtfFiles();if(e.length>20)return void this.setState({isUploadError:!0});this.sendUploadBIEvents(e,t);const l=i.default.reduce(e,(function(e,t){return s.fontsManagerUtils.isFolder(t)?(t.errorCode="999998",e.push(t)):s.fontsManagerUtils.isFontExt(t,a)||(t.errorCode="-7751",e.push(t)),e}),[]),n=i.default.difference(e,l);i.default.forEach(l,e=>{this.sendUploadFailedBi(e.errorCode,e)}),this.setState({isUploadError:!1,invalidFiles:l,isUploadStarted:!0}),this.props.uploadItems(n)},sendUploadBIEvents(e,t){const a=t?r.events.fontsUploadPanel.Fonts_Dragged:r.events.fontsUploadPanel.Upload_Fonts_Click;this.props.reportBi(a,{count:e.length}),i.default.forEach(e,e=>{this.props.reportBi(r.events.fontsUploadPanel.Upload_Fonts_Try_Upload,{name:e.name})})},sendUploadFailedBi(e,t){const a=s.fontsManagerUtils.getErrorMessage(e).bi_msg;this.props.reportBi(r.events.fontsUploadPanel.Upload_Failed,{message:a,name:t.name})},getFontProps(e){const t=!!e.status&&!e.fontFamily;let a="";return t?t&&(a=e.status):a=s.fontsManagerUtils.constants.FONT_STATUS.FINISHED,{fileName:e.name,name:e.displayName,fontFamily:e.fontFamily,status:a,errorCode:e.error_code,downloadable:!t,downloadUrl:e.downloadUrl,removeable:!t,finished:e.status===s.fontsManagerUtils.constants.FONT_STATUS.SUCCEEDED||this.isUploadedItem(e),onRemoveClick:i.default.partial(this.handleRemoveClick,e),onDownloadClick:i.default.partial(this.handleDownloadClick,e),cancelable:e.status===s.fontsManagerUtils.constants.FONT_STATUS.WAITING,isStillUploading:e.stillUploading,onCancelClick:t?i.default.partial(this.handleCancleClick,e):null}},isUploadedItem(e){return e.id&&!!i.default.get(this.props.uploadedFontsItems,e.id)},getFontsList(){const e=this.getQueueItems().concat(this.getExistingItems());return i.default.map(e,this.getFontProps)},getInvalidFilesProps:e=>({fileName:e.name,status:s.fontsManagerUtils.constants.FONT_STATUS.FAILED,errorCode:e.errorCode}),getExistingItems(){const e=this.props.uploadedFontsQueue;return i.default.reject(this.props.uploadedFontsList,(function(t){return i.default.find(e,{id:t.id})}))},getQueueItems(){const e=this.props.uploadedFontsQueue;return i.default.reject(e,(function(e){return e.removed||e.isAborted()||e.canceled}))},componentWillUnmount(){this.cancelAllUpload(),this.props.prepareUploadedFontsData()},shouldShowFontsList(){return!i.default.isEmpty(this.getExistingItems())||!i.default.isEmpty(this.getQueueItems())||!i.default.isEmpty(this.state.invalidFiles)},handleRemoveClick(e){this.props.reportBi(r.events.fontsUploadPanel.Delete_File,{}),this.openDeleteConfirmationPanel(e)},handleDownloadClick(){this.props.reportBi(r.events.fontsUploadPanel.Download_File_Click,{})},openDeleteConfirmationPanel(e){const t=i.default.partial(this.removeItem,e);this.props.updateOrOpenPanel("panels.toolPanels.deleteFontMsg",{panelName:"deleteFontConfirmation",onConfirm:t,onCancel:()=>{this.props.reportBi(r.events.fontsUploadPanel.Approve_Delete_File,{text:"cancel"})}},!0)},removeItem(e){this.props.reportBi(r.events.fontsUploadPanel.Approve_Delete_File,{text:"delete"});const t=this.props.uploadedFontsQueue,a=i.default.findIndex(t,{id:e.id});let l=this.props.uploadedFontsItems;-1!==a&&(this.props.assignFlagToQueueItem(a,{removed:!0}),l[e.id]&&(l=i.default.clone(l),delete l[e.id]),this.props.setUploadedItems(l)),this.props.removeFonts([e])},handleCancleClick(e){e.status===s.fontsManagerUtils.constants.FONT_STATUS.WAITING&&(this.props.reportBi(r.events.fontsUploadPanel.Cancel_Upload,{name:e.name}),this.cancelUpload(i.default.indexOf(this.props.uploadedFontsQueue,e)))},cancelUpload(e){this.props.cancelUpload(e)},cancelAllUpload(){const e=this,t=i.default.filter(this.props.uploadedFontsQueue,{status:s.fontsManagerUtils.constants.FONT_STATUS.WAITING}),a=i.default.map(t,e=>i.default.indexOf(this.props.uploadedFontsQueue,e));this.isUploadInProcess()&&t&&i.default.forEach(a,(function(t){e.cancelUpload(t)})),this.props.clearUploadQueue()},handlePanelCloseClick(){return!this.isUploadInProcess()||(this.openCancelConfirmationPanel(),!1)},openCancelConfirmationPanel(){const e=this;this.props.updateOrOpenPanel("panels.toolPanels.cancelFontUploadMsg",{panelName:"cancelUploadConfirmation",onConfirm:function(){e.props.reportBi(r.events.fontsUploadPanel.Approve_Stop_Upload,{}),e.closePanel()},onCancel:function(){return!1}},!0)},isAnyInQueueProcessing(){return i.default.some(this.props.uploadedFontsQueue,{status:s.fontsManagerUtils.constants.FONT_STATUS.PROCESSING})},isAnyInQueueWaiting(){return i.default.some(this.props.uploadedFontsQueue,{status:s.fontsManagerUtils.constants.FONT_STATUS.WAITING})},isAnyInQueueUploading(){return i.default.some(this.props.uploadedFontsQueue,{status:s.fontsManagerUtils.constants.FONT_STATUS.UPLOADING})},closePanel(){this.props.closePanelByName(this.props.panelName)},handleDoneClick(){this.props.reportBi(r.events.fontsUploadPanel.Closed_Button_Click,{}),this.closePanel()},getButtonLabel(){return this.state.isUploadStarted?"Upload_Fonts_Close_Button_2":"Upload_Fonts_Close_Button_1"},isUploadInProcess(){return this.isAnyInQueueProcessing()||this.isAnyInQueueWaiting()||this.isAnyInQueueUploading()},shouldShowFooterMsg(){return!this.state.isUploadError&&!i.default.isEmpty(this.props.uploadedFontsItems)&&!this.isUploadInProcess()},shouldShowErrorMsg(){return this.state.isUploadError},getFileTypes(){const e=this.shouldFilterOtfFiles()?s.fontsManagerUtils.constants.CONVERTED_EXTENTIONS:s.fontsManagerUtils.constants.ACCEPTABLE_EXTENTIONS;return i.default.map(e,(function(e){return".".concat(e)})).join(",")},shouldFilterOtfFiles(){const e=s.languages.getLanguageCode();return s.fontsManagerUtils.shouldFilterOtfFiles(e,this.props.geoLocation)}}),D={setUploadedItems:E,assignFlagToQueueItem:b,cancelUpload:P,prepareUploadedFontsData:C,removeFonts:y,uploadItems:N,clearUploadQueue:S,updateOrOpenPanel:T,closePanelByName:I,reportBi:function(){return o.default.editorPlugins.bi.actions.event(...arguments)}},A=i.default.flow(s.hoc.renderWhenMutated,s.hoc.connect(s.hoc.STORES.STATE_AND_DS,e=>{let{state:t,dsRead:a}=e;return{uploadedFontsList:h(t),uploadedFontsQueue:_(t),uploadedFontsItems:g(t),geoLocation:a.generalInfo.getGeo()}},D))(v);return A.pure=v,A}.apply(t,l))||(e.exports=n)},2041:function(e,t,a){var l,n;l=[a,t,a(0),a(4),a(2),a(3),a(9),a(10),a(6),a(2)],void 0===(n=function(e,t,a,l,n,i,o,s,r,u){"use strict";var d;l=a.__importDefault(l),n=a.__importStar(n),i=a.__importDefault(i),o=a.__importStar(o),s=a.__importStar(s),r=a.__importDefault(r);return(d=class extends i.default.Component{constructor(){super(...arguments),this.getStyle=()=>{if(this.props.fontFamily){return{fontFamily:"".concat(this.props.fontFamily,",").concat("HelveticaNeueW01-45Ligh, HelveticaNeueW02-45Ligh, HelveticaNeueW10-45Ligh, Helvetica Neue, Helvetica, Arial, メイリオ, meiryo, ヒラギノ角ゴ pro w3, hiragino kaku gothic pro, sans-serif")}}return{}},this.shouldShowActions=()=>this.props.downloadable||this.props.removeable,this.shouldShowCancel=()=>this.props.cancelable,this.getStatusSymbol=()=>({uploading:"font-uploading-loader",waiting:"font-uploading-loader",processing:"font-uploading-loader",succeeded:"inputValidationSuccess",failed:"inputValidationError"}[this.props.status]),this.getDownloadProps=()=>{const e={};return n.browserUtil.isChrome()?e.download=this.props.fileName:e.target="_blank",e},this.getStatusMessage=()=>{let e="";return e=this.props.errorCode?n.fontsManagerUtils.getErrorMessage(this.props.errorCode).translate_msg:this.props.isStillUploading?"Upload_Fonts_Status_Still_Uploading":n.fontsManagerUtils.constants.FONT_STATUS_MSG[this.props.status]||"",e}}render(){var e;return i.default.createElement("div",{className:"font-item ".concat(this.shouldShowActions()?"with-actions ":""," ").concat(this.shouldShowCancel()?"cancelable":""," ").concat(this.props.status&&!this.props.fontFamily?"queue":"list"," ").concat(this.props.errorCode?"error":""," ").concat(this.props.finished?"animated":"")},i.default.createElement("div",{className:"font-description ".concat(this.props.fontFamily?"uploaded":"")},i.default.createElement("span",{style:this.getStyle(),className:"font-title display-name ".concat(this.props.fontFamily?"uploaded":"")},this.props.name),i.default.createElement("span",{className:"font-title file-name"},this.props.fileName),i.default.createElement("span",{className:"font-status-msg"},n.translate(this.getStatusMessage()))),i.default.createElement("div",{className:"indicator"},this.getStatusSymbol()?i.default.createElement(s.symbol,{name:this.getStatusSymbol(),key:"status-symbol",className:this.props.status||""}):null),this.props.finished?i.default.createElement("div",{key:"finished-symbol",className:"indicator finished"},i.default.createElement(s.symbol,{name:"inputValidationSuccess"})):null,i.default.createElement("div",{className:"cancel-icon"},i.default.createElement(s.symbol,{name:"headerCloseButton",onClick:this.props.onCancelClick,className:"cancel-btn"})),i.default.createElement("div",{className:"actions"},i.default.createElement(o.tooltip,{value:"Upload_Fonts_Download_Tooltip",styleType:r.default.UI.TOOLTIP.STYLE_TYPE.SMALL},i.default.createElement("div",{className:"action-btn-container"},this.props.downloadable?i.default.createElement("a",Object.assign({href:this.props.downloadUrl,onClick:this.props.onDownloadClick,key:"download-btn"},this.getDownloadProps(),{className:u.cx("action-btn download",null===(e=this.getDownloadProps())||void 0===e?void 0:e.className)}),i.default.createElement(s.symbol,{name:"font-download"})):null)),i.default.createElement(o.tooltip,{value:"Upload_Fonts_Delete_Tooltip",styleType:r.default.UI.TOOLTIP.STYLE_TYPE.SMALL},i.default.createElement("div",{className:"action-btn-container"},this.props.removeable?i.default.createElement("a",{onClick:this.props.onRemoveClick,key:"remove-btn",className:"action-btn"},i.default.createElement(s.symbol,{name:"font-delete"})):null))))}}).displayName="fontItem",d.propTypes={fontFamily:l.default.string,name:l.default.string,status:l.default.string,onDownloadClick:l.default.func,onRemoveClick:l.default.func,onCancelClick:l.default.func,downloadable:l.default.bool,removeable:l.default.bool,cancelable:l.default.bool,isStillUploading:l.default.bool,errorCode:l.default.string},d}.apply(t,l))||(e.exports=n)},2042:function(e,t,a){var l,n;l=[a,t,a(0),a(4),a(3),a(67),a(2),a(8)],void 0===(n=function(e,t,a,l,n,i,o,s){"use strict";var r;return l=a.__importDefault(l),n=a.__importDefault(n),i=a.__importDefault(i),o=a.__importStar(o),s=a.__importDefault(s),(r=class extends n.default.Component{render(){return n.default.createElement(i.default,{panelName:this.props.panelName,onConfirm:this.props.onConfirm,onCancel:this.props.onCancel,confirmLabel:"Upload_Fonts_Delete_Pop_Up_Button_1",cancelLabel:"Upload_Fonts_Delete_Pop_Up_Button_2",type:"danger",panelTitle:o.translate("Upload_Fonts_Delete_Pop_Up_Header"),className:"delete-font-message"},n.default.createElement(s.default.RichText,{type:"T01",automationId:"confirmOpenDescription"},o.translate("Upload_Fonts_Delete_Pop_Up_Text")))}}).displayName="deleteFontMsg",r.propTypes={panelName:l.default.string.isRequired,onConfirm:l.default.func.isRequired,onCancel:l.default.func.isRequired},r}.apply(t,l))||(e.exports=n)},2043:function(e,t,a){var l,n;l=[a,t,a(0),a(3),a(67),a(2),a(8)],void 0===(n=function(e,t,a,l,n,i,o){"use strict";var s;return l=a.__importDefault(l),n=a.__importDefault(n),i=a.__importStar(i),o=a.__importDefault(o),(s=class extends l.default.Component{render(){return l.default.createElement(n.default,{panelName:this.props.panelName,onConfirm:this.props.onConfirm,onCancel:this.props.onCancel,confirmLabel:"Upload_Fonts_Close_Panel_Pop_Up_Button_1",cancelLabel:"Upload_Fonts_Close_Panel_Pop_Up_Button_2",type:"danger",panelTitle:i.translate("Upload_Fonts_Close_Panel_Pop_Up_Header"),className:"close-font-message"},l.default.createElement(o.default.RichText,{type:"T01"},i.translate("Upload_Fonts_Close_Panel_Pop_Up_Text")))}}).displayName="cancelFontUploadMsg",s}.apply(t,l))||(e.exports=n)},2044:function(e,t,a){var l,n;l=[a,t,a(0),a(27),a(5),a(1),a(11),a(117),a(12),a(2),a(3),a(9),a(48),a(8)],void 0===(n=function(e,t,a,l,n,i,o,s,r,u,d,p,c,m){"use strict";l=a.__importDefault(l),n=a.__importDefault(n),i=a.__importDefault(i),o=a.__importStar(o),s=a.__importDefault(s),r=a.__importStar(r),u=a.__importStar(u),d=a.__importDefault(d),p=a.__importStar(p),c=a.__importDefault(c),m=a.__importDefault(m);const f=Object.freeze({STRING:"string",DATE:"date",NUMBER:"number",IMAGE:"image",BOOLEAN:"bool",RICH_TEXT:"richText"});return n.default({displayName:"gridAddColumnPanel",mixins:[o.mixins.editorAPIMixin,l.default],panelTitle:"TABLE_ADD_PANEL_TITLE",getInitialState(){return{label:this.props.labelPrefix+this.props.nextIndex,fieldName:this.props.fieldNamePrefix+this.props.nextIndex,type:f.STRING,fieldNameWasEdited:!1,isFormValid:!0}},render(){return d.default.createElement(c.default,{ref:"frame",panelName:"panels.toolPanels.gridAddColumnPanel",contentWrapperClass:"grid-add-column-toolbar",contentStyle:i.default.pick(this.props,["top","left"]),onClose:this.onClose},d.default.createElement("div",{className:"grid-add-column-panel"},d.default.createElement(m.default.PanelHeader,{ref:"panelHeader",onClose:this.onCloseButtonClick,noHelpBtn:!0,className:"header light"},d.default.createElement("span",{className:"panel-title"},u.translate(this.panelTitle))),d.default.createElement("div",{className:"header-separator"}),d.default.createElement("div",{className:"grid-add-column-toolbar-content"},d.default.createElement(p.textInput,{label:"TABLE_ADD_PANEL_COL_TITLE_LABEL",value:this.state.label,onChange:this.onLabelChange}),d.default.createElement("hr",{className:"divider-long"}),d.default.createElement(p.textInput,{label:"TABLE_ADD_PANEL_FIELD_NAME_LABEL",ref:"fieldNameInput",value:this.state.fieldName,validator:this.fieldNameValidator,invalidMessage:"FIELD_NAME_CANNOT_BE_EMPTY",onValidation:this.onFieldNameValidation,onChange:this.onFieldNameChange}),d.default.createElement("hr",{className:"divider-long"}),d.default.createElement(p.dropDown.select,{label:"TABLE_ADD_PANEL_TYPE_LABEL",valueLink:this.linkState("type")},i.default.map(this.typeOptions,e=>d.default.createElement(p.dropDown.option,{key:e.value,value:e.value,shouldTranslate:!1},e.label))),d.default.createElement("hr",{className:"divider-long"}),d.default.createElement("div",{className:"button-row"},d.default.createElement(p.button,{disabled:!this.state.isFormValid,label:"TABLE_ADD_PANE_DONE_BTN",onClick:this.onAddButtonClick,className:"button"})))))},onCloseButtonClick(){this.reportPanelClosed(s.default.HEADER_CLOSE_BUTTON),this.getEditorAPI().panelManager.closePanelByName(this.props.panelName)},onAddButtonClick(){this.state.isFormValid&&(this.props.addColumnCallback(this.state.label,this.state.fieldName,this.state.type),this.reportPanelClosed(s.default.DONE_BUTTON),this.getEditorAPI().panelManager.closePanelByName(this.props.panelName))},onLabelChange(e){const t={label:e};if(!this.state.fieldNameWasEdited){const a=e.toLowerCase().replace(/\s+/g,"_").replace(/[^a-z0-9_]/g,"");0!==a.length&&(t.fieldName=a)}this.setState(t)},fieldNameValidator:e=>e.length>0,onFieldNameChange(e){this.setState({fieldName:e,fieldNameWasEdited:!0})},onFieldNameValidation(e){this.setState({isFormValid:e})},typeOptions:[{value:f.STRING,label:u.translate("TABLE_ADD_PANEL_TYPE_OPT1")},{value:f.IMAGE,label:u.translate("TABLE_ADD_PANEL_TYPE_OPT2")},{value:f.NUMBER,label:u.translate("TABLE_ADD_PANEL_TYPE_OPT3")},{value:f.BOOLEAN,label:u.translate("TABLE_ADD_PANEL_TYPE_OPT4")},{value:f.DATE,label:u.translate("TABLE_ADD_PANEL_TYPE_OPT5")},{value:f.RICH_TEXT,label:u.translate("TABLE_ADD_PANEL_TYPE_OPT6")}],onClose(e){this.reportPanelClosed(e)},getSelectedComponentId(){const e=this.props.selectedComponents;return i.default.isArray(e)?i.default.head(e).id:e.id},reportPanelClosed(e){const t=this.getEditorAPI();t.bi.event(r.events.grid.GRID_ADD_COLUMN_DONE,{siteId:t.dsRead.generalInfo.getSiteId(),componentId:this.getSelectedComponentId(),panelName:this.panelTitle,columnType:this.state.type,fieldName:this.state.fieldName,columnTitle:this.state.label,origin:e})}})}.apply(t,l))||(e.exports=n)},2045:function(e,t,a){var l,n;l=[a,t,a(0),a(27),a(1),a(2),a(11),a(12),a(5),a(3),a(48),a(8),a(9)],void 0===(n=function(e,t,a,l,n,i,o,s,r,u,d,p,c){"use strict";function m(e,t){const a=e.data.createItem("PageLink");return t&&(a.pageId="#".concat(t)),a}function f(e){const{pages:t}=s.events.topbar,{event:a}=e.bi;return{clickOnSaveSettings:()=>a(t.custom_signup_panel_save),clickOnSaveLinkPanel:()=>a(t.custom_signup_panel_link_panel_save),clickOnCancelLinkPanel:()=>a(t.custom_signup_panel_link_panel_cancel),clickOnLinkButton:()=>a(t.custom_signup_panel_link_panel_open)}}return l=a.__importDefault(l),n=a.__importDefault(n),i=a.__importStar(i),o=a.__importStar(o),s=a.__importStar(s),r=a.__importDefault(r),u=a.__importDefault(u),d=a.__importDefault(d),p=a.__importDefault(p),c=a.__importStar(c),r.default({displayName:"customSignupSettingsPanel",mixins:[o.mixins.editorAPIMixin,l.default],getInitialState(){const e=this.getEditorAPI().siteMembers.getCustomSignupPageId();return{customSignupPageId:e,customSignupPageLink:null,isCustomSignupEnabled:!!e}},toggleCustomSignupEnabled(){this.setState({isCustomSignupEnabled:!this.state.isCustomSignupEnabled})},getCustomSignupPageLabel(){const e=this.getEditorAPI(),{customSignupPageId:t,customSignupPageLink:a}=this.state;if(!t||!e.data.getById(t))return i.translate("Pages_Custom_Signup_Settings_Custom_Signup_Link_Action_Placeholder");if(a)return i.link.getLinkValueAsString(e,a);const l=e.data.getById(t);return n.default.get(l,"title","")},openLinkPanel(){const e=this.getEditorAPI(),{customSignupPageId:t}=this.state;f(e).clickOnLinkButton(),e.openLinkPanel({visibleSections:{PopupLink:!0,PageLink:!1,AnchorLink:!1,NoLink:!1,PhoneLink:!1,WhatsAppLink:!1,ExternalLink:!1,EmailLink:!1,DocumentLink:!1,LoginToWixLink:!1,EdgeAnchorLinks:!1},defaultLinkType:"PopupLink",initialTabToDisplay:"PopupLink",link:m(e,t),showAllPopups:!0,hidePageLinks:!0,pageTabTitle:"LINK_PANEL_TAB_ANCHOR",pageTabPageDropDownTitle:"PLATFORM_LINK_MENU_PAGE_PAGE_OPTION",anchorTabPageDropDownTitle:"LINK_PANEL_PAGE_DROP_DOWN_PAGELINK_LABEL",title:"Pages_Custom_Signup_Settings_Link_Panel_Header",onCancelCallback:()=>f(e).clickOnCancelLinkPanel(),callback:this.updateCustomSignupState,hideLinkTarget:!0})},updateCustomSignupState(e){const t=e?n.default.get(e,"pageId").replace("#",""):null;this.setState({customSignupPageLink:e,customSignupPageId:t}),f(this.getEditorAPI()).clickOnSaveLinkPanel()},applySettings(){const e=this.getEditorAPI().siteMembers,{customSignupPageId:t,isCustomSignupEnabled:a}=this.state;e.getCustomSignupPageId()!==t&&e.setCustomSignupPageId(t),a||e.setCustomSignupPageId(null),f(this.getEditorAPI()).clickOnSaveSettings(),this.getEditorAPI().panelManager.closePanelByName(this.props.panelName)},isSaveEnabled(){const e=this.getEditorAPI().siteMembers,{customSignupPageId:t,isCustomSignupEnabled:a}=this.state;return e.getCustomSignupPageId()!==t||t&&!a},render(){const e=i.translate;return u.default.createElement(d.default,{panelName:this.props.panelName,helpId:"bb75971d-c8cf-4130-bbf6-a333a831932a",headerTitle:e("Pages_Custom_Signup_Settings_Header_Title"),contentClass:"custom-signup-settings-panel",contentWrapperClass:"custom-signup-settings-panel-wrapper"},u.default.createElement(p.default.Composites.RichText,null,u.default.createElement(p.default.RichText,{className:"light"},e("pages_Custom_Signup_Settings_Custom_Signup_Description_Label"))),u.default.createElement(p.default.Divider,null),u.default.createElement("div",{className:"tab-content"},u.default.createElement("div",{className:"settings"},u.default.createElement("div",{className:"options"},u.default.createElement("section",{className:"option"},u.default.createElement(c.toggle,{name:"switch",value:this.state.isCustomSignupEnabled,onChange:this.toggleCustomSignupEnabled,label:"Pages_Custom_Signup_Settings_Custom_Signup_Enabled_Label"}))),u.default.createElement(p.default.Divider,null),this.state.isCustomSignupEnabled?u.default.createElement("section",{key:"customSignupLink",className:"option"},u.default.createElement(p.default.Composites.ActionWithSymbolLabeled,null,u.default.createElement(p.default.TextLabel,{value:"Pages_Custom_Signup_Settings_Custom_Signup_Link_Action_Label",shouldTranslate:!0}),u.default.createElement(p.default.ActionWithSymbol,{action:this.openLinkPanel},u.default.createElement(p.default.TextLabel,{value:this.getCustomSignupPageLabel(),shouldTranslate:!1})))):null)),u.default.createElement(p.default.Divider,{long:!0}),u.default.createElement("footer",{className:"actions"},u.default.createElement(p.default.Tooltip,{disabled:this.isSaveEnabled(),content:"Pages_Custom_Signup_Settings_Custom_Signup_Disabled_Save_Button_Tooltip",shouldTranslate:!0,arrowAlignment:"top",key:"saveButtonTooltip"},u.default.createElement(c.button,{label:"Pages_Custom_Signup_Settings_Custom_Signup_Save_Button_Label",onClick:this.applySettings,disabled:!this.isSaveEnabled(),className:"btn-confirm-primary btn-md"}))))}})}.apply(t,l))||(e.exports=n)},2046:function(e,t,a){var l,n;l=[a,t,a(0),a(27),a(1),a(11),a(5),a(3),a(48),a(8),a(9),a(2)],void 0===(n=function(e,t,a,l,n,i,o,s,r,u,d,p){"use strict";l=a.__importDefault(l),n=a.__importDefault(n),i=a.__importStar(i),o=a.__importDefault(o),s=a.__importDefault(s),r=a.__importDefault(r),u=a.__importDefault(u),d=a.__importStar(d),p=a.__importStar(p);const c=(e,t,a)=>a.map(a=>a.id===e?n.default.assign({},a,{checked:t}):a);return o.default({displayName:"rolesManager",mixins:[i.mixins.editorAPIMixin,l.default],getInitialState(){const{selectedGroups:e,groups:t}=this.props,a=t.map(t=>n.default.find(e,["id",t.id])||t);return{groups:this.props.groups,selectedGroups:a,currentSelection:a}},getGroups(){return this.state.currentSelection},shouldRenderGroups(){return this.state.currentSelection.length>0},onCheckboxToggle(e,t){this.setState({currentSelection:c(e,t,this.state.currentSelection)})},applyChanges(){const{currentSelection:e,selectedGroups:t}=this.state,a=n.default.differenceWith(e,t,n.default.isEqual);a&&this.props.applyButtonCallback(a),this.getEditorAPI().panelManager.closePanelByName(this.props.panelName)},render(){const e=p.translate;return s.default.createElement(r.default,{panelName:this.props.panelName,headerTitle:e(this.props.headerTitle),contentClass:"roles-manager-panel",lightHeader:!0,contentWrapperClass:"roles-manager-panel-wrapper"},s.default.createElement(u.default.Divider,{long:!0}),s.default.createElement("div",{className:"content-section"},this.shouldRenderGroups()?s.default.createElement("div",{key:"should-show-checkbox-container"},n.default.map(this.getGroups(),(e,t)=>s.default.createElement("div",{key:e+t,className:"checkbox-container"},s.default.createElement(u.default.Checkbox,{value:e.checked,label:e.title,name:e.id,disabled:e.disabled,labelAfterSymbol:!0,onChange:t=>{this.onCheckboxToggle(e.id,t)},shouldTranslate:!1}))),s.default.createElement("div",{className:"content-section-divider"},s.default.createElement(u.default.Divider,{long:!0}))):null,s.default.createElement(u.default.Button,{onClick:this.props.addNewButtonCallback,className:"btn-text add-new-role"},s.default.createElement("span",null,e(this.props.addNewButtonLabel)))),s.default.createElement(u.default.Divider,{long:!0}),this.getGroups()?s.default.createElement("footer",{key:"footer",className:"footer-section"},s.default.createElement(u.default.Composites.ButtonLarge,null,s.default.createElement(d.button,{label:this.props.applyButtonLabel,onClick:this.applyChanges,className:"btn-confirm-primary btn-md pp-apply"}))):null)}})}.apply(t,l))||(e.exports=n)},2047:function(e,t,a){var l,n;l=[a,t,a(0),a(22),a(18),a(4),a(2),a(2048),a(3),a(2051),a(497)],void 0===(n=function(e,t,a,l,n,i,o,s,r,u,d){"use strict";l=a.__importDefault(l),n=a.__importDefault(n),i=a.__importDefault(i),o=a.__importStar(o),s=a.__importDefault(s),r=a.__importDefault(r),u=a.__importDefault(u),d=a.__importDefault(d);const{connect:p,STORES:{EDITOR_API:c}}=o.hoc;class m extends r.default.Component{componentDidMount(){const e=l.default(n.default.findDOMNode(this)),t=e.find(".layers-panel .custom-scroll .inner-container"),a=e.find(".selected");a.length>0&&a.offset().top>519&&t.scrollTop(a.offset().top-t.offset().top-55)}render(){return r.default.createElement(d.default,{title:o.translate("Layers_Title"),width:288,height:579,ref:"tpaSettingsFrame",top:"90px",left:"168px",shouldAddScroll:!0,onHelpClicked:this.props.openHelpCenter,onClose:this.props.close,panelName:"panels.toolPanels.layersPanel",className:"layers-panel"},r.default.createElement("div",{className:"layers-panel"},this.props.treeProps.header.childNodes?r.default.createElement(u.default,Object.assign({key:"header"},this.props.treeProps.header)):null,this.props.treeProps.header.childNodes?r.default.createElement("div",{key:"spacer1",className:"spacer"}):null,this.props.treeProps.page.childNodes?r.default.createElement(u.default,Object.assign({key:"page"},this.props.treeProps.page)):null,this.props.treeProps.page.childNodes?r.default.createElement("div",{key:"spacer2",className:"spacer"}):null,this.props.treeProps.footer.childNodes?r.default.createElement(u.default,Object.assign({key:"footer"},this.props.treeProps.footer)):null))}}m.displayName="LayersPanel",m.propTypes={treeProps:i.default.object.isRequired,openHelpCenter:i.default.func.isRequired};const f=p(c,s.default.mapStateToProps,s.default.mapDispatchToProps,void 0,!1)(m);return f.pure=m,f}.apply(t,l))||(e.exports=n)},2048:function(e,t,a){var l,n;l=[a,t,a(0),a(7),a(2049)],void 0===(n=function(e,t,a,l,n){"use strict";l=a.__importDefault(l),n=a.__importDefault(n);const i=(e,t,a)=>{let{editorAPI:l}=a;return l.panelManager.openHelpCenter("4da3c6cd-dbb3-42c9-9fdd-eba0da517833")};return{mapStateToProps:e=>{let{editorAPI:t}=e;return{treeProps:{header:n.default(t,t.dsRead.pages.getReference("SITE_HEADER")),footer:n.default(t,t.dsRead.pages.getReference("SITE_FOOTER")),page:n.default(t,t.dsRead.pages.getFocusedPage())}}},mapDispatchToProps:e=>({openHelpCenter:()=>e(i),close:()=>e(l.default.layersPanel.actions.hideLayersPanel())})}}.apply(t,l))||(e.exports=n)},2049:function(e,t,a){var l,n;l=[a,t,a(0),a(1),a(22),a(7),a(12),a(2050)],void 0===(n=function(e,t,a,l,n,i,o,s){"use strict";l=a.__importDefault(l),n=a.__importDefault(n),i=a.__importDefault(i),o=a.__importStar(o),s=a.__importDefault(s);const r=e=>e.length>25?"".concat(e.substr(0,22),"..."):e,{isGhostRefComponent:u}=i.default.editorPlugins.components.selectors,d=(e,t)=>{const a=e.components.layout.getRelativeToStructure(t);e.ui.scroll.animateScroll({x:0,y:Math.max(a.y-30,0)},.5),e.selection.selectComponentByCompRef(t),e.selection.setIsHiddenComponentDraggedNext(!0)},p=(e,t,a,l,n)=>{e.components.arrangement.moveToIndex(t[l],n),e.store.dispatch(i.default.bi.actions.event(o.events.layers.layer_drag,{previous_position_index:l,current_position_index:n,layer_name:a.label}))},c=(e,t,a)=>{a(t),e.dsRead.components.get.byAncestor(t).forEach(e=>{a(e)}),s.default.setSpotlightComponent(e,null)},m=(e,t,a)=>{const l=e.components.getDisplayName(t);if(0===a)return l;const i=e.developerMode.isEnabled()&&e.components.getNickname(t);if(i)return i;switch(e.dsRead.components.getType(t)){case"wysiwyg.viewer.components.WRichText":return r(n.default(e.components.data.get(t).text).text());case"wysiwyg.viewer.components.SiteButton":return r(e.components.data.get(t).label);case"wysiwyg.viewer.components.RefComponent":const l=e.dsRead.components.getChildren(t);return m(e,l[0],a)}return l},f=(e,t,a)=>{e.parent&&(e.parent[t]=a,f(e.parent,t,a))},h=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{label:""};d(e,t),e.store.dispatch(i.default.bi.actions.event(o.events.layers.layer_click,{layer_name:a.label}))},_=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{label:""};const l=e.dsActions.renderPlugins,n=e.dsRead.renderPlugins.isCompHidden(t);c(e,t,n?l.showComp:l.hideComp),e.store.dispatch(i.default.bi.actions.event(o.events.layers.layer_show_hide,{state:n?"1":"0",layer_name:a.label}))},g=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{label:""};const l=s.default.isComponentSpotlighted(e,t);l||d(e,t);const n=l?"0":"1";s.default.toggleSpotlight(e,t),e.store.dispatch(i.default.bi.actions.event(o.events.layers.layer_spotlight,{state:n,layer_name:a.label}))},E=(e,t)=>{if(e.components.is.skipInLayersPanel(t)){const a=e.dsRead.components.getChildren(t);return l.default.flatMap(a,l.default.partial(E,e))}return t};return function e(t,a){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const r=s.default.isComponentSpotlighted(t,a),d=m(t,a,n),c={parent:o,id:a.id,level:n,label:d,isSelected:t.utils.isSameRef(a,i.default.selection.selectors.getSelectedCompsRefs(t.store.getState())),isHidden:t.documentServices.renderPlugins.isCompHidden(a),onClick:h.bind(null,t,a,{label:d}),onToggleVisibility:_.bind(null,t,a,{label:d}),onToggleSpotlight:g.bind(null,t,a,{label:d}),shouldShowChildren:!1,icon:t.components.getIconInfo(a),isSpotlight:r};c.isSelected&&f(c,"shouldShowChildren",!0);const b=t.dsRead.components.getChildren(a);if(b.length>0){const a=l.default(b).reject(e=>u(e,t.dsRead)).flatMap(e=>E(t,e)).value();c.childNodes=a.map(a=>e(t,a,n+1,c)),c.moveToIndex=p.bind(null,t,a,{label:d})}return c}}.apply(t,l))||(e.exports=n)},2050:function(e,t,a){var l,n;l=[a,t,a(0),a(7)],void 0===(n=function(e,t,a,l){"use strict";l=a.__importDefault(l);const{setSpotlight:n}=l.default.editorPlugins.layers.actions,{getSpotlightComponent:i}=l.default.editorPlugins.layers.selectors,o=(e,t)=>{e.store.dispatch(n(t))},s=(e,t)=>{[e.documentServices.siteSegments.getHeader(),e.documentServices.siteSegments.getFooter(),e.documentServices.pages.getFocusedPage()].forEach(a=>{e.documentServices.components.get.byAncestor(a).forEach(e=>{t(e)})})},r=(e,t)=>{const a=i(e.store.getState());return e.utils.isSameRef(a,t)};return{isComponentSpotlighted:r,toggleSpotlight:(e,t)=>{r(e,t)?(e=>{const t=e.documentServices.renderPlugins;s(e,t.showComp),o(e,null)})(e):((e,t)=>{const a=e.documentServices.renderPlugins;s(e,a.hideComp),o(e,t),((e,t,a)=>{(((e,t)=>{const a=e.documentServices.components.getAncestors(t);if(a&&a.length){const t=a.length-1;if(a[t].id===e.documentServices.pages.getMasterPageId())return a.slice(0,t)}return a})(e,t)||[]).forEach(e=>{a(e)}),a(t)})(e,t,a.showComp)})(e,t)},setSpotlightComponent:o}}.apply(t,l))||(e.exports=n)},2051:function(e,t,a){var l,n;l=[a,t,a(0),a(1),a(4),a(3),a(9),a(8),a(10),a(2)],void 0===(n=function(e,t,a,l,n,i,o,s,r,u){"use strict";l=a.__importDefault(l),n=a.__importDefault(n),i=a.__importDefault(i),o=a.__importStar(o),s=a.__importDefault(s),r=a.__importStar(r);class d extends i.default.Component{constructor(){super(...arguments),this.state={shouldShowChildren:this.props.shouldShowChildren},this.getReactClass=()=>d,this.startDrag=(e,t)=>{this.refs.sortList.startDrag(e,t)},this.toggleShowChildren=()=>{this.hasChildren()&&this.setState({shouldShowChildren:!this.state.shouldShowChildren})},this.shouldShowChildren=()=>this.hasChildren()&&this.state.shouldShowChildren,this.hasChildren=()=>!l.default.isEmpty(this.props.childNodes),this.getImageIconStyle=()=>l.default.merge({},this.props.icon.css,{backgroundImage:"url(".concat(this.props.icon.src,")")})}render(){const e=this.getReactClass();return i.default.createElement("div",{"data-aid":0===this.props.level?"layer-headline":"",className:u.cx({node:!0,headline:0===this.props.level,component:this.props.level>0})},i.default.createElement("div",{"data-aid":this.props.level>0?"layer-item":"layer-header",onMouseDown:e=>{this.props.startDrag&&this.props.startDrag(e)},className:u.cx("item",{selected:this.props.isSelected,hidden:this.props.isHidden,spotlight:this.props.isSpotlight})},i.default.createElement("div",{className:"item-inner"},this.hasChildren()?i.default.createElement("span",{onClick:this.toggleShowChildren,key:"toggleShowChildren","data-aid":"toggle-show-children",className:"toggle-show-children"},this.shouldShowChildren()?null:i.default.createElement(o.symbol,{name:"triangle-right",key:"triangle-right",className:"close"}),this.shouldShowChildren()?i.default.createElement(o.symbol,{name:"triangle-down",key:"triangle-down",className:"open"}):null):null,i.default.createElement("div",{className:u.cx("node-info",{"extra-margin":!this.hasChildren()})},this.props.icon&&this.props.level>0?i.default.createElement("span",{key:"icon",className:"icon"},this.props.icon.svgName?i.default.createElement(o.symbol,{name:this.props.icon.svgName,key:"svg"}):null,this.props.icon.css?i.default.createElement("span",{style:this.getImageIconStyle(),key:"style",className:"image"}):null):null,i.default.createElement("span",{key:this.props.id,onClick:this.props.onClick,className:"title"},i.default.createElement(s.default.TextLabel,{value:this.props.label,type:"T17",shouldTranslate:!1})),this.props.level>0?i.default.createElement("span",{onClick:this.props.onToggleSpotlight,key:"spotlight-handle","data-aid":"layer-toggle-spotlight",className:"toggle-spotlight"},i.default.createElement(o.tooltip,{value:"Layers_SpotlightOff_Tooltip",shouldTranslate:!0},i.default.createElement("div",null,this.props.isSpotlight?i.default.createElement(r.symbol,{name:"spotlight",key:"spotlightOn"}):null)),i.default.createElement(o.tooltip,{value:"Layers_SpotlightOn_Tooltip",shouldTranslate:!0},i.default.createElement("div",null,this.props.isSpotlight?null:i.default.createElement(r.symbol,{name:"spotlight",key:"spotlightOff"})))):null,this.props.level>0?i.default.createElement("span",{onClick:this.props.onToggleVisibility,key:"visibility-handle","data-aid":"layer-toggle-visibility",className:"toggle-visibility"},i.default.createElement(o.tooltip,{value:"Layers_Hide_Tooltip",shouldTranslate:!0},i.default.createElement("div",null,this.props.isHidden?null:i.default.createElement(o.symbol,{name:"showComp",key:"showSymbol"}))),i.default.createElement(o.tooltip,{value:"Layers_Show_Tooltip",shouldTranslate:!0},i.default.createElement("div",null,this.props.isHidden?i.default.createElement(o.symbol,{name:"hiddenPageStatus",key:"hideSymbol"}):null))):null))),this.shouldShowChildren()?i.default.createElement(o.sortByDragList,{key:"sortList",ref:"sortList",onItemMoved:this.props.moveToIndex,className:"sort-list"},l.default.map(this.props.childNodes,(t,a)=>i.default.createElement(e,{id:t.id,key:t.id,label:t.label,onClick:t.onClick,isSelected:t.isSelected,isHidden:t.isHidden,onToggleVisibility:t.onToggleVisibility,onToggleSpotlight:t.onToggleSpotlight,moveToIndex:t.moveToIndex,childNodes:t.childNodes,isSpecialParent:t.isSpecialParent,startDrag:this.startDrag.bind(this,a),level:t.level,icon:t.icon,shouldShowChildren:t.shouldShowChildren,isSpotlight:t.isSpotlight}))):null)}}return d.displayName="LayersNode",d.propTypes={id:n.default.string.isRequired,label:n.default.string.isRequired,onClick:n.default.func,isSelected:n.default.bool,isHidden:n.default.bool,onToggleVisibility:n.default.func,onToggleSpotlight:n.default.func,moveToIndex:n.default.func.isRequired,childNodes:n.default.array,shouldShowChildren:n.default.bool,isSpotlight:n.default.bool},d}.apply(t,l))||(e.exports=n)},2052:function(e,t,a){var l,n;l=[a,t,a(0),a(3),a(18),a(4),a(1),a(2),a(9),a(2053),a(2054),a(8),a(10),a(48)],void 0===(n=function(e,t,a,l,n,i,o,s,r,u,d,p,c,m){"use strict";l=a.__importDefault(l),n=a.__importDefault(n),i=a.__importDefault(i),o=a.__importDefault(o),s=a.__importStar(s),r=a.__importStar(r),u=a.__importDefault(u),d=a.__importDefault(d),p=a.__importDefault(p),c=a.__importStar(c),m=a.__importDefault(m);const{connect:f,STORES:{EDITOR_API:h}}=s.hoc;function _(e,t,a,n,i,o){return{value:o.id,illustration:l.default.createElement(r.imageWithMask,{imageData:e,imageWidth:t,imageHeight:a,imageUrl:i,isClip:n,crop:{width:t,height:a,x:0,y:0,svgId:o.id,svgStr:o.thumbnail.replace("<svg ","<svg id=".concat(o.thumbId," ")),svgDomId:o.thumbId,maskContour:n?null:{width:2,color:"#dae1e9"}}})}}function g(e){return!!e&&o.default.some(u.default.MASKS,{id:e})}const E="public/ec9ed40a-6502-4df2-a088-355405d7bd25",{imageTransform:b}=s;class P extends l.default.Component{constructor(e){super(e),this.scrollToSelectedItem=()=>{const e=n.default.findDOMNode(this.refs.maskCropItems).querySelector("input:checked");if(e){const t=e.parentNode,a=74;this.setState({scrollPosition:Math.max(t.offsetTop-a,0)})}},this.getMaskOptions=()=>{const e=this.props.getCropArea(),t=b.getFromImageData(this.props.imageData,e.width,e.height),a=o.default.map(u.default.MASKS,_.bind(this,this.props.imageData,u.default.MASK_THUMB_SIZE.width,u.default.MASK_THUMB_SIZE.height,!1,t.uri)),l=this.getCurrentMaskThumbnail();return l&&a.unshift(l),a},this.selectMask=(e,t)=>{const{x:a=0,y:l=0,width:n,height:i}=this.props.getCropArea();this.props.setCropArea({svgId:e,svgStr:"",svgDomId:"",width:n,height:i,x:a,y:l},()=>{t&&!g(e)&&this.props.setLastCustomMaskId(e),this.setState({currentSvgId:e})})},this.openMMgr=()=>{const e=this.props.mediaManager.categories.VECTOR_ART,t=this.props.lastCustomMaskId,a=this.props.imageData.id,l=t&&this.props.getMMgrPath("last_svg_mask_path_".concat(a))||E;this.props.mediaManager.open(e,{path:l,multiSelect:!1,translation:{title:s.translate("CROP_MODE_MMGR_TITLE"),submitButton:s.translate("CROP_MODE_MMGR_SUBMIT_BUTTON")},callback:(e,t)=>{if(e){const l=e[0].uri;this.selectMask(l,!0),this.props.setMMgrPath("last_svg_mask_path_".concat(a),t.path||E)}this.props.setFocusToEditor()}})},this.getAddThumbProps=()=>!this.props.lastCustomMaskId&&{onAddThumbnailClick:this.openMMgr,isFirst:!0,height:u.default.MASK_THUMB_SIZE.height},this.getCurrentMaskThumbnail=()=>{if(!this.props.lastCustomMaskId)return null;const e=this.props.imageData,t=this.props.getCropArea(),a=b.getFromImageData(this.props.imageData,t.width,t.height),l=_.call(this,e,u.default.MASK_THUMB_SIZE.width,u.default.MASK_THUMB_SIZE.height,!0,a.uri,{id:this.props.lastCustomMaskId,thumbnail:(n=this.props.getSVG(this.props.lastCustomMaskId),n.replace('preserveAspectRatio="none"','preserveAspectRatio="xMidYMid"')),thumbId:"svg-panel-change-mask-id"});var n;return l.className="custom-mask",l},this.getFrameStyle=()=>o.default.defaults({width:288,height:600},o.default.pick(this.props,["top","left"]));const t=e.getCropArea(),a=t&&t.svgId;a&&!g(a)&&e.setLastCustomMaskId(a),this.state={currentSvgId:a,scrollPosition:0}}componentDidMount(){this.scrollToSelectedItem()}render(){return l.default.createElement(m.default,{panelName:this.props.panelName,headerTitle:s.translate("CROP_MODE_SHAPES_PANEL_HEADER_TITLE"),contentStyle:this.getFrameStyle(),helpId:"9f5cc6cb-6abf-40c5-8f8b-774e2614df18",contentWrapperClass:"image-mask-panel",onClose:this.props.onClose},l.default.createElement(p.default.CustomScroll,{ref:"customScroll",heightRelativeToParent:"100%",addScrolledClass:!0,scrollTo:this.state.scrollPosition},l.default.createElement(p.default.Composites.Thumbnails,null,l.default.createElement(p.default.Thumbnails,{value:this.state.currentSvgId,ref:"maskCropItems",onChange:this.selectMask,maxThumbsPerRow:3,fixedRatio:!0,hasBackground:!1,borderType:"thumbnail",addThumbnailProps:this.getAddThumbProps(),options:this.getMaskOptions(),shouldTranslate:!0}),this.props.lastCustomMaskId?l.default.createElement("div",{key:"changebutton",onClick:this.openMMgr,className:"image-crop-change-mask-indicator"},l.default.createElement(p.default.Tooltip,{shouldTranslate:!0,closeOnMouseClick:!0,content:"CROP_MODE_SHAPES_PANEL_CUSTOM_REPLACE_TOOLTIP"},l.default.createElement(c.symbol,{name:"video-player-change-poster"}))):null)))}}P.displayName="imageCropSVGPanel",P.propTypes={mediaManager:i.default.object.isRequired,imageData:i.default.object.isRequired,setFocusToEditor:i.default.func,setCropArea:i.default.func,getCropArea:i.default.func,getCropOriginArea:i.default.func,getMMgrPath:i.default.func,setMMgrPath:i.default.func,getLastCustomMaskId:i.default.func,lastCustomMaskId:i.default.string,setLastCustomMaskId:i.default.func,getSVG:i.default.func},P.defaultProps={top:"200px",left:"300px"};const C=f(h,d.default.mapStateToProps,d.default.mapDispatchToProps)(P);return C.pure=P,C}.apply(t,l))||(e.exports=n)},2053:function(e,t,a){var l;void 0===(l=function(e,t){"use strict";return{MASKS:[{index:2,id:"909695c1e003409ba70b5561666c7c4d.svg",thumbId:"shape-01-02",thumbnail:'<svg fill="#fff" viewBox="0 0 72 72" height="72" width="72" xmlns="http://www.w3.org/2000/svg">\n<g>\n<path d="M63 9v54H9V9h54z"/>\n</g>\n</svg>'},{index:3,id:"cf545b123b6e4523b228d62bfa0dea9b.svg",thumbId:"shape-01-03",thumbnail:'<svg fill="#fff" viewBox="0 0 72 72" height="72" width="72" xmlns="http://www.w3.org/2000/svg">\n    <g>\n        <path d="M66 36c0 16.569-13.431 30-30 30C19.431 66 6 52.569 6 36 6 19.431 19.431 6 36 6c16.569 0 30 13.431 30 30z"/>\n    </g>\n</svg>\n'},{index:4,id:"9cca9e9c03ec45e28cb046998aedd32d.svg",thumbId:"shape-01-04",thumbnail:'<svg fill="#fff" viewBox="0 0 72 72" height="72" width="72" xmlns="http://www.w3.org/2000/svg">\n    <g>\n        <path d="M36 8.955L4.643 63.045h62.714L36 8.955z"/>\n    </g>\n</svg>\n'},{index:5,id:"ef6999c24fec4324876f32507978d911.svg",thumbId:"shape-01-05",thumbnail:'<svg fill="#fff" viewBox="0 0 72 72" height="72" width="72" xmlns="http://www.w3.org/2000/svg">\n    <g>\n        <path d="M45.31 7.287H26.69L11.626 18.254 5.872 36l5.754 17.746L26.69 64.713h18.62l15.064-10.967L66.128 36l-5.754-17.746L45.31 7.287z"/>\n    </g>\n</svg>\n'},{index:6,id:"0dc68a4a1c6440e285913033e4d0a0fe.svg",thumbId:"shape-01-06",thumbnail:'<svg fill="#fff" viewBox="0 0 72 72" height="72" width="72" xmlns="http://www.w3.org/2000/svg">\n    <g>\n        <path d="M36.053 5.185L9.009 20.799v31.228l27.044 15.614 27.044-15.614V20.799L36.053 5.185z"/>\n    </g>\n</svg>\n'},{index:7,id:"aeb0df3014a44462815acf283a823208.svg",thumbId:"shape-01-07",thumbnail:'<svg fill="#fff" viewBox="0 0 72 72" height="72" width="72" xmlns="http://www.w3.org/2000/svg">\n    <g>\n        <path d="M63.702 63.904H8.298L20.054 8.096h31.892l11.756 55.808z"/>\n    </g>\n</svg>\n'},{index:8,id:"c5e4941a7b6546258e2ef4c1807eaf7b.svg",thumbId:"shape-01-08",thumbnail:'<svg fill="#fff" viewBox="0 0 72 72" height="72" width="72" xmlns="http://www.w3.org/2000/svg">\n    <g>\n        <path d="M64.538 36L36 68.644 7.462 36 36 3.356 64.538 36z"/>\n    </g>\n</svg>\n'},{index:9,id:"d3bcfabb79fb4bb193e17e0e5996fdfe.svg",thumbId:"shape-01-09",thumbnail:'<svg fill="#fff" viewBox="0 0 72 72" height="72" width="72" xmlns="http://www.w3.org/2000/svg">\n    <g>\n        <path d="M52.343 63.904H8.096L19.657 8.096h44.247L52.343 63.904z"/>\n    </g>\n</svg>\n'},{index:10,id:"2428012b6769448081719f3fde9f0f78.svg",thumbId:"shape-01-10",thumbnail:'<svg fill="#fff" viewBox="0 0 72 72" height="72" width="72" xmlns="http://www.w3.org/2000/svg">\n    <g>\n        <path d="M36 6.883c-12.842 0-23.253 9.699-23.253 21.663v36.571h46.507V28.546C59.253 16.582 48.842 6.883 36 6.883z"/>\n    </g>\n</svg>\n'},{index:11,id:"72df8655830f4db6b8efbc852291ce0b.svg",thumbId:"shape-01-11",thumbnail:'<svg fill="#fff" viewBox="0 0 72 72" height="72" width="72" xmlns="http://www.w3.org/2000/svg">\n    <g>\n        <path d="M47.92 23.092c-1.913 0-3.726.422-5.357 1.174V4.537c-17.308 0-31.34 14.087-31.34 31.463s14.031 31.463 31.34 31.463v-19.73a12.76 12.76 0 0 0 5.357 1.174c7.101 0 12.857-5.779 12.857-12.908S55.021 23.092 47.92 23.092z"/>\n    </g>\n</svg>\n'},{index:12,id:"3813763a9dc144ce9324e280c91136d1.svg",thumbId:"shape-01-12",thumbnail:'<svg fill="#fff" viewBox="0 0 72 72" height="72" width="72" xmlns="http://www.w3.org/2000/svg">\n    <g>\n        <path d="M56.041 6.33A31.586 31.586 0 0 0 45.52 4.537C28.09 4.537 13.959 18.623 13.959 36S28.09 67.463 45.52 67.463c3.689 0 7.23-.633 10.52-1.793V6.33z"/>\n    </g>\n</svg>\n'},{index:13,id:"906322ee0e2b45e6941997bdb0790e82.svg",thumbId:"shape-01-13",thumbnail:'<svg fill="#fff" viewBox="0 0 72 72" height="72" width="72" xmlns="http://www.w3.org/2000/svg">\n    <g>\n        <path d="M65.029 35.72L44.481 6l-8.372 12.059L27.882 6.16 6.971 36.28 27.519 66l8.372-12.059 8.227 11.899 20.911-30.12z"/>\n    </g>\n</svg>\n'},{index:14,id:"d8e1899d7ddf4197baf56ef8b22a5e8a.svg",thumbId:"shape-01-14",thumbnail:'<svg fill="#fff" viewBox="0 0 72 72" height="72" width="72" xmlns="http://www.w3.org/2000/svg">\n    <g>\n        <path d="M45.557 7.833L36 36.107 26.442 7.833 7.4 64.167h57.2L45.557 7.833z"/>\n    </g>\n</svg>\n'},{index:15,id:"088d89c2b06642468a8418992fe38e73.svg",thumbId:"shape-01-15",thumbnail:'<svg fill="#fff" viewBox="0 0 72 72" height="72" width="72" xmlns="http://www.w3.org/2000/svg">\n    <g>\n        <path d="M57.4 6.351L36 24.536 14.6 6.351v59.298L36 47.464l21.4 18.185V6.351z"/>\n    </g>\n</svg>\n'},{index:16,id:"c4a2e6079ca84783af925ba9e640c851.svg",thumbId:"shape-01-16",thumbnail:'<svg fill="#fff" viewBox="0 0 72 72" height="72" width="72" xmlns="http://www.w3.org/2000/svg">\n    <g>\n        <path d="M45.018 45.018V26.982H26.982V8.947H8.947v36.49h17.597v17.616h36.509V45.018H45.018z"/>\n    </g>\n</svg>\n'},{index:17,id:"b4d71b7aa00c4d6b8d87f5ce84df8e0a.svg",thumbId:"shape-01-17",thumbnail:'<svg fill="#fff" viewBox="0 0 72 72" height="72" width="72" xmlns="http://www.w3.org/2000/svg">\n    <g>\n        <path d="M66.311 46.072V25.928H46.072V5.689H25.928v20.239H5.689v20.144h20.239v20.239h20.144V46.072h20.239z"/>\n    </g>\n</svg>\n'},{index:18,id:"591183f2d0454ddaa23a7f20dc8cdb18.svg",thumbId:"shape-01-18",thumbnail:'<svg fill="#fff" viewBox="0 0 72 72" height="72" width="72" xmlns="http://www.w3.org/2000/svg">\n    <g>\n        <path d="M45.273 45.273V26.727H26.727V8.18H8.18v55.64h55.64V45.273H45.273z"/>\n    </g>\n</svg>\n'},{index:19,id:"92254bf1c7e34693b107d3c194cc8943.svg",thumbId:"shape-01-19",thumbnail:'<svg fill="#fff" viewBox="0 0 72 72" height="72" width="72" xmlns="http://www.w3.org/2000/svg">\n    <g>\n        <path d="M48.166 38.361c-1.107 5.674-6.119 9.971-12.12 9.971-6.81 0-12.35-5.532-12.35-12.332 0-6.8 5.54-12.332 12.35-12.332l.091.002V5.565l-.091-.001c-8.142 0-15.797 3.166-21.554 8.915S5.564 27.87 5.564 36s3.171 15.773 8.928 21.522 13.412 8.915 21.554 8.915c8.142 0 15.797-3.166 21.554-8.915 5.196-5.189 8.284-11.921 8.837-19.161H48.166z"/>\n    </g>\n</svg>\n'},{index:20,id:"a8f6af7057234dfe9d49916ec1f792e7.svg",thumbId:"shape-01-20",thumbnail:'<svg fill="#fff" viewBox="0 0 72 72" height="72" width="72" xmlns="http://www.w3.org/2000/svg">\n    <g>\n        <path d="M36.075 7.395L4 60.605h17.816l14.236-24.607L50.22 60.605H68L36.075 7.395z"/>\n    </g>\n</svg>\n'},{index:21,id:"e753c5d3d3f84d089e54418e7ad99f6a.svg",thumbId:"shape-01-21",thumbnail:'<svg fill="#fff" viewBox="0 0 72 72" height="72" width="72" xmlns="http://www.w3.org/2000/svg">\n    <g>\n        <path style="transform: translateX(100%) scale(-1, 1)" d="M16.529 7.5h34.942v57H33.623V25.432H16.529V7.5z"/>\n    </g>\n</svg>\n'},{index:22,id:"fae9b72843234469a0564d8d62d22125.svg",thumbId:"shape-01-22",thumbnail:'<svg fill="#fff" viewBox="0 0 72 72" height="72" width="72" xmlns="http://www.w3.org/2000/svg">\n    <g>\n        <path d="M62.128 31.675L36 5.547 9.872 31.675h16.234v34.778h19.788V31.675h16.234z"/>\n    </g>\n</svg>\n'},{index:23,id:"6cfa70f524284653a74fb4c67937649b.svg",thumbId:"shape-01-23",thumbnail:'<svg fill="#fff" xmlns="http://www.w3.org/2000/svg" width="72" height="72" viewBox="0 0 72 72">\n    <g>\n        <path d="M36.002 22.962l3.931-5.49c2.165-3.024 4.332-6.047 6.49-9.076.17-.239.342-.347.647-.347 6.08.009 12.16.007 18.241.007h.34c-.148.213-.253.371-.364.524-6.516 9.037-13.031 18.075-19.558 27.104-.247.341-.237.555.004.891 6.364 8.88 12.717 17.768 19.071 26.655.104.145.201.295.338.498-.161.014-.268.031-.374.032-5.914.062-11.827.119-17.741.191-.326.004-.503-.107-.686-.361-3.312-4.613-6.634-9.218-9.954-13.825-.125-.174-.256-.343-.426-.57-.137.182-.254.33-.364.483-3.34 4.634-6.68 9.267-10.015 13.904-.163.226-.313.374-.634.37-5.947-.073-11.894-.13-17.841-.192-.082-.001-.163-.011-.32-.023.109-.169.187-.303.277-.429C13.431 54.43 19.796 45.55 26.18 36.684c.32-.444.297-.708-.015-1.139-6.522-9.011-13.026-18.037-19.533-27.06-.084-.117-.159-.241-.283-.429h.547c5.981 0 11.961.003 17.942-.008.358-.001.564.116.769.403 3.334 4.678 6.68 9.348 10.024 14.019.105.144.215.285.371.492z"/>\n    </g>\n</svg>\n'},{index:24,id:"4bc9a1d5c9e4470e8abfdc87132b7952.svg",thumbId:"shape-01-24",thumbnail:'<svg fill="#fff" viewBox="0 0 72 72" height="72" width="72" xmlns="http://www.w3.org/2000/svg">\n    <g>\n        <path d="M36 67.435c-8.397 0-16.291-3.27-22.228-9.207C7.835 52.291 4.565 44.397 4.565 36c0-8.397 3.27-16.291 9.207-22.228S27.603 4.565 36 4.565c8.397 0 16.291 3.27 22.228 9.207 5.937 5.937 9.207 13.831 9.207 22.228 0 8.397-3.27 16.291-9.207 22.228-5.937 5.937-13.831 9.207-22.228 9.207zm0-47.906c-9.082 0-16.471 7.389-16.471 16.471S26.918 52.471 36 52.471 52.471 45.082 52.471 36 45.082 19.529 36 19.529z"/>\n    </g>\n</svg>\n'},{index:25,id:"a9215c4b0e6c4fe580319d3242598adf.svg",thumbId:"shape-01-25",thumbnail:'<svg fill="#fff" viewBox="0 0 72 72" height="72" width="72" xmlns="http://www.w3.org/2000/svg">\n    <g>\n        <path d="M46.253 66.162l-3.79-4.099c-8.12 4.408-14.075 5.259-18.329 5.259-13.224 0-20.107-8.275-20.107-17.014 0-7.889 5.646-12.297 12.606-16.241-2.707-3.635-4.718-7.734-4.718-12.374 0-9.513 8.43-17.014 18.406-17.014 9.822 0 18.097 7.27 18.097 16.241 0 7.192-5.259 11.755-10.518 14.849l6.497 7.038c3.712-3.016 6.96-5.955 9.048-8.043l10.905 10.44c-3.481 3.403-6.729 6.264-9.745 8.662l11.369 12.297H46.253zM32.1 51.004l-7.579-8.198c-3.557 2.243-5.104 4.253-5.104 6.341 0 2.321 1.856 4.022 5.027 4.022 2.242 0 4.872-.851 7.656-2.165zm-2.552-24.052c3.557-2.165 5.181-3.867 5.181-5.723 0-2.088-2.088-3.557-4.176-3.557-2.32 0-4.253 1.779-4.253 3.867 0 1.546 1.005 3.015 3.248 5.413z"/>\n    </g>\n</svg>\n'},{index:26,id:"4641461a029148659a58e0f1fbe62195.svg",thumbId:"shape-01-26",thumbnail:'<svg fill="#fff" viewBox="0 0 72 72" height="72" width="72" xmlns="http://www.w3.org/2000/svg">\n    <g>\n        <path d="M12.412 18.367h9.899l2.243-12.528h12.761l-2.243 12.528h7.889l2.243-12.528h12.76l-2.243 12.528h7.657v13.302h-9.977l-1.47 8.739h7.657v13.225h-9.977l-2.166 12.529h-12.76l2.166-12.529h-7.889l-2.165 12.529H14.036l2.166-12.529h-7.58V40.408h9.899l1.47-8.739h-7.579V18.367zm18.87 22.041h7.889l1.469-8.739h-7.888l-1.47 8.739z"/>\n    </g>\n</svg>\n'},{index:27,id:"72f99a4575514335b116fea04a2cf903.svg",thumbId:"shape-01-27",thumbnail:'<svg fill="#fff" viewBox="0 0 72 72" height="72" width="72" xmlns="http://www.w3.org/2000/svg">\n    <g>\n        <path d="M30.857 44.43v.077c0 2.011 1.315 4.718 5.646 4.718 3.325 0 3.712-1.547 3.712-2.166 0-.851-.774-1.779-6.264-4.331-6.419-3.016-17.788-7.502-17.788-17.556 0-6.728 5.182-11.987 12.838-13.92V3.905h13.766v7.502c7.579 2.165 12.838 7.811 12.838 15.699v.464H40.524v-.077c0-2.011-1.16-4.718-5.027-4.718-3.016 0-3.325 1.624-3.325 2.088 0 .851.928 2.165 5.8 4.099s18.252 6.573 18.252 17.71c0 7.193-5.491 12.452-13.457 14.231v7.192H29.001v-7.502c-7.889-2.165-13.225-7.656-13.225-15.7v-.463h15.081z"/>\n    </g>\n</svg>\n'},{index:28,id:"c156ade1a0c5419593b933eacb9debc8.svg",thumbId:"shape-01-28",thumbnail:'<svg fill="#fff" viewBox="0 0 72 72" height="72" width="72" xmlns="http://www.w3.org/2000/svg">\n    <g>\n        <path d="M36.003 61.436c9.892-6.356 20.149-13.632 25.528-24.489 2.279-4.599 3.421-9.904 2.392-14.936-1.372-6.709-6.551-12.179-13.617-11.366-6.828.786-9.737 2.776-14.303 7.51h-.007c-4.567-4.734-7.475-6.724-14.303-7.51-7.066-.813-12.244 4.657-13.616 11.366-1.029 5.032.114 10.337 2.392 14.936 5.379 10.856 15.635 18.133 25.528 24.489h.006z"/>\n    </g>\n</svg>\n'},{index:29,id:"877c2faf8d604dd282a7920f8f310bb7.svg",thumbId:"shape-01-29",thumbnail:'<svg fill="#fff" viewBox="0 0 72 72" height="72" width="72" xmlns="http://www.w3.org/2000/svg">\n    <g>\n        <path d="M56.523 9.549c-6.767 0-12.253 5.487-12.253 12.255 0 .616.047 1.22.134 1.811a20.337 20.337 0 0 0-8.405-1.811c-3.012 0-5.868.657-8.441 1.828.11-.661.171-1.339.171-2.032 0-6.768-5.486-12.255-12.253-12.255S3.224 14.832 3.224 21.6 8.71 33.855 15.477 33.855c.671 0 1.329-.056 1.971-.16a20.354 20.354 0 0 0-1.869 8.534c0 11.281 9.143 20.426 20.421 20.426S56.421 53.51 56.421 42.23a20.35 20.35 0 0 0-1.768-8.312c.61.093 1.234.142 1.87.142 6.767 0 12.253-5.487 12.253-12.255S63.29 9.549 56.523 9.549z"/>\n    </g>\n</svg>\n'},{index:30,id:"a244381225fe4e538771607be81bbec9.svg",thumbId:"shape-01-30",thumbnail:'<svg fill="#fff" viewBox="0 0 72 72" height="72" width="72" xmlns="http://www.w3.org/2000/svg">\n    <g>\n        <path d="M32.016 35.834L12.667 16.599c10.74-10.587 28.078-10.56 38.783.082 10.733 10.67 10.733 27.969 0 38.638s-28.135 10.67-38.868 0l-.082-.084 19.516-19.401z"/>\n    </g>\n</svg>'},{index:31,id:"e8bb85e9af6547b0b4c96e3553bc38a6.svg",thumbId:"shape-01-31",thumbnail:'<svg fill="#fff" viewBox="0 0 72 72" height="72" width="72" xmlns="http://www.w3.org/2000/svg">\n    <g>\n        <path d="M59.739 11.739L32.88 8.175 7 29.284l16.287 34.541 29.605-4.6L63 39.153l-3.261-27.414z"/>\n    </g>\n</svg>\n'},{index:32,id:"adb57ae1122b49098d773454be6161a9.svg",thumbId:"shape-01-32",thumbnail:'<svg fill="#fff" viewBox="0 0 72 72" height="72" width="72" xmlns="http://www.w3.org/2000/svg">\n    <g>\n        <path d="M47.86 60.204l17.655-23.629-11.417-21.183-25.395-8.917L6.515 46.593l19.887 18.984 21.458-5.373z"/>\n    </g>\n</svg>\n'},{index:33,id:"bfc18cc253b24c21954f53dbd9644fb9.svg",thumbId:"shape-01-33",thumbnail:'<svg fill="#fff" viewBox="0 0 72 72" height="72" width="72" xmlns="http://www.w3.org/2000/svg">\n    <g>\n        <path d="M65 31.794L37.653 7.363 7 27.789l5.109 26.435 32.756 10.413L65 31.794z"/>\n    </g>\n</svg>\n'},{index:34,id:"7f78de979be645a882019d5ffce8b8ef.svg",thumbId:"shape-01-34",thumbnail:'<svg fill="#fff" viewBox="0 0 72 72" height="72" width="72" xmlns="http://www.w3.org/2000/svg">\n    <g>\n        <path d="M59.204 53.943a22.707 22.707 0 0 1-4.485 5.774c-9.849 9.114-28.125 6.445-37.11-1.897-5.342-4.96-7.551-11.339-7.562-17.568s2.029-12.37 4.479-18.355c2.045-4.995 4.796-10.319 11.004-13.119 5.14-2.318 11.653-2.421 17.727-2.025 3.769.246 7.65.69 10.814 2.155s5.425 4.197 4.558 6.797c-.63 1.889-2.707 3.337-4.169 4.981-3.13 3.522-3.328 8.243-.497 11.888 2.622 3.377 7.77 6.04 7.969 10.17.175 3.623-.761 7.6-2.728 11.199z"/>\n    </g>\n</svg>\n'},{index:35,id:"3a365dbcf90a4cdb9038ed2c682abc91.svg",thumbId:"shape-01-35",thumbnail:'<svg fill="#fff" viewBox="0 0 72 72" height="72" width="72" xmlns="http://www.w3.org/2000/svg">\n    <g>\n        <path d="M11.395 21.207c-6.433 9.196-3.25 23.054 1.418 32.263 2.887 5.695 8.111 13.329 17.139 11.88 2.052-.33 3.932-1.176 5.963-1.586 6.297-1.272 13.379 1.734 19.228-.568 2.314-.911 4.091-2.559 5.455-4.349 4.304-5.647 4.824-13.131 1.332-19.159-2.45-4.228-6.694-7.731-8.326-12.219-1.602-4.402-.478-9.189-1.664-13.679-1.443-5.461-7.604-9.376-13.944-6.151-2.395 1.218-4.448 2.855-7.059 3.783-2.718.966-5.733 1.219-8.492 2.107-5.179 1.667-8.736 4.371-11.05 7.678z"/>\n    </g>\n</svg>\n'},{index:36,id:"dd44237911db45a79ca681bd532aaab9.svg",thumbId:"shape-01-36",thumbnail:'<svg fill="#fff" viewBox="0 0 72 72" height="72" width="72" xmlns="http://www.w3.org/2000/svg">\n    <g>\n        <path d="M60.165 19.501c-.657-1.746-1.739-3.407-3.287-4.882-4.076-3.882-11.223-6.32-17.763-7.371-17.269-2.774-27.374 9.87-28.042 20.443-.318 5.035 2.509 9.948 2.731 14.998.238 5.419-2.03 10.766-.942 16.222.607 3.041 3.124 4.813 7.307 5.522 12.513 2.12 29.264-.418 35.545-9.2 1.759-2.459 2.532-5.267 2.804-7.998.321-3.224-.43-6.431-.533-9.649-.098-3.064.949-5.991 2.063-8.928 1.127-2.967 1.236-6.185.117-9.157z"/>\n    </g>\n</svg>\n'}],MASK_THUMB_SIZE:{width:72,height:72}}}.apply(t,[a,t]))||(e.exports=l)},2054:function(e,t,a){var l,n;l=[a,t,a(0),a(7)],void 0===(n=function(e,t,a,l){"use strict";const n=(l=a.__importDefault(l)).default.editorPlugins.userPreferences.actions.setSessionUserPreferences,i=l.default.editorPlugins.userPreferences.selectors.getSessionUserPreferences,{getData:o}=l.default.editorPlugins.components.selectors,s=(e,t,a)=>{let{editorAPI:l}=a;return l},r=(e,t)=>t();return{mapStateToProps:(e,t)=>{let{editorAPI:a}=e;const l=a.store.getState(),n=t.selectedComponents[0].id;return{imageData:o(t.selectedComponents,a.dsRead),lastCustomMaskId:i("mask-crop-custom-svg-".concat(n))(l)}},mapDispatchToProps:(e,t)=>{const a=e(s),l=e(r),o=t.selectedComponents[0].id;return{mediaManager:a.mediaServices.mediaManager,setFocusToEditor:a.mediaServices.setFocusToEditor,setCropArea:t.setCropData||a.imageCrop.setCropArea,getCropArea:t.getCropData||a.imageCrop.getCropArea.bind(a.imageCrop,!0),getMMgrPath:e=>i(e)(l),setMMgrPath:(t,a)=>e(n(t,a)),setLastCustomMaskId:t=>e(n("mask-crop-custom-svg-".concat(o),t)),onClose:t.onClose,getSVG:a.documentServices.media.vectorImage.getSvgFromCache}}}}.apply(t,l))||(e.exports=n)},2055:function(e,t,a){var l,n;l=[a,t,a(0),a(1),a(2),a(4),a(7),a(6),a(117),a(3),a(8),a(48)],void 0===(n=function(e,t,a,l,n,i,o,s,r,u,d,p){"use strict";l=a.__importDefault(l),n=a.__importStar(n),i=a.__importDefault(i),o=a.__importDefault(o),s=a.__importDefault(s),r=a.__importDefault(r),u=a.__importDefault(u),d=a.__importDefault(d),p=a.__importDefault(p);class c extends u.default.Component{constructor(){super(...arguments),this.state={name:this.props.event.name,description:this.props.event.description},this.handleClickAction=()=>{this.props.onChange({name:this.state.name,description:this.state.description}),this.props.callBi()},this.closePanel=e=>{e===r.default.CLICK_OUTSIDE&&this.isFormValid()?this.handleClickAction():this.props.close()},this.isEventNameValid=e=>n.validate.eventName(e)&&!l.default.includes(this.props.illegalEventNames,e),this.isFormValid=()=>this.isEventNameValid(this.state.name)}render(){return u.default.createElement(p.default,{panelName:"panels.toolPanels.apiDefinitionEvent",onClose:e=>this.closePanel(e),headerTitle:n.translate(this.props.title),contentStyle:this.props.contentStyle,automationId:"api-definition-event",className:"api-definition-event"},u.default.createElement(d.default.Composites.TextInputLabeled,null,u.default.createElement(d.default.InfoIcon,{text:"AppStudio_WidgetAPI_NewEvent_Name_Tooltip"}),u.default.createElement(d.default.TextLabel,{value:"AppStudio_WidgetAPI_NewEvent_Name_label"}),u.default.createElement(d.default.TextInput,{value:this.state.name,placeholder:"AppStudio_WidgetAPI_NewEvent_Name_Placeholder",validator:this.isEventNameValid,allowInvalidChange:!0,validateInitialValue:!1,invalidMessage:"AppStudio_WidgetAPI_NewEvent_Name_InvalidName_Error",onChange:e=>{this.setState({name:e})},className:"add-event-name"})),u.default.createElement(d.default.Divider,{long:!0}),u.default.createElement(d.default.Composites.TextInputMultilineLabeled,null,u.default.createElement(d.default.InfoIcon,{text:"AppStudio_WidgetAPI_NewEvent_Description_Tooltip"}),u.default.createElement(d.default.TextLabel,{value:"AppStudio_WidgetAPI_NewEvent_Description_Label"}),u.default.createElement(d.default.TextInputMultiline,{value:this.state.description,automationId:"add-event-description",placeholder:"AppStudio_WidgetAPI_NewEvent_Description_Placeholder",onChange:e=>{this.setState({description:e})},className:"widget-event-description"})),u.default.createElement(d.default.Composites.ButtonMedium,null,u.default.createElement(d.default.Button,{disabled:!this.isFormValid(),automationId:"add-event-main-button",onClick:this.handleClickAction,className:"btn-md"},u.default.createElement("span",null,n.translate(this.props.mainActionLabel)))))}}c.displayName="apiDefinitionEvent",c.propTypes={event:i.default.object.isRequired,title:i.default.string.isRequired,mainActionLabel:i.default.string.isRequired,onChange:i.default.func.isRequired,close:i.default.func.isRequired,illegalEventNames:i.default.arrayOf(i.default.string),contentStyle:i.default.shape({top:i.default.number,right:i.default.number,width:i.default.number}),callBi:i.default.func.isRequired},c.defaultProps={event:{name:"",description:""}};return l.default.flow(n.hoc.renderWhenMutated,n.hoc.connect(n.hoc.STORES.DS_ONLY,(e,t)=>{let{dsRead:a}=e;const n=a.pages.getFocusedPageId(),i=a.appStudio.widgets.getByRootCompId(n),o=a.appStudio.widgets.events.get(i);return{illegalEventNames:l.default(o).reject({name:l.default.get(t,"event.name")}).map("name").value()}}),o.default.editorPlugins.panels.hoc.panelFrame(s.default.PANEL_TYPES.TOOL))(c)}.apply(t,l))||(e.exports=n)},2056:function(e,t,a){var l,n;l=[a,t,a(0),a(2057),a(2058),a(2059)],void 0===(n=function(e,t,a,l,n,i){"use strict";l=a.__importDefault(l),n=a.__importDefault(n),i=a.__importDefault(i);const{FillPickerProps:o,ColorPickerProps:s,BoxShadowPickerProps:r,StateListDialogProps:u}=n.default;return{fillPickerPanel:l.default("FillPicker","stylable-editor-fill-picker",o,{width:240,height:482}),colorPickerPanel:l.default("ColorPicker","stylable-editor-color-picker",s,{width:240,height:428}),boxShadowPickerPanel:l.default("SingleShadowInput","stylable-editor-box-shadow-picker",r,{width:240,height:568},"stylable-editor-box-shadow-picker-panel-content-wrapper"),textShadowPickerPanel:l.default("TextShadowLayerInput","stylable-editor-box-shadow-picker",r,{width:240,height:418},"stylable-editor-box-shadow-picker-panel-content-wrapper"),stateListDialog:l.default("StateListDialog","stylable-editor-state-list-dialog",u,{width:240,height:320},"stylable-editor-box-state-list-dialog-content-wrapper"),cssPanel:i.default}}.apply(t,l))||(e.exports=n)},2057:function(e,t,a){var l,n;l=[a,t,a(0),a(3),a(4),a(1),a(2),a(24),a(6),a(48)],void 0===(n=function(e,t,a,l,n,i,o,s,r,u){"use strict";function d(){return l.default.createElement(u.default,{panelName:this.props.panelName,headerTitle:this.getTitle(),onClose:this.props.onClose,contentStyle:this.getFrameStyle(),contentWrapperClass:"stylable-editor-panel",contentClass:this.getContentClass(),lightHeader:!0},this.renderPicker())}l=a.__importDefault(l),n=a.__importDefault(n),i=a.__importDefault(i),o=a.__importStar(o),s=a.__importStar(s),r=a.__importDefault(r),u=a.__importDefault(u);const{connect:p,STORES:{EDITOR_API:c}}=o.hoc,{withModules:m}=s.hoc,f=r.default.STYLABLE.EDITOR.SITE_PATH;return function(e,t,a,o){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"stylable-editor-panel-content-wrapper";class r extends l.default.Component{constructor(n){super(n),this.getFrameStyle=()=>i.default.defaults(o,i.default.pick(this.props,["top","left"])),this.getTitle=()=>n.title,this.getContentClass=()=>s,this.getPickerProps=()=>i.default.pick(this.props,i.default.keys(a)),this.renderPicker=()=>l.default.createElement(this.props.stylablePanelLib[e],i.default.assign(this.getPickerProps(),{className:t}))}componentWillUpdate(e){this.getTitle=()=>e.title,this.getPickerProps=()=>i.default.pick(e,i.default.keys(a))}render(){return d.call(this)}}r.displayName="StylableEditorPanel",r.propTypes=i.default.assign({panelName:n.default.string,onClose:n.default.func,siteVarsDriver:n.default.object.isRequired,stylablePanelLib:n.default.object.isRequired,top:n.default.string,left:n.default.string},a),r.defaultProps={top:"400px",left:"500px"};const u=(e,t,a)=>{let{stylableEditor:l}=a;return l},h=e=>({siteVarsDriver:e(u).stylableDriver.getSiteVarsDriver(f)}),_={stylablePanelLib:"stylable-panel"};return i.default.flow(m(_),p(c,void 0,h))(r)}}.apply(t,l))||(e.exports=n)},2058:function(e,t,a){var l,n;l=[a,t,a(0),a(4),a(1)],void 0===(n=function(e,t,a,l,n){"use strict";l=a.__importDefault(l),n=a.__importDefault(n);const i={siteVarsDriver:l.default.object.isRequired,panelHost:l.default.object,title:l.default.string};return{FillPickerProps:n.default.assign(i,{value:l.default.string,tab:l.default.number,border:l.default.bool,onChange:l.default.func}),ColorPickerProps:n.default.assign(i,{currentColor:l.default.string,onHover:l.default.func,onChange:l.default.func,onReset:l.default.func}),BoxShadowPickerProps:n.default.assign(i,{value:l.default.string,onChange:l.default.func.isRequired}),StateListDialogProps:n.default.assign(i,{closeStateListDialog:l.default.func,fixedStates:l.default.array,usedStates:l.default.array,applyLabel:l.default.string,selectorConfiguration:l.default.any,selector:l.default.string,onSubmit:l.default.func})}}.apply(t,l))||(e.exports=n)},2059:function(e,t,a){var l,n;l=[a,t,a(0),a(3),a(4),a(1),a(48),a(8)],void 0===(n=function(e,t,a,l,n,i,o,s){"use strict";function r(){return l.default.createElement(o.default,{panelName:this.props.panelName,headerTitle:this.getTitle(),onClose:this.props.onClose,contentStyle:this.getFrameStyle(),contentWrapperClass:"stylable-editor-panel stylable-editor-css-panel-wrapper",contentClass:"stylable-editor-panel-content-wrapper",lightHeader:!0},l.default.createElement(s.default.TextInputMultiline,{autoSelect:!1,selectOnFocus:!1,value:this.state.css,onChange:e=>{this.handleOnChange(e)},className:"stylable-editor-css-panel-input"}))}l=a.__importDefault(l),n=a.__importDefault(n),i=a.__importDefault(i),o=a.__importDefault(o),s=a.__importDefault(s);const u=[{description:"Block open and declaration-end indentation",pattern:/([\{;])\s*([^\s\}])/g,replacement:"$1\n".concat("    ","$2")},{description:"Block close",pattern:/\} *(\S)/g,replacement:"\n}\n$1"},{description:"Final block close",pattern:/[^\n]\}$/g,replacement:"\n}"},{description:"Trim right",pattern:/\s+\n/g,replacement:"\n"}],d=i.default.flow(u.map(e=>{let{pattern:t,replacement:a}=e;return e=>e.replace(t,a)}));class p extends l.default.Component{constructor(e){super(e),this.getTitle=()=>"CSS Panel",this.getFrameStyle=()=>i.default.defaults({width:500,height:500},i.default.pick(this.props,["top","left"])),this.handleOnChange=e=>{this.setState({css:e}),this.props.onChange(e)},this.state={css:d(this.props.value)}}render(){return r.call(this)}}return p.displayName="StylableEditorCSSPanel",p.propTypes={value:n.default.string.isRequired,onChange:n.default.func.isRequired,onClose:n.default.func,top:n.default.string,left:n.default.string},p.defaultProps={top:"400px",left:"500px"},p}.apply(t,l))||(e.exports=n)},2060:function(e,t,a){var l,n;l=[a,t,a(0),a(1),a(2),a(7),a(4),a(12),a(3),a(8),a(48)],void 0===(n=function(e,t,a,l,n,i,o,s,r,u,d){"use strict";l=a.__importDefault(l),n=a.__importStar(n),i=a.__importDefault(i),o=a.__importDefault(o),s=a.__importStar(s),r=a.__importDefault(r),u=a.__importDefault(u),d=a.__importDefault(d);const{connect:p,STORES:{EDITOR_API:c}}=n.hoc,{closePanelByNameAction:m}=i.default.editorPlugins.panels.actions;class f extends r.default.Component{constructor(e){super(e),this.isEditMode=()=>!!this.props.initialValues,this.getHeaderTitle=()=>{const e=this.isEditMode()?"accessibility_components_editAttribute_header":"accessibility_components_addAttribute_header";return n.translate(e)},this.getSaveButtonText=()=>{const e=this.isEditMode()?"accessibility_components_editAttribute_saveButton":"accessibility_components_addAttribute_addButton";return n.translate(e)},this.attributeTypeToTranslationKey=e=>{switch(e){case"label":return"accessibility_components_addAttribute_enterArialabel_label";case"level":return"accessibility_components_addAttribute_level_label";default:return"accessibility_components_addAttribute_attributeValue_label"}},this.getAvailableA11yAttributes=()=>{const{properties:e}=this.props.a11ySchema,t=l.default.get(this.props,"compData.a11y",{}),a=l.default.pickBy(e,(e,a)=>l.default.isUndefined(t[a]));return this.isEditMode()&&(a[this.state.attributeType]=e[this.state.attributeType]),l.default.map(a,(e,t)=>({label:n.a11yUtils.getAttributeTypeTranslations()[t],value:t}))},this.isTextInput=()=>{const{attributeType:e}=this.state;if(!e)return;const{properties:t}=this.props.a11ySchema,a=t[e];return!a.enum&&"string"===a.type},this.isDropDown=()=>{const{attributeType:e}=this.state;if(!e)return;const{properties:t}=this.props.a11ySchema,a=t[e];return a.enum||"boolean"===a.type||"number"===a.type},this.getA11yValuesOptions=e=>{const{properties:t}=this.props.a11ySchema,a=t[e];let n;switch(a.type){case"number":n=l.default.range(a.minimum,a.maximum+1);break;case"boolean":n=[!0,!1];break;default:n=t[e].enum}return n.map(e=>({label:"".concat(e),value:e}))},this.onAttributeTypeChanged=e=>{this.setState({attributeType:e,attributeValue:""})},this.onAttributeValueChanged=e=>{this.setState({attributeValue:e,isButtonDisabled:0===e.length})},this.addAttribute=()=>{const{updateData:e,selectedComponentType:t}=this.props,{attributeValue:a,attributeType:n}=this.state,i=this.props.a11ySchema,o=l.default.keys(i.properties);let s=l.default.pick(l.default.get(this.props,["compData","a11y"],{}),o);this.isEditMode()&&(s=l.default.omit(s,[this.props.initialValues.attributeType]));const r=l.default.assign(s,{[n]:a,type:i.type});this.props.reportPropertySavedBI(t,n,a),e("a11y",r),this.close()},this.close=()=>{this.props.closePanel()};const{initialValues:t}=e,{attributeType:a,attributeValue:i}=t||{};this.state={isButtonDisabled:!t,attributeType:a,attributeValue:i}}render(){return r.default.createElement(d.default,{panelName:this.props.panelName,headerTitle:this.getHeaderTitle(),contentStyle:l.default.pick(this.props,["top","left"]),lightHeader:!0,automationId:"addA11yAttributePanel",className:"add-a11y-attribute-panel"},r.default.createElement("div",{className:"a11y-attribute-panel-container"},r.default.createElement(u.default.Divider,{long:!0}),this.getAvailableA11yAttributes().length>0?r.default.createElement(u.default.Composites.DropDownLabeled,null,r.default.createElement(u.default.TextLabel,{value:"accessibility_components_addAttribute_chooseAttribute_label"}),r.default.createElement(u.default.DropDown,{value:this.state.attributeType,options:this.getAvailableA11yAttributes(),onChange:this.onAttributeTypeChanged,placeholder:"accessibility_components_addAttribute_chooseAttribute_placeholder"})):null,r.default.createElement(u.default.Divider,{long:!0}),this.isTextInput()?r.default.createElement(r.default.Fragment,null,r.default.createElement(u.default.Composites.TextInputLabeled,{key:"dataKey64"},r.default.createElement(u.default.TextLabel,{value:this.attributeTypeToTranslationKey(this.state.attributeType),automationId:"attributeLabel"}),r.default.createElement(u.default.TextInput,{value:this.state.attributeValue,onChange:this.onAttributeValueChanged,placeholder:"accessibility_components_addAttribute_enterArialabel_placeholder",automationId:"textInputAttribute"})),r.default.createElement(u.default.Divider,{long:!0})):null,this.isDropDown()?r.default.createElement(r.default.Fragment,null,r.default.createElement(u.default.Composites.DropDownLabeled,null,r.default.createElement(u.default.TextLabel,{value:this.attributeTypeToTranslationKey(this.state.attributeType),automationId:"attributeLabel"}),r.default.createElement(u.default.DropDown,{value:this.state.attributeValue,shouldTranslate:!1,options:this.getA11yValuesOptions(this.state.attributeType),onChange:this.onAttributeValueChanged,placeholder:n.translate("accessibility_components_addAttribute_dropdown_placeholder"),automationId:"dropDownAttribute"})),r.default.createElement(u.default.Divider,{long:!0})):null,r.default.createElement(u.default.Composites.ButtonLargeFixedBottom,null,r.default.createElement(u.default.Button,{automationId:"a11yAttributePanelMainButton",disabled:this.state.isButtonDisabled,onClick:this.addAttribute,className:"btn-md"},this.getSaveButtonText()))))}}f.displayName="addA11yAttribute",f.propTypes={top:o.default.string,left:o.default.string,a11ySchema:o.default.object.isRequired};const h=l.default.flow(p(c,(e,t)=>{let{dsRead:a}=e,{selectedComponent:l}=t;return{a11ySchema:a.components.getA11ySchema(l[0]),siteId:a.generalInfo.getSiteId()}},(e,t)=>{let{siteId:a}=t;return{closePanel:()=>e(m("panels.toolPanels.addA11yAttribute")),reportPropertySavedBI:(t,l,n)=>{const o={site_id:a,componentName:t,aria_prop:l,prop_token:n};e(i.default.bi.actions.event(s.events.a11ySettings.addA11yAttribute,o))}}}))(f);return h.pure=f,h}.apply(t,l))||(e.exports=n)},2061:function(e,t,a){var l,n;l=[a,t,a(0),a(5),a(4),a(2),a(275),a(3),a(9)],void 0===(n=function(e,t,a,l,n,i,o,s,r){"use strict";return l=a.__importDefault(l),n=a.__importDefault(n),i=a.__importStar(i),o=a.__importDefault(o),s=a.__importDefault(s),r=a.__importStar(r),l.default({displayName:"linkTo",mixins:[o.default],propTypes:{label:n.default.string,placeholder:n.default.string,showButton:n.default.bool,infoText:n.default.string,infoTitle:n.default.string},getDefaultProps:()=>({label:"",placeholder:"Link_To_Control_Label_Placeholder",showButton:!0}),shouldShowButton(){return this.props.showButton&&this.state.validationStatus===this.ValidationStatus.NONE},shouldShowSuccessSymbol(){return this.state.validationStatus===this.ValidationStatus.SUCCESS},getTranslatedLink(){let e=i.link.getLinkValueAsString(this.getEditorAPI(),i.valueLink.getValueFromProps(this.props));return e=e||i.translate(this.props.placeholder),e},render(){return s.default.createElement(r.labelWithCircleButton,{key:"labelWithCircleButton",isDisabled:this.isDisabled(),label:this.props.label,displayedValue:this.getTranslatedLink(),onClick:this.openLinkDialogFromPanel,buttonIcon:"linkBtnThin",showButton:this.shouldShowButton(),showSuccessSymbol:this.shouldShowSuccessSymbol(),infoIconText:this.props.infoText,infoIconTitle:this.props.infoTitle,className:"input-link-to"})}})}.apply(t,l))||(e.exports=n)},2062:function(e,t,a){var l,n;l=[a,t,a(0),a(5),a(275),a(3),a(9),a(2)],void 0===(n=function(e,t,a,l,n,i,o,s){"use strict";return l=a.__importDefault(l),n=a.__importDefault(n),i=a.__importDefault(i),o=a.__importStar(o),l.default({displayName:"linkToButton",mixins:[n.default],render(){var e;return i.default.createElement(o.button,Object.assign({icon:"link",onClick:this.openLinkDialog},this.filteredProps(),{className:s.cx("link-to-button",null===(e=this.filteredProps())||void 0===e?void 0:e.className)}))}})}.apply(t,l))||(e.exports=n)},22:function(e,t){e.exports=E},24:function(e,t){e.exports=b},27:function(e,t){e.exports=P},274:function(e,t,a){var l,n;l=[a,t,a(0),a(5),a(4),a(2),a(6),a(116),a(7),a(3),a(8),a(2)],void 0===(n=function(e,t,a,l,n,i,o,s,r,u,d,p){"use strict";l=a.__importDefault(l),n=a.__importDefault(n),i=a.__importStar(i),o=a.__importDefault(o),s=a.__importDefault(s),r=a.__importDefault(r),u=a.__importDefault(u),d=a.__importDefault(d);const c=l.default({displayName:o.default.PANEL_TYPES.CONFIRMATION,mixins:[i.propTypesFilterMixin,s.default],propTypes:{panelName:n.default.string.isRequired,panelTitle:n.default.string,width:n.default.string,height:n.default.string,onConfirm:n.default.func,shouldCloseByDefaultOnConfirm:n.default.bool,onCancel:n.default.func,onClose:n.default.func,onHelp:n.default.func,confirmLabel:n.default.string,cancelLabel:n.default.string,shouldHideHeader:n.default.bool,shouldHideFooter:n.default.bool,noHelpBtn:n.default.bool,shouldDisableConfirmButton:n.default.bool,shouldHideCancelButton:n.default.bool,shouldHideCloseButton:n.default.bool,type:n.default.oneOf(["important","normal"])},getDefaultProps:()=>({type:"normal",confirmLabel:"confirmationPanelFrame_Confirm",cancelLabel:"confirmationPanelFrame_Cancel",shouldDisableConfirmButton:!1,shouldCloseByDefaultOnConfirm:!0}),getPanelProps(){return{style:{width:this.props.width,height:this.props.height},className:this.props.className}},onConfirm(){this.props.shouldCloseByDefaultOnConfirm&&this.props.close(),this.props.onConfirm&&this.props.onConfirm()},onCancel(){this.props.close(),this.props.onCancel&&this.props.onCancel()},onClose(){this.props.onClose?(this.props.close(),this.props.onClose()):this.onCancel()},onHelp(){this.props.onHelp&&this.props.noHelpBtn&&this.props.onHelp()},getConfirmLabel(){return this.props.confirmLabel},getCancelLabel(){return this.props.cancelLabel},getConfirmButtonClass(){const e="important"===this.props.type?"btn-danger-primary":"btn-confirm-primary";return"".concat(e," btn-md")},getSecondaryButtonClass(){const e="important"===this.props.type?"btn-danger-secondary":"btn-confirm-secondary";return"".concat(e," btn-md")},shouldHideHeader(){return this.props.shouldHideHeader},shouldHideFooter(){return this.props.shouldHideFooter},render(){var e;return u.default.createElement("div",{className:"panel-frame-container screen-centered-frame confirmation-panel-frame-z-index"},u.default.createElement("div",Object.assign({},this.getPanelProps(),{className:p.cx("confirmation-panel-frame ".concat(this.props.type,"-confirmation"),null===(e=this.getPanelProps())||void 0===e?void 0:e.className)}),this.shouldHideHeader()?null:u.default.createElement(d.default.PanelHeader,{automationId:"confirmation-panel-header",key:"header",onClose:this.onClose,onHelp:this.props.onHelp,noHelpBtn:this.props.noHelpBtn,noCloseBtn:this.props.shouldHideCloseButton,className:"dark"},this.props.panelTitle?u.default.createElement("span",{key:"headerTitle"},this.props.panelTitle):null),u.default.createElement("div",{className:"content"},this.props.children),this.props.shouldHideFooter?null:u.default.createElement("footer",{key:"footer"},this.props.shouldHideCancelButton?null:u.default.createElement(d.default.Button,{key:"cancelButton",automationId:"cancelButton",onClick:this.onCancel,className:this.getSecondaryButtonClass()},u.default.createElement("span",null,i.translate(this.props.cancelLabel))),u.default.createElement(d.default.Button,{key:"confirmationButton",automationId:"confirmationButton",onClick:this.onConfirm,disabled:this.props.shouldDisableConfirmButton,className:this.getConfirmButtonClass()},u.default.createElement("span",null,i.translate(this.props.confirmLabel))))),u.default.createElement("div",{className:"dark-frame-overlay"}))}}),m=r.default.editorPlugins.panels.hoc.panelFrame(o.default.PANEL_TYPES.CONFIRMATION)(c);return m.pure=c,m}.apply(t,l))||(e.exports=n)},275:function(e,t,a){var l,n;l=[a,t,a(0),a(11),a(9),a(2)],void 0===(n=function(e,t,a,l,n,i){"use strict";l=a.__importStar(l),n=a.__importStar(n),i=a.__importStar(i);return{mixins:[n.inputMixin,l.mixins.editorAPIMixin],ValidationStatus:{NONE:"none",SUCCESS:"success",ERROR:"error"},getInitialState(){return{validationStatus:this.ValidationStatus.NONE}},componentDidMount(){this.mounted=!0},componentWillUnmount(){this.mounted=!1},openLinkDialogFromPanel(){this.openLinkDialog(!0)},openLinkDialog(e){this.getEditorAPI().openLinkPanel({link:i.valueLink.getValueFromProps(this.props),visibleSections:this.props.visibleSections,callback:this.linkUpdated},!e)},linkUpdated(e){this.setState({validationStatus:this.ValidationStatus.SUCCESS}),i.valueLink.callOnChangeIfExists(this.props,e),window.setTimeout(function(){this.mounted&&this.setState({validationStatus:this.ValidationStatus.NONE})}.bind(this),1e3)}}}.apply(t,l))||(e.exports=n)},28:function(e,t,a){var l,n;l=[a,t,a(0),a(5),a(4),a(6),a(2),a(116),a(117),a(7),a(3),a(8)],void 0===(n=function(e,t,a,l,n,i,o,s,r,u,d,p){"use strict";l=a.__importDefault(l),n=a.__importDefault(n),i=a.__importDefault(i),o=a.__importStar(o),s=a.__importDefault(s),r=a.__importDefault(r),u=a.__importDefault(u),d=a.__importDefault(d),p=a.__importDefault(p);const c={OUT_OF_FOCUS:r.default.OUT_OF_FOCUS,X_BUTTON:"x_button"};function m(e){const t=Number(e);return t==e?t:e}const f=l.default({mixins:[s.default],displayName:i.default.PANEL_TYPES.FOCUS,propTypes:{automationId:n.default.string,blockOuterScroll:n.default.func.isRequired,close:n.default.func.isRequired,openHelpCenter:n.default.func.isRequired,panelName:n.default.string.isRequired,width:n.default.string,height:n.default.string,title:n.default.string,headerClassName:n.default.string,frameClassName:n.default.string,shouldHideHeader:n.default.bool,shouldHideHelp:n.default.bool,shouldNotCloseOnBlur:n.default.bool,keyboardShortcuts:n.default.object,shouldExtendDefaultShortcuts:n.default.bool},getHeaderClassName(){return this.props.headerClassName||"panel-header"},getFrameProps(){return{style:{width:this.props.width,height:this.props.height}}},shouldHideHeader(){return this.props.shouldHideHeader},shouldCloseFrame(e){return!this.props.onClose||!0===this.props.onClose(e)},onXButtonClick(){this.closeFrameIfNeeded(c.X_BUTTON)},closeFrameIfNeeded(e){this.shouldCloseFrame(e)&&this.props.close()},handleBlur(){this.props.shouldNotCloseOnBlur||this.closeFrameIfNeeded(c.OUT_OF_FOCUS)},getClassName(e){return o.inheritClassName(this.props,e)},getWidthHeight(){const e={};return this.props.width&&(e.width=m(this.props.width)),this.props.height&&(e.height=m(this.props.height)),e},render(){return d.default.createElement("div",{onWheel:this.props.blockOuterScroll,onContextMenu:e=>{this.props.onContextMenu&&this.props.onContextMenu(e)},"data-aid":this.props.automationId,className:"panel-frame-container screen-centered-frame focus-panel-frame-z-index ".concat(this.props.frameClassName||"")},d.default.createElement("div",{style:this.getWidthHeight(),className:this.getClassName("focus-panel-frame")},this.shouldHideHeader()?null:d.default.createElement(p.default.PanelHeader,{key:"header",onClose:this.onXButtonClick,onHelp:this.props.openHelpCenter,noHelpBtn:this.props.shouldHideHelp,className:"".concat(this.getHeaderClassName()," dark")},d.default.createElement("span",null,this.props.title)),d.default.createElement("div",{style:{backgroundColor:this.props.containerBackground},className:this.shouldHideHeader()?"focus-panel-frame-content-no-header":"focus-panel-frame-content"},this.props.children)),d.default.createElement("div",{onClick:this.handleBlur,style:{backgroundColor:this.props.overlayBackground},className:"dark-frame-overlay"}))}}),h=u.default.editorPlugins.panels.hoc.panelFrame(i.default.PANEL_TYPES.FOCUS)(f);return h.pure=f,h}.apply(t,l))||(e.exports=n)},3:function(e,t){e.exports=l},4:function(e,t){e.exports=n},41:function(e,t){e.exports=C},48:function(e,t,a){var l,n;l=[a,t,a(0),a(3),a(5),a(4),a(1),a(18),a(6),a(2),a(24),a(8),a(22),a(7),a(116),a(117)],void 0===(n=function(e,t,a,l,n,i,o,s,r,u,d,p,c,m,f,h){"use strict";l=a.__importDefault(l),n=a.__importDefault(n),i=a.__importDefault(i),o=a.__importDefault(o),s=a.__importDefault(s),r=a.__importDefault(r),u=a.__importStar(u),d=a.__importStar(d),p=a.__importDefault(p),c=a.__importDefault(c),m=a.__importDefault(m),f=a.__importDefault(f),h=a.__importDefault(h);const{measuring:_}=d.hoc;function g(e,t){if(/%$/.test(e)){const a=parseInt(e,10);return parseInt(t*(a/100),10)||0}return parseInt(e,10)||0}const E=n.default({displayName:r.default.PANEL_TYPES.TOOL,propTypes:{panelName:i.default.string.isRequired,selectedComponentType:i.default.string,headerTitle:i.default.string,width:i.default.string,height:i.default.string,helpId:i.default.string,top:i.default.oneOfType([i.default.string,i.default.number]),left:i.default.oneOfType([i.default.string,i.default.number]),isBlockingLayerFullScreen:i.default.bool,shouldBlockOuterScroll:i.default.bool,lightHeader:i.default.bool,contentClass:i.default.string,contentWrapperClass:i.default.string,onClose:i.default.func,openHelpCenter:i.default.func,contentStyle:i.default.object,style:i.default.object,close:i.default.func,onContentElementReady:i.default.func,reportMeasurements:i.default.func.isRequired,measurements:i.default.shape({contentHeight:i.default.number,contentWidth:i.default.number,stageLayout:i.default.object,editorContentLayout:i.default.object,initialPos:i.default.shape({top:i.default.number,left:i.default.number})}),automationId:i.default.string,className:i.default.string,stageLayout:i.default.object,editorContentLayout:i.default.object,renderContent:i.default.func,children:i.default.oneOfType([i.default.array,i.default.object]),useScroll:i.default.bool},mixins:[u.draggableMixin,f.default],componentDidMount(){this.props.onContentElementReady&&this.contentWrapper&&this.props.onContentElementReady(this.contentWrapper),this.measureContentElement()},measureContentElement(){const e=c.default(s.default.findDOMNode(this.getContentWrapperElement())),t=this.props.stageLayout,a=this.props.editorContentLayout,l=e.height()||0,n=e.width()||0,i=g(e.css("top"),t.height+t.top),o=g(e.css("left"),t.width+t.left),r=this.calcInitialContentPos(i,o,t,n,l,a);this.props.reportMeasurements({initialPos:r})},calcInitialContentPos(e,t,a,l,n,i){const o=(c.default(window).scrollTop()||0)+(i.bottom-n),s=a.right-l;return{top:Math.min(e,o),left:Math.min(Math.max(t,0),s)}},getContentWrapperProps(){return{style:this.getContentWrapperStyle(),className:"tool-panel-frame ".concat(o.default.isEmpty(this.props.measurements)?"hidden":""," ").concat(this.props.contentWrapperClass)}},getContentWrapperStyle(){return!this.state.isCustomPosition&&o.default.get(this.props,"measurements.initialPos")?o.default.defaults({},this.props.measurements.initialPos,this.props.contentStyle):this.props.contentStyle},getDragLimits(){if(o.default.isEmpty(this.props.measurements))return{x:[],y:[]};const e=c.default(s.default.findDOMNode(this.getContentWrapperElement())),t=this.props.stageLayout,a=this.props.editorContentLayout,l=e.height()||0,n=e.width()||0;return u.panelUtils.getPanelDragLimits(l,n,t,a)},getContentClass(){return"content ".concat(this.props.contentClass||"")},getContentWrapperElement(){return this.contentWrapper},setContentWrapper(e){this.contentWrapper=e},renderDefaultHeader(){return l.default.createElement(p.default.PanelHeader,{ref:"header",key:"toolFrameHeader",onMouseDown:e=>this.startDrag(e,this.getDragLimits(),this.contentWrapper),className:"dragger ".concat(this.props.lightHeader?"light":"dark"),onClose:this.closePanel,onHelp:this.props.openHelpCenter,noHelpBtn:!this.props.helpId},l.default.createElement("span",null,this.props.headerTitle))},blockOuterScrollIfNecessary(){this.props.shouldBlockOuterScroll&&this.blockOuterScroll.apply(this,arguments)},closePanel(e){this.props.onClose&&this.props.onClose(e),this.props.close()},onOverlayClick(){this.closePanel(h.default.CLICK_OUTSIDE)},onEscape(){this.closePanel(h.default.ESCAPE_PRESS)},startContentDrag(e){return this.startDrag(e,this.getDragLimits(this.contentWrapper),this.contentWrapper)},renderChildren(){return o.default.isFunction(this.props.renderContent)?this.props.renderContent(this.startContentDrag):this.props.children},render(){return l.default.createElement("div",{onWheel:this.blockOuterScrollIfNecessary,"data-aid":this.props.automationId,style:this.props.style,className:"panel-frame-container tool-panel-frame-container tool-panel-frame-z-index".concat(this.props.isBlockingLayerFullScreen?" full-screen":""," ").concat(this.props.className||"")},l.default.createElement("div",{onClick:this.onOverlayClick,ref:"closeButton",className:"transparent-frame-overlay"}),l.default.createElement("div",Object.assign({ref:this.setContentWrapper},this.getContentWrapperProps()),this.props.headerTitle?l.default.createElement(p.default.PanelHeader,{ref:"header",key:"toolFrameHeader",onMouseDown:this.startContentDrag,onClose:this.closePanel,onHelp:this.props.openHelpCenter,noHelpBtn:!this.props.helpId,className:"dragger ".concat(this.props.lightHeader?"light":"dark")},this.props.headerTitle?l.default.createElement("span",{key:"headerTitle"},this.props.headerTitle):null):null,this.props.useScroll?l.default.createElement(p.default.CustomScroll,{key:"scrolled-content",heightRelativeToParent:"100%",keepAtBottom:!0},l.default.createElement("div",{className:"scrolled-content ".concat(this.getContentClass())},this.renderChildren())):null,this.props.useScroll?null:l.default.createElement("div",{key:"content",className:this.getContentClass()},this.renderChildren())))}});return o.default.flowRight(m.default.editorPlugins.panels.hoc.panelFrame(r.default.PANEL_TYPES.TOOL),_)(E)}.apply(t,l))||(e.exports=n)},496:function(e,t,a){var l,n;l=[a,t,a(0),a(1),a(18),a(5),a(4),a(2),a(11),a(6),a(14),a(7),a(3),a(9),a(8),a(2)],void 0===(n=function(e,t,a,l,n,i,o,s,r,u,d,p,c,m,f,h){"use strict";l=a.__importDefault(l),n=a.__importDefault(n),i=a.__importDefault(i),o=a.__importDefault(o),s=a.__importStar(s),r=a.__importStar(r),u=a.__importDefault(u),d=a.__importStar(d),p=a.__importDefault(p),c=a.__importDefault(c),m=a.__importStar(m),f=a.__importDefault(f);const{getViewPort:_}=p.default.domMeasurements.selectors;const g=i.default({displayName:u.default.PANEL_TYPES.HELP,mixins:[s.draggableMixin,r.mixins.editorAPIMixin],PropTypes:{helpUrl:o.default.string.isRequired,closePanelBiEvent:o.default.object,closePanelBiParams:o.default.object,openPanelBiEvent:o.default.object,openPanelBiParams:o.default.object,isMobileEditor:o.default.bool},getInitialState:()=>({showLoader:!0}),componentDidMount(){this.props.openPanelBiEvent&&this.props.openPanelBiParams&&this.getEditorAPI().bi.event(this.props.openPanelBiEvent,this.props.openPanelBiParams),n.default.findDOMNode(this.refs.helpIframe).addEventListener("load",this.hideLoader)},componentWillReceiveProps(e){e.isMobileEditor!==this.props.isMobileEditor&&this.closeHelpCenter()},getDragLimits(){const e=this.getEditorAPI(),t=_(e.store.getState());return{y:[t&&t.minY||e.editorConfig.topBarHeight]}},componentWillUnmount(){this.props.closePanelBiEvent&&this.props.closePanelBiParams&&this.getEditorAPI().bi.event(this.props.closePanelBiEvent,this.props.closePanelBiParams)},closeHelpCenter(){this.getEditorAPI().panelManager.closeHelpCenter()},onCancel(){this.closeHelpCenter()},hideLoader(){this.setState({showLoader:!1})},getIframeSrc(){return function(e){const t=l.default.startsWith(e,"?")?e:"article/".concat(e);return"https://wix.wixanswers.com/apps/widget/v1/wix/".concat(d.HELP_CENTER.NEW_HELP_WIDGET_ID,"/view/").concat(s.languages.getLanguageCode(),"/").concat(t)}(this.props.helpUrl)},render(){return c.default.createElement("div",{className:"help-panel-frame"},c.default.createElement(f.default.PanelHeader,{ref:"header",onMouseDown:e=>{this.startDrag(e,this.getDragLimits())},onClose:this.closeHelpCenter,noHelpBtn:!0,className:"dragger dark help-panel-frame-drag-handle"}),c.default.createElement("iframe",{id:this.props.id,src:this.getIframeSrc(),ref:"helpIframe",className:this.props.className||""}),c.default.createElement(m.preloader,{className:h.cx({hidden:!this.state.showLoader})}))}}),E=p.default.editorPlugins.panels.hoc.panelFrame(u.default.PANEL_TYPES.HELP)(g);return E.pure=g,E}.apply(t,l))||(e.exports=n)},497:function(e,t,a){var l,n;l=[a,t,a(0),a(1),a(5),a(4),a(11),a(2),a(6),a(7),a(3),a(8),a(2)],void 0===(n=function(e,t,a,l,n,i,o,s,r,u,d,p,c){"use strict";l=a.__importDefault(l),n=a.__importDefault(n),i=a.__importDefault(i),o=a.__importStar(o),s=a.__importStar(s),r=a.__importDefault(r),u=a.__importDefault(u),d=a.__importDefault(d),p=a.__importDefault(p);const{panelDragLimits:m,panelFrame:f}=u.default.editorPlugins.panels.hoc,h=["width","top","left"],_=n.default({displayName:r.default.PANEL_TYPES.TPA_SETTINGS,mixins:[s.draggableMixin,o.mixins.editorAPIMixin],propTypes:{panelName:i.default.string.isRequired,title:i.default.string.isRequired,width:i.default.number,height:i.default.number,top:i.default.string,left:i.default.string,onHelpClicked:i.default.func,getPanelDragLimits:i.default.func.isRequired,shouldAddScroll:i.default.bool.isRequired},getInitialState:()=>({showHelp:!1}),getPanelProps(){const e=l.default.filter(h,e=>this.props[e]),t=l.default.pick(this.props,e);return l.default.defaults({style:t},l.default.pick(this.props,["className","style"]))},toggleHelp(){const e=!this.state.showHelp;this.setState({showHelp:e})},getContentStyle(){return{height:l.default.isNumber(this.props.height)?"".concat(this.props.height,"px"):"100%"}},handleClose(){l.default.invoke(this.props,"close"),l.default.invoke(this.props,"onClose")},render(){var e;return d.default.createElement("div",Object.assign({"data-aid":"tpa-settings-panel"},this.getPanelProps(),{className:c.cx("tpa-settings-panel-frame",null===(e=this.getPanelProps())||void 0===e?void 0:e.className)}),d.default.createElement(p.default.PanelHeader,{onMouseDown:e=>{this.startDrag(e,this.props.getPanelDragLimits())},onHelp:this.props.openHelpCenter,onClose:this.handleClose,className:"dragger dark"},d.default.createElement("span",null,this.props.title)),this.props.shouldAddScroll?d.default.createElement(p.default.CustomScroll,{key:"scroll"},d.default.createElement("div",{style:this.getContentStyle(),className:"content"},this.props.children)):null,this.props.shouldAddScroll?null:d.default.createElement("div",{key:"noScroll",style:this.getContentStyle(),className:"content"},this.props.children))}});return l.default.flow(f(r.default.PANEL_TYPES.TPA_SETTINGS),m())(_)}.apply(t,l))||(e.exports=n)},498:function(e,t,a){var l,n;l=[a,t,a(0),a(4),a(1),a(6),a(7),a(3)],void 0===(n=function(e,t,a,l,n,i,o,s){"use strict";l=a.__importDefault(l),n=a.__importDefault(n),i=a.__importDefault(i),o=a.__importDefault(o),s=a.__importDefault(s);class r extends s.default.Component{constructor(){super(...arguments),this.getHtmlProps=()=>n.default.pick(this.props,["style","className"])}render(){return s.default.createElement("div",Object.assign({},this.getHtmlProps()),s.default.createElement("div",{className:"content"},this.props.children))}}r.displayName=i.default.PANEL_TYPES.EMPTY,r.propTypes={panelName:l.default.string.isRequired};const u=o.default.editorPlugins.panels.hoc.panelFrame(i.default.PANEL_TYPES.EMPTY)(r);return u.pure=r,u}.apply(t,l))||(e.exports=n)},499:function(e,t,a){var l,n;l=[a,t,a(0),a(1),a(4),a(9),a(3),a(8)],void 0===(n=function(e,t,a,l,n,i,o,s){"use strict";l=a.__importDefault(l),n=a.__importDefault(n),i=a.__importStar(i),o=a.__importDefault(o),s=a.__importDefault(s);class r extends o.default.Component{constructor(){super(...arguments),this.getSortedProperties=()=>{const{propertiesOrder:e,properties:t}=this.props.propertyData;return e?l.default.map(e,e=>l.default.assign({propName:e},t[e])):[]},this.getPropertiesUIComponents=()=>l.default(this.state.properties).map(e=>i.utils.generateUICompByPropertySchema(this.props.resolveDefinition({[e.propName]:e}),this.props.value[e.propName],this.onChange,{openMediaManager:this.props.openMediaManager})).thru(i.utils.generateSeparatorBetweenComponents).value(),this.onChange=(e,t)=>{this.props.onChange(l.default.defaults({[e]:t},this.props.value))},this.state={properties:this.getSortedProperties()}}render(){return o.default.createElement("div",{"data-aid":this.props.automationId,className:"object-properties-editor"},o.default.createElement(s.default.CustomScroll,{flex:"1"},o.default.createElement("div",null,this.getPropertiesUIComponents())))}}return r.displayName="objectPropertyEditor",r.propTypes={propertyData:n.default.object.isRequired,value:n.default.object.isRequired,openMediaManager:n.default.func.isRequired,onChange:n.default.func.isRequired,resolveDefinition:n.default.func.isRequired,automationId:n.default.string},r}.apply(t,l))||(e.exports=n)},5:function(e,t){e.exports=i},500:function(e,t,a){var l,n;l=[a,t,a(0),a(6)],void 0===(n=function(e,t,a,l){"use strict";return{automationIds:{UPGRADE_PLAN_BUTTON:"custom-error-page-upgrade-plan-button",SET_PAGE_BUTTON:"custom-error-page-set-page-button",OPEN_PAGE_BUTTON:"custom-error-page-open-page-button",HELP_LINK:"custom-error-page-help-link",PREVIEW_LINK:"custom-error-page-preview-link"},actions:{UPGRADE_PLAN:"edhtml_TOP_BAR_UPGRADE_MENU_COMPARE_PLANS"},displayName:"customErroPagePanel",defaultUrl:(l=a.__importDefault(l)).default.CUSTOM_ERROR_PAGE.DEFAULT_URL}}.apply(t,l))||(e.exports=n)},501:function(e,t,a){var l,n;l=[a,t,a(0),a(3),a(4),a(2),a(7),a(8),a(28)],void 0===(n=function(e,t,a,l,n,i,o,s,r){"use strict";function u(){return l.default.createElement(r.default,{automationId:"progress-bar-panel",panelName:this.props.panelName,shouldHideHeader:!0,shouldNotCloseOnBlur:!0,width:"564px",keyboardShortcuts:this.getKeyboardShortcuts(),className:"progress-bar-panel"},l.default.createElement("div",{className:"tasks-section"},l.default.createElement(s.default.Composites.ProgressBarWithIllustration,null,l.default.createElement(s.default.Illustration,null,l.default.createElement("img",{src:this.props.illustration,className:"illustration"})),l.default.createElement(s.default.Composites.ProgressBar,null,l.default.createElement(s.default.TextLabel,{type:"T03",value:this.props.title,automationId:"progress-bar-title",shouldTranslate:!1}),l.default.createElement(s.default.ProgressBar,{automationId:"progress-bar-percentage",progress:this.props.step,progressMax:this.props.progressMax}),l.default.createElement(s.default.TextLabel,{automationId:"progress-bar-task-name",type:"T02",value:this.props.taskDisplayName,shouldTranslate:!1})))))}l=a.__importDefault(l),n=a.__importDefault(n),i=a.__importStar(i),o=a.__importDefault(o),s=a.__importDefault(s),r=a.__importDefault(r);const d={titleKey:"tpa_messages_dashboard_before_save_error_title",description:"SAVE_PUBLISH_ERROR_BODY_DESCRIPTION",steps:["tpa_messages_upgrade_before_save_error_step_1","tpa_messages_upgrade_before_save_error_step_2","tpa_messages_upgrade_before_save_error_step_3"],helpMessage:"tpa_messages_dashboard_before_save_error_support",helpLinkMessage:"tpa_messages_upgrade_before_save_error_support_link",helpLink:""};class p extends l.default.Component{constructor(e){super(e),this.getKeyboardShortcuts=()=>({esc:()=>{this.props.step>=this.props.progressMax-1&&this.props.closePanel()}})}componentDidUpdate(){this.props.isError&&(this.props.closePanel(),this.props.openFailPanel(d)),this.props.isDone&&setTimeout(this.props.closePanel,1e3)}render(){return u.call(this)}}return p.propTypes={closePanel:n.default.func.isRequired,openFailPanel:n.default.func.isRequired,isDone:n.default.bool.isRequired,title:n.default.string.isRequired,progressMax:n.default.number.isRequired,step:n.default.number,taskDisplayName:n.default.string,illustration:n.default.string,isError:n.default.bool},p.defaultProps={illustration:i.media.getMediaUrl(2===i.browserUtil.getDevicePixelRatio()?"panels/focusPanels/app-installer-progress-panel_x2.gif":"panels/focusPanels/app-installer-progress-panel_x1.gif"),isError:!1,step:0},i.hoc.connect(i.hoc.STORES.STATE_AND_DS,null,(e,t)=>({closePanel:()=>{e(o.default.editorPlugins.panels.actions.closePanelByNameAction(t.panelName))},openFailPanel:t=>{e(o.default.editorPlugins.panels.actions.updateOrOpenPanel("savePublish.panels.common.failPanel",t))}}))(p)}.apply(t,l))||(e.exports=n)},502:function(e,t,a){var l,n;l=[a,t,a(0),a(5),a(4),a(1),a(11),a(2),a(9),a(41),a(12),a(6),a(198),a(3),a(8),a(2),a(2034),a(2035)],void 0===(n=function(e,t,a,l,n,i,o,s,r,u,d,p,c,m,f,h,_,g){"use strict";l=a.__importDefault(l),n=a.__importDefault(n),i=a.__importDefault(i),o=a.__importStar(o),s=a.__importStar(s),r=a.__importStar(r),u=a.__importDefault(u),d=a.__importStar(d),p=a.__importDefault(p),c=a.__importDefault(c),m=a.__importDefault(m),f=a.__importDefault(f),_=a.__importDefault(_),g=a.__importDefault(g);const E=["#000000","#FFFFFF"],b=l.default({displayName:"siteCustomColors",mixins:[o.mixins.editorAPIMixin,r.radioButtonsMixin],propTypes:{customColors:n.default.arrayOf(n.default.string).isRequired,userAddedColors:n.default.array,isEditable:n.default.bool,onPreview:n.default.func,openAddColorPanel:n.default.func},NUM_OF_EMPTY_SLOTS:36,AUTOMATION_IDS:c.default.AUTOMATION_IDS,getInitialState(){return{selectedIndex:this.getSelectedColorIndex(s.valueLink.getValueFromProps(this.props),this.props.userAddedColors||[])}},getFilteredColors(e){e=e||this.props.userAddedColors||[];const t=i.default.difference(this.props.customColors,E,e);return i.default.uniq(E.concat(e,t))},selectColor(e,t){this.getEditorAPI().bi.event(d.events.colorPicker.CUSTOM_COLOR_SELECT,{}),this.setState({selectedIndex:t},s.valueLink.callOnChangeIfExists(this.props,e))},getSelectedColorIndex(e,t){return this.getFilteredColors(t||this.props.userAddedColors).indexOf(e)},getColorBrightnessClass(e){if(!e)return"dark";const t=s.colors.hexToRgb(e),a=s.colors.rgbToHsb(t);return a.brightness>=80&&a.saturation<50?"bright":"dark"},getColorOptionClasses(e){const t={"color-displayer":!0,"white-option":s.colors.getDistanceToWhite(e)<3};return t["".concat(this.getColorBrightnessClass(e),"-color")]=!0,t},componentWillReceiveProps(e){const t=s.valueLink.getValueFromProps(this.props),a=s.valueLink.getValueFromProps(e);t!==a&&this.setState({selectedIndex:this.getSelectedColorIndex(a)})},addCustomColor(){this.getEditorAPI().bi.event(d.events.colorPicker.ADD_COLOR_BUTTON_CLICKED,{}),this.props.openAddColorPanel()},renderAddBtn(){return this.props.isEditable?m.default.createElement(_.default,{key:"addColorButton",onAddCustomColor:this.props.openAddColorPanel}):null},renderCustomColors(){const e=s.valueLink.getValueFromProps(this.props);return this.getFilteredColors().map((t,a)=>m.default.createElement(g.default,{key:"colorOption-".concat(a),automationId:this.AUTOMATION_IDS.BTN.CUSTOM_COLORS,index:a,color:t,radioGroupId:this.getRadioGroupId(),onPreview:this.props.onPreview,onSelectColor:this.selectColor,selectedIndex:this.state.selectedIndex,selected:e,colorOptionClasses:this.getColorOptionClasses(t)}))},render(){var e;const t=this.getFilteredColors();return m.default.createElement("div",{className:h.cx("site-custom-colors",null===(e=this.filteredProps())||void 0===e?void 0:e.className)},m.default.createElement(f.default.CustomScroll,{heightRelativeToParent:"100%",keepAtBottom:!0},this.renderAddBtn(),this.renderCustomColors(),i.default.isEmpty(t)?i.default.map(i.default.range(this.NUM_OF_EMPTY_SLOTS),()=>m.default.createElement("div",{key:"emptyColorOptions",className:"empty-color-option"})):null))}}),P=[{type:"session",key:p.default.USER_PREFS.THEME.COLORS.CUSTOM.USER_ADDED,propName:"userAddedColors",updatePropName:"setUserAddedColors"}];return u.default.withUserPreferences(P)(b)}.apply(t,l))||(e.exports=n)},503:function(e,t,a){var l,n;l=[a,t,a(0),a(4),a(1),a(2),a(198),a(3),a(9),a(8),a(502)],void 0===(n=function(e,t,a,l,n,i,o,s,r,u,d){"use strict";var p;return l=a.__importDefault(l),n=a.__importDefault(n),i=a.__importStar(i),o=a.__importDefault(o),s=a.__importDefault(s),r=a.__importStar(r),u=a.__importDefault(u),d=a.__importDefault(d),(p=class extends s.default.Component{constructor(e,t){super(e,t),this.resolveColor=e=>n.default.includes(e,"color")?this.props.paletteColors[e]:e&&e!==o.default.NO_COLOR?e:"#ffffff",this.onHsbColorChanged=e=>{this.setState({selectedColor:e},(function(){const t=i.colors.hsbToHex(e);this.props.onPreview(t)}))},this.onCustomColorSelected=e=>{this.setState({selectedColor:i.colors.hexToHsbExact(e)},(function(){this.props.onPreview(e)}))},this.resetToInitialColor=()=>{const e=this.resolveColor(this.initialColor);this.setState({selectedColor:i.colors.hexToHsbExact(e)},(function(){this.props.onPreview(this.initialColor)}))},this.previewColor=e=>{this.props.onPreview(e)},this.callOnChangeAndClose=()=>{i.valueLink.callOnChangeIfExists(this.props,i.colors.hsbToHex(this.state.selectedColor)),this.wasConfirmClicked=!0,this.close()},this.onChangeInValidationStatus=e=>{this.mounted&&this.setState({isValid:e})},this.handleCancel=()=>{this.props.onCancel(),this.close()},this.close=()=>{this.props.closeHandler()},this.initialColor=i.valueLink.getValueFromProps(e);const a=this.resolveColor(this.initialColor),l=i.colors.hexToHsbExact(a);this.state={selectedColor:l,isValid:!0},this.AUTOMATION_IDS=o.default.AUTOMATION_IDS}componentDidMount(){this.mounted=!0}componentWillUnmount(){this.mounted=!1,this.wasConfirmClicked||this.props.onCancel()}render(){return s.default.createElement("div",{className:"add-color-content"},s.default.createElement("div",null,s.default.createElement(r.colorSpace,{value:this.state.selectedColor,onChange:this.onHsbColorChanged})),s.default.createElement("div",{className:"color-indicator"},s.default.createElement("span",{"data-aid":this.AUTOMATION_IDS.COLOR_INDICATORS.INITIAL,onMouseDown:this.resetToInitialColor,style:{backgroundColor:this.resolveColor(this.initialColor)},className:"color-sample initial-color"}),s.default.createElement("span",{"data-aid":this.AUTOMATION_IDS.COLOR_INDICATORS.CURRENT,style:{backgroundColor:i.colors.hsbToHex(this.state.selectedColor)},className:"color-sample current-color"})),s.default.createElement("div",{className:"color-format"},s.default.createElement(r.colorFormat,{value:this.state.selectedColor,onChange:this.onHsbColorChanged,onChangeInValidationStatus:this.onChangeInValidationStatus})),this.props.siteCustomColors?s.default.createElement("div",{key:"addColorCustomColorsSeperator",className:"custom-colors-separator"}):null,this.props.siteCustomColors?s.default.createElement("div",{key:"customColorsSectionTitle",className:"custom-colors-section-title"},i.translate("ColorPicker_MainPanel_MoreColors")):null,s.default.createElement(u.default.CustomScroll,null,this.props.siteCustomColors?s.default.createElement("div",{key:"customColorsSection",className:"custom-colors-section"},s.default.createElement(d.default,{onPreview:this.previewColor,customColors:this.props.siteCustomColors,paletteColors:this.props.paletteColors,value:i.colors.hsbToHex(this.state.selectedColor),onChange:this.onCustomColorSelected,className:"custom-colors"})):null),s.default.createElement("div",{className:"footer"},s.default.createElement(r.button,{automationId:this.AUTOMATION_IDS.BTN.CLOSE,label:"ColorPicker_ColorSpace_CancelButton",onClick:this.handleCancel,className:"cancel-button btn-md btn-confirm-secondary"}),s.default.createElement(r.button,{automationId:this.AUTOMATION_IDS.BTN.ADD,label:"ColorPicker_ColorSpace_AddButton",onClick:this.callOnChangeAndClose,disabled:!this.state.isValid,className:"confirm-button btn-md"})))}}).displayName="addColorContent",p.propTypes={valueLink:l.default.shape({value:l.default.string,requestChange:l.default.func}).isRequired,paletteColors:l.default.object.isRequired,closeHandler:l.default.func.isRequired,onPreview:l.default.func.isRequired,onCancel:l.default.func.isRequired,siteCustomColors:l.default.arrayOf(l.default.string)},p}.apply(t,l))||(e.exports=n)},57:function(e,t){e.exports=y},6:function(e,t){e.exports=o},67:function(e,t,a){var l,n;l=[a,t,a(0),a(5),a(4),a(2),a(6),a(41),a(116),a(117),a(7),a(3),a(9),a(8),a(2)],void 0===(n=function(e,t,a,l,n,i,o,s,r,u,d,p,c,m,f){"use strict";l=a.__importDefault(l),n=a.__importDefault(n),i=a.__importStar(i),o=a.__importDefault(o),s=a.__importDefault(s),r=a.__importDefault(r),u=a.__importDefault(u),d=a.__importDefault(d),p=a.__importDefault(p),c=a.__importStar(c),m=a.__importDefault(m);const h=l.default({displayName:o.default.PANEL_TYPES.MESSAGE,mixins:[i.propTypesFilterMixin,r.default],propTypes:{panelName:n.default.string.isRequired,panelTitle:n.default.string,width:n.default.string,height:n.default.string,onConfirm:n.default.func,confirmLabel:n.default.string,keyboardShortcuts:n.default.object,shouldExtendDefaultShortcuts:n.default.bool,dontShowAgain:n.default.bool,toggleDontShowAgain:n.default.func.isRequired,showCancelBtn:n.default.bool,cancelLabel:n.default.string,onCancel:n.default.func,close:n.default.func,type:n.default.oneOf(["danger"]),footerText:n.default.object,shouldCloseOnConfirm:n.default.bool,shouldCloseOnCancel:n.default.bool,confirmDisabled:n.default.bool,cancelDisabled:n.default.bool,onHelp:n.default.func},getInitialState:()=>({buttonWasClicked:!1}),getDefaultProps:()=>({confirmLabel:"messagePanelFrame_Confirm",shouldCloseOnConfirm:!0,shouldCloseOnCancel:!0}),getPanelProps(){return{style:{width:this.props.width,height:this.props.height},className:this.props.className}},_closeAndCall(e,t){this.state.buttonWasClicked||(this.setState({buttonWasClicked:!0}),this.props.close(t),e&&e())},onConfirm(){if(!this.props.confirmDisabled)return this.props.shouldCloseOnConfirm?void this._closeAndCall(this.props.onConfirm,u.default.CONFIRM_BUTTON):this.props.onConfirm()},onCancel(e){return()=>{if(!this.props.cancelDisabled)return this.props.shouldCloseOnCancel?void this._closeAndCall(this.props.onCancel,e):this.props.onCancel()}},onDontShowAgainChange(e){this.props.onDontShowAgainChange(e),this.props.toggleDontShowAgain(e)},render(){var e;return p.default.createElement("div",{className:"panel-frame-container screen-centered-frame message-panel-frame-z-index"},p.default.createElement("div",{className:"dark-frame-overlay"}),p.default.createElement("div",Object.assign({},this.getPanelProps(),{className:f.cx("composite-popup composite-popup-small-size close-font-message message-panel-frame ".concat(this.props.type?this.props.type:""),null===(e=this.getPanelProps())||void 0===e?void 0:e.className)}),p.default.createElement(m.default.PanelHeader,{onClose:this.onCancel(u.default.HEADER_CLOSE_BUTTON),onHelp:this.props.onHelp,noHelpBtn:!this.props.onHelp,className:"dark"},this.props.panelTitle?p.default.createElement("span",{key:"headerTitle"},this.props.panelTitle):null),p.default.createElement(m.default.Composites.PanelContent,null,this.props.children),p.default.createElement("div",{className:"composite-action-set-horizontal"},this.props.footerText?p.default.createElement("div",{key:"footerText",className:"footer-text"},this.props.footerText):null,this.props.dontShowAgainKey&&this.props.userPrefType?p.default.createElement(m.default.Checkbox,{key:"dont-show-again-toggle",labelAfterSymbol:!0,label:"Notification_Box_Dont_Show_Again",value:this.props.dontShowAgain,onChange:this.onDontShowAgainChange,className:"dont-show-again"}):null,this.props.cancelLabel?p.default.createElement(c.button,{automationId:"message-panel-frame-cancel-btn",key:"btn-confirm-secondary",disabled:this.props.cancelDisabled,onClick:this.onCancel(u.default.DONE_BUTTON),label:this.props.cancelLabel,className:"btn-confirm-secondary secondary"}):null,p.default.createElement(c.button,{disabled:this.props.confirmDisabled,automationId:"message-panel-frame-confirm-btn",onClick:this.onConfirm,label:this.props.confirmLabel,className:"btn-confirm-primary primary"}))))}}),_=s.default.linkUserPreferences()(d.default.editorPlugins.panels.hoc.panelFrame(o.default.PANEL_TYPES.MESSAGE)(h));return _.pure=h,_}.apply(t,l))||(e.exports=n)},7:function(e,t){e.exports=s},8:function(e,t){e.exports=r},9:function(e,t){e.exports=u},90:function(e,t){e.exports=S}})}));
//# sourceMappingURL=panels.min.js.map