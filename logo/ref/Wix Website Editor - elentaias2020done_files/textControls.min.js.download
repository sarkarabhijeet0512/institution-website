define("textControls",["tslib","lodash","util","react","prop-types","create-react-class","constants","stateManagement","wix-base-ui","baseUI","santa-editor-symbols","core","coreBi","experiment","santa-core-utils","react-dom","panels","zepto","higherOrderComponents"],(function(e,t,o,n,l,a,i,s,r,u,p,d,c,f,m,h,_,g,C){return function(e){var t={};function o(n){if(t[n])return t[n].exports;var l=t[n]={i:n,l:!1,exports:{}};return e[n].call(l.exports,l,l.exports,o),l.l=!0,l.exports}return o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)o.d(n,l,function(t){return e[t]}.bind(null,l));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=2760)}({0:function(t,o){t.exports=e},1:function(e,o){e.exports=t},10:function(e,t){e.exports=p},106:function(e,t,o){var n,l;n=[o,t,o(0),o(1),o(2),o(17),o(7),o(326)],void 0===(l=function(e,t,o,n,l,a,i,s){"use strict";n=o.__importDefault(n),l=o.__importStar(l),a=o.__importDefault(a),i=o.__importDefault(i),s=o.__importDefault(s);const r=a.default.fonts;function u(e,t,o){const n=r.getFontsUrlWithParams(e,t,o);return n||""}function p(e,t){const o=window.santaBase;let n=r.getWixStoredFontsCssUrlsWithParams(o,e);return"WixSite"===t&&(n=n.concat("".concat(l.serviceTopology.publicStaticsUrl,"/css/Helvetica/fontFace.css"))),n}function d(e){const t=i.default.editorPlugins.uploadedFonts.selectors.getList(e.store.getState());if(!n.default.isEmpty(t)){const e=n.default.map(t);return n.default.sortBy(e,"displayName")}}function c(e){return n.default(e).values().map(e=>r.getFontFamily(e)).value()}function f(e,t){const o=e.components.skin.get(n.default.head(t)),l=e.documentServices.theme.skins.getSkinDefinition(o);return n.default.pickBy(l,{type:"FONT"})}return{getStyleFont:function(e,t,o){return n.default.isString(e)?r.parseStyleFont(e,o,t):null},parseStyleFont:r.parseStyleFont,stringifyFontWithoutColor:function(e){return this.stringifyFont(e,!1)},stringifyFont:function(e,t,o){let a="".concat((s=e.italic,!0===s?"italic":!1===s?"normal":s)," ").concat(e.variant," ").concat((i=e.bold,!0===i?"700":!1===i?"normal":i)," ").concat(e.size,"/").concat(e.lineHeight," ").concat(e.family.replace(/\s/g,"+"));var i,s;if(t&&e.color){let t=l.colors.getColorInHex(e.color);if(o){const e=n.default.findKey(o,(function(e){return e===t}));e&&(t="{".concat(e,"}"))}a+=" ".concat(t)}return a},createFontsCssString:function(e,t,o){const l=s.default.getThemeColorData(e),a=n.default.groupBy(t,"cssClass");let i="";return n.default.forEach(o,(function(e,t){const o="font: ".concat(r.fontToCSSWithColor(e,l.color)),s=function(e,t){let o="";t[e]&&n.default.forEach(t[e],(function(e){o+="".concat(e.tag,", ")}));return o+=".".concat(e),o}(t,a);i+="".concat(s,"{").concat(o,"}")})),i},createFontStyleString:function(e,t){const o=s.default.getThemeColorData(t);return"font:".concat(r.fontToCSSWithColor(e,o.color))},getCurrentSelectableFontsWithParams:function(e,t,o){const l=n.default.get(e,"dsRead.fonts");if(l){let n=l.getSiteFontsOptions();return o&&(n=l.getAllFontsOptions()),t||n.unshift({lang:"my-uploads",fonts:d(e)}),n}return[]},getFontsDropDownItems:function(e){return r.getFontsDropDownItems(e)},getFont:function(e){return e=e.toLowerCase(),n.default.head(r.getMetadata([e]))},getSkinBasedCompFontSize:function(e,t){const o=n.default(f(e,t)).keys().head(),l=e.components.style.get(t),a=n.default.get(l,"style.properties.".concat(o));return a?r.parseStyleFont(a,e.theme.fonts.getAll(),e.theme.colors.getAll()).size:""},getSkinBasedCompFontDefs:f,getWixStoredFontsCss:p,getAllFontsCss:function(e,t){const o=u(Object.keys(r.getFontsMetaData()),t,e);return[...p(e,t),o]},getFontsMetadata:function(e){const t="WixSite"!==e?n.default.omitBy(r.getFontsMetaData(),{permissions:"studio"}):{};return n.default.forEach(t,(function(e,t){e.cssFontFamily=r.getFontFamilyWithFallbacks(t)})),t},getAllCustomFontsUrls:function(e,t){const o={};n.default.forEach(r.getFontsMetaData(),(function(e,t){e.cdnName&&(o[t]=t)}));const l=u(n.default.keys(o),e,t);return{missingFontsNames:o,missingFontsUrl:l}},getFontsSpriteUrl:function(){return"url(".concat(l.media.getMediaUrl("textEditor/fonts.v8.png"),")")},getUploadedFontFace:function(e){return r.getUploadedFontFaceStyles(e,l.serviceTopology.mediaRootUrl)},getUploadedFonts:d,isUploadedFont:r.isUploadedFontFamily,getUploadedId:r.getUploadedId,getThemeMap:function(e){return n.default.transform(e.dsRead.theme.fonts.getMap(),(function(e,t,o){const l=t.color.match("{(.*?)}");return e[o]=n.default.assign(t,{fontFamily:t.family,fontSize:n.default.parseInt(t.size),foreColor:l?l[1]:t.color}),e}))},getThemeFontFamilies:c,getUploadedUsedFonts:function(e,t){const o=n.default.union((l=e,r.collectFontsFromTextDataArray([l])),c(t));var l;return n.default.filter(o,e=>r.isUploadedFontFamily(e))}}}.apply(t,n))||(e.exports=l)},11:function(e,t){e.exports=d},12:function(e,t){e.exports=c},13:function(e,t){e.exports=f},17:function(e,t){e.exports=m},18:function(e,t){e.exports=h},19:function(e,t){e.exports=_},2:function(e,t){e.exports=o},216:function(e,t,o){var n,l;n=[o,t,o(0),o(5),o(4),o(9),o(3),o(10),o(9),o(6)],void 0===(l=function(e,t,o,n,l,a,i,s,r,u){"use strict";return n=o.__importDefault(n),l=o.__importDefault(l),a=o.__importStar(a),i=o.__importDefault(i),s=o.__importStar(s),r=o.__importStar(r),u=o.__importDefault(u),n.default({displayName:"iconButton",render(){return i.default.createElement(r.tooltip,{value:this.props.tooltipValue,disabled:!this.props.tooltipValue,styleType:u.default.UI.TOOLTIP.STYLE_TYPE.SMALL},i.default.createElement("div",{className:"icon-button-container"},i.default.createElement("button",{onClick:this.handleClick,style:this.props.style,disabled:this.props.disabled,className:this.getClassName()},this.props.name?i.default.createElement("span",{key:"key".concat(this.props.name)},i.default.createElement(s.symbol,{name:this.props.name})):null,i.default.createElement("span",null,this.props.children),this.props.popupMode?i.default.createElement(r.arrowButton,{key:"iconButtonArrow",withoutBorder:!0}):null)))},mixins:[a.reportUIChangeMixin],propTypes:{isSelected:l.default.bool,buttonMode:l.default.bool,popupMode:l.default.bool},contextTypes:{reportUIChange:l.default.func},getDefaultProps:()=>({isSelected:!1,buttonMode:!0,popupMode:!1}),getClassName(){let e="";return this.props.className&&(e+=" ".concat(this.props.className)),this.props.isSelected&&(e+=" selected"),this.props.buttonMode&&!this.props.popupMode&&(e+=" icon-button"),this.props.popupMode&&(e+=" icon-button popup"),e.trim()},handleClick(){const e=function(e){const t={};switch(e){case"textOutdentLeft":case"textOutdentRight":t.category="decrease";break;case"textIndentLeft":case"textIndentRight":t.category="increase";break;case"textWriteDirectionLeft":t.category="RTL";break;case"textWriteDirectionRight":t.category="LTR"}return t}(this.props.name);this.reportUIChange(e,this.props.name||this.props.biName),this.props.onClick()}})}.apply(t,n))||(e.exports=l)},217:function(e,t,o){var n,l;n=[o,t,o(0),o(106),o(2),o(1)],void 0===(l=function(e,t,o,n,l,a){"use strict";return n=o.__importDefault(n),l=o.__importStar(l),a=o.__importDefault(a),{focus:function(e){const t=e.getSelection();t.ignoreFillingCharRemoveOnSelectionChange(),e.focus(),t.resumeFillingCharRemoveOnSelectionChange()},toggleSelectionToTransparent:function(e,t){e.toggleSelectionToTransparent(t)},registerAfterUndoRedoListener:function(e,t,o){const n=o.getRawData(),l=function(){a.default.isEqual(n,o.getRawData())&&e()};return t?o.onAfterUndo(l):o.onAfterRedo(l),l},setOverflowCss:function(e){e.execCommand("wixCss",{id:"overFlowCss",value:"body {overflow: hidden !important;}",isLink:!1,force:!1})},removeOverflowCss:function(e){e.execCommand("wixCss",{id:"overFlowCss",value:"",isLink:!1,force:!1})},setCkReadOnly:function(e,t,o){l.browserUtil.isIE()&&!o||e.setReadOnly(t)},expandSelectionToLinks:function(e){l.browserUtil.isIE()||e.commands.expandCurrentLinkSelection()},insertUploadedFontsToCk:function(e,t){a.default(e).filter((function(e){return n.default.isUploadedFont(e)})).forEach((function(e){t.execCommand("wixCss",{id:e,value:n.default.getUploadedFontFace([e])})}))}}}.apply(t,n))||(e.exports=l)},22:function(e,t){e.exports=g},2760:function(e,t,o){var n,l;n=[o,t,o(0),o(216),o(735),o(736),o(737),o(738),o(739),o(328),o(2761),o(740),o(2763),o(741),o(2764),o(2766),o(84),o(106),o(2767),o(2768),o(2769),o(217),o(2770),o(2771),o(743),o(744),o(2775),o(326),o(2776),o(2777)],void 0===(l=function(e,t,o,n,l,a,i,s,r,u,p,d,c,f,m,h,_,g,C,x,y,T,E,S,v,k,D,L,b,N){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=o.__importDefault(n),l=o.__importDefault(l),a=o.__importDefault(a),i=o.__importDefault(i),s=o.__importDefault(s),r=o.__importDefault(r),u=o.__importDefault(u),p=o.__importDefault(p),d=o.__importDefault(d),c=o.__importDefault(c),f=o.__importDefault(f),m=o.__importDefault(m),h=o.__importDefault(h),_=o.__importDefault(_),g=o.__importDefault(g),C=o.__importDefault(C),x=o.__importDefault(x),y=o.__importDefault(y),T=o.__importDefault(T),E=o.__importDefault(E),S=o.__importDefault(S),v=o.__importDefault(v),k=o.__importDefault(k),D=o.__importDefault(D),L=o.__importDefault(L),b=o.__importDefault(b),N=o.__importDefault(N),t.iconButton=n.default,t.fontFamily=l.default,t.iconsDropDown=a.default,t.textBackgroundColor=i.default,t.textLinkControl=s.default,t.textStyle=r.default,t.textColor=u.default,t.textEffects=p.default,t.lineHeight=d.default,t.richTextFrame=c.default,t.textPopup=f.default,t.themeFontsLoader=m.default,t.saveTextStyleConfirmation=h.default,t.constants=_.default,t.fontUtils=g.default,t.dataUtils=C.default,t.TextLinksManager=x.default,t.LinksHelper=y.default,t.ckUtils=T.default,t.mobileUtils=E.default,t.migrationUtils=S.default,t.textTooltipMixin=v.default,t.textEditorMixin=k.default,t.textBiMixin=D.default,t.colorUtils=L.default,t.textLimitsUtils=b.default,t.textToolBar=N.default}.apply(t,n))||(e.exports=l)},2761:function(e,t,o){var n,l;n=[o,t,o(0),o(5),o(4),o(1),o(2),o(9),o(3),o(2762),o(9),o(6)],void 0===(l=function(e,t,o,n,l,a,i,s,r,u,p,d){"use strict";return n=o.__importDefault(n),l=o.__importDefault(l),a=o.__importDefault(a),i=o.__importStar(i),s=o.__importStar(s),r=o.__importDefault(r),u=o.__importDefault(u),p=o.__importStar(p),d=o.__importDefault(d),n.default({displayName:"textEffects",mixins:[i.translationMixin,s.reportUIChangeMixin],render(){return r.default.createElement("div",{className:"text-effect-container"},r.default.createElement(p.tooltip,{value:"text_editor_effects_tooltip_no_effect",styleType:d.default.UI.TOOLTIP.STYLE_TYPE.SMALL},r.default.createElement("span",{onClick:()=>{this.handleOnChange("effect_0")},className:"text-none-icon ".concat("EFFECT_0"===this.props.value?"selected":"")})),a.default.map(this.getShadowEffects(),(e,t)=>r.default.createElement(u.default,{isSelected:this.props.value===t,onClick:()=>{this.handleOnChange(t)},key:t,className:t},r.default.createElement("span",{style:{textShadow:e.cssData},className:"text-shadow-effect"},this.translateIfNeeded("text_editor_".concat(t))))))},getDefaultProps:()=>({value:"effect_0",onChange(){}}),contextTypes:{reportUIChange:l.default.func},getShadowEffects(){const e=a.default.clone(this.props.shadowEffects);return e.effect_0&&delete e.effect_0,e},handleOnChange(e){this.props.onChange(e);const t="effect_0"===e?"none":e;this.reportUIChange({value:t,control_name:"text_effects"})}})}.apply(t,n))||(e.exports=l)},2762:function(e,t,o){var n,l;n=[o,t,o(0),o(3),o(2)],void 0===(l=function(e,t,o,n,l){"use strict";var a;return n=o.__importDefault(n),(a=class extends n.default.Component{render(){return n.default.createElement("span",{className:this.props.className},n.default.createElement("button",{onClick:this.props.onClick,className:l.cx({"text-effect-button":!0,selected:this.props.isSelected})},n.default.createElement("span",null,this.props.children)))}}).displayName="textEffectButton",a}.apply(t,n))||(e.exports=l)},2763:function(e,t,o){var n,l;n=[o,t,o(0),o(3),o(2)],void 0===(l=function(e,t,o,n,l){"use strict";var a;return n=o.__importDefault(n),l=o.__importStar(l),(a=class extends n.default.Component{render(){return n.default.createElement(l.outerClick,{onOuterClick:this.props.onOuterClick},n.default.createElement("div",null,this.props.children))}}).displayName="richTextFrame",a}.apply(t,n))||(e.exports=l)},2764:function(e,t,o){var n,l;n=[o,t,o(0),o(5),o(4),o(1),o(106),o(11),o(2),o(2765),o(3)],void 0===(l=function(e,t,o,n,l,a,i,s,r,u,p){"use strict";n=o.__importDefault(n),l=o.__importDefault(l),a=o.__importDefault(a),i=o.__importDefault(i),s=o.__importStar(s),r=o.__importStar(r),u=o.__importDefault(u),p=o.__importDefault(p);const{connect:d,STORES:{STATE_ONLY:c}}=r.hoc,f=n.default({displayName:"themeFontsLoader",mixins:[s.mixins.editorAPIMixin],propTypes:{uploadedFontsList:l.default.array,themeFonts:l.default.object},getCssLinks(){return this.getEditorAPI().dsRead.fonts.css.getUrls()},render(){return p.default.createElement("div",null,a.default.map(this.getCssLinks(),(e,t)=>p.default.createElement("link",{type:"text/css",key:t,href:e,rel:"stylesheet"})),a.default.map(this.props.uploadedFontsList,(e,t)=>p.default.createElement("style",{key:t,dangerouslySetInnerHTML:{__html:e.fontFace}})),a.default.map(this.getUploadedThemeFonts(this.props.themeFonts),(e,t)=>p.default.createElement("style",{key:t,dangerouslySetInnerHTML:{__html:this.createUploadedFontFace(e)}})))},shouldComponentUpdate(e){return!a.default.isEqual(e,this.props)},createUploadedFontFace:e=>i.default.getUploadedFontFace([e]),getUploadedThemeFonts(){return a.default.filter(i.default.getThemeFontFamilies(this.props.themeFonts),(function(e){return i.default.isUploadedFont(e)}))}}),m=d(c,u.default)(f);return m.pure=f,m}.apply(t,n))||(e.exports=l)},2765:function(e,t,o){var n,l;n=[o,t,o(0),o(7)],void 0===(l=function(e,t,o,n){"use strict";const l=(n=o.__importDefault(n)).default.editorPlugins.uploadedFonts.selectors;return e=>{let{state:t}=e;return{uploadedFontsList:l.getList(t)}}}.apply(t,n))||(e.exports=l)},2766:function(e,t,o){var n,l;n=[o,t,o(0),o(5),o(4),o(2),o(11),o(41),o(7),o(6),o(3),o(19),o(9),o(8)],void 0===(l=function(e,t,o,n,l,a,i,s,r,u,p,d,c,f){"use strict";n=o.__importDefault(n),l=o.__importDefault(l),a=o.__importStar(a),i=o.__importStar(i),s=o.__importDefault(s),r=o.__importDefault(r),u=o.__importDefault(u),p=o.__importDefault(p),d=o.__importStar(d),c=o.__importStar(c),f=o.__importDefault(f);const m=n.default({displayName:"saveTextStyleConfirmation",propTypes:{panelName:l.default.string.isRequired,dontShowAgain:l.default.bool,toggleDontShowAgain:l.default.func.isRequired,onConfirm:l.default.func.isRequired,textStyleName:l.default.string.isRequired},mixins:[a.translationMixin,i.mixins.editorAPIMixin],handleOnSave(){this.props.onConfirm(),this.close()},close(){this.getEditorAPI().panelManager.closePanelByName(this.props.panelName)},openLearnMore(){const e=this.getEditorAPI(),t={panel_name:this.props.panelName,origin:u.default.BI.HELP.ORIGIN.PANEL,component:e.selection.getSelectedComponentType(),learn_more:!0};e.panelManager.openHelpCenter("1df23b96-45a4-41e0-b356-e1ee05308c9b",null,t)},render(){return p.default.createElement(d.frames.focusPanelFrame,{ref:"frame",key:"saveTextConfirmationPanel",helpId:"1df23b96-45a4-41e0-b356-e1ee05308c9b",title:this.translateIfNeeded("text_editor_save_theme_dialog_header"),panelName:this.props.panelName,className:"text-style-save-confirm-panel"},p.default.createElement("div",{className:"text-style-save-confirm-content"},p.default.createElement("div",{key:"save-your-theme-clipart",className:"image-container"},p.default.createElement(c.symbol,{name:"save-your-theme-clipart"})),p.default.createElement("div",{className:"description-container"},p.default.createElement("span",{className:"description-text"},this.translateIfNeeded("text_editor_save_theme_dialog_text_1")),p.default.createElement("span",{className:"description-text bold"}," ","'",this.props.textStyleName,"'"," "),p.default.createElement("span",{className:"description-text"},this.translateIfNeeded("text_editor_save_theme_dialog_text_2")),p.default.createElement("div",{className:"learn-more-link-container"},p.default.createElement("a",{onClick:this.openLearnMore,className:"learn-more-link"},this.translateIfNeeded("text_editor_save_theme_dialog_learn_more")))),p.default.createElement("div",{className:"footer-buttons"},p.default.createElement(f.default.Checkbox,{label:"text_editor_save_theme_dialog_dont_show",value:this.props.dontShowAgain,onChange:this.props.toggleDontShowAgain,labelAfterSymbol:!0}),p.default.createElement(c.button,{onClick:this.handleOnSave,label:"text_editor_save_theme_confirm_button",className:"save-button btn-md"}))))}}),h=r.default.bi.hoc.reportBiEventOnUiChange(s.default.linkUserPreferences({userPrefType:"session"})(m));return h.pure=m,h}.apply(t,n))||(e.exports=l)},2767:function(e,t,o){var n,l;n=[o,t,o(0),o(1),o(22),o(84)],void 0===(l=function(e,t,o,n,l,a){"use strict";function i(e){const t=window.document.createElement("div");return t.innerHTML=e,t.textContent}return n=o.__importDefault(n),l=o.__importDefault(l),a=o.__importDefault(a),{getTextContentFromHtml:i,isEmptyHtmlText:function(e){return i(e).replace(/[\u200b\s]/g,"").length<1},wrapOrphans:function(e){if(!n.default.isString(e))return e;const t=function(e){const t=window.document.createElement("div");return t.innerHTML=e,n.default.compact(t.childNodes)}(e.trim()),o=l.default("<div>");let i;return n.default.forEach(t,(function(e){var t;(t=e).nodeName&&n.default.includes(a.default.TEXT_BLOCKS,t.nodeName.toLowerCase())?(i&&(o.append(i),i=void 0),o.append(e)):e.textContent.trim().length>0&&(i=i||l.default("<p>").addClass(a.default.DEFAULT_STYLES_MAP.div.cssClass),i.append(e))})),i&&o.append(i),o.html()}}}.apply(t,n))||(e.exports=l)},2768:function(e,t,o){var n;void 0===(n=function(e,t){"use strict";return function(e){this.convertExternalLinkToLinkRef=function(t){return e.createLinkFromHref(t)},this.convertLinkRefToLinkRef=function(t){return e.duplicateLink(t)},this.convertLinkRefToAttributes=function(t){const o=e.getLink(t);return o?{dataquery:"#".concat(o.id)}:null},this.convertAttributesToLinkRef=function(e){return e.dataquery&&e.dataquery.slice(1)}}}.apply(t,[o,t]))||(e.exports=n)},2769:function(e,t,o){var n,l;n=[o,t,o(0),o(1),o(2)],void 0===(l=function(e,t,o,n,l){"use strict";n=o.__importDefault(n),l=o.__importStar(l);let a={};function i(e,t){this.setCurrentLinks(e),this.setNonPasteableLinkTypes(t)}return i.prototype.getLink=function(e){return this._links[e]},i.prototype.setNonPasteableLinkTypes=function(e){this.nonPasteableLinkTypes=e},i.prototype.getAllLinks=function(){return n.default.map(this._links)},i.prototype.setCurrentLinks=function(e){this._links={};const t=this;n.default.forEach(e,(function(e){t._links[e.id]=e}))},i.prototype.cacheCopiedLinks=function(){a=n.default.clone(this._links)},i.prototype.createLinkFromHref=function(e){let t={};return t=l.validationExpressions.validUrlReg.test(e)?{type:"ExternalLink",target:"_blank",url:e}:function(e){if(!/^mailto:/i.test(e))return null;const t=e.replace(/mailto:/i,"").split("?");if(!l.validationExpressions.validEmailReg.test(t[0]))return null;const o=t[0];let n=t[1];return n=/^subject=/i.test(n)?n.replace(/^subject=/i,""):"",{type:"EmailLink",recipient:o,subject:n}}(e),t?this.saveLink(t):null},i.prototype.saveLink=function(e){return e.id=l.guidUtils.getUniqueId("textLink","_"),this._links[e.id]=e,e.id},i.prototype.getLatestCopiedLink=function(e){const t=a[e];return t&&!n.default.includes(this.nonPasteableLinkTypes,t.type)?t:null},i.prototype.duplicateLink=function(e){const t=this.getLink(e)||this.getLatestCopiedLink(e);return t?this.saveLink(n.default.clone(t)):null},i}.apply(t,n))||(e.exports=l)},2770:function(e,t,o){var n,l;n=[o,t,o(0),o(1),o(22),o(106)],void 0===(l=function(e,t,o,n,l,a){"use strict";function i(e,t){let o=l.default(e).css("fontSize");return o||n.default.forEach(e.classList,(function(e){t[e]&&(o=a.default.parseStyleFont(e,t).size)})),o}return n=o.__importDefault(n),l=o.__importDefault(l),a=o.__importDefault(a),{getMostCommonTextSize:function(e,t){const o={},l=window.document.createElement("div");return l.innerHTML=e,function e(t,o,l,a){if("#text"===t.nodeName||"#comment"===t.nodeName)return;a=i(t,l)?i(t,l):a,n.default.forEach(t.childNodes,(function(t){if("#text"===t.nodeName){if(a){const e=t.textContent.replace(/ /g,"").length;o[a]||(o[a]=0),o[a]+=e}}else e(t,o,l,a)}))}(l,o,t,""),parseInt(function(e){let t,o="";return n.default.forEach(e,(function(e,n){(void 0===t||t<e)&&(t=e,o=n)})),o}(o),10)},getFirstTextAlignment:function(e){return n.default.isString(e)&&n.default.get(e.match(/text\-align:\s*((left|center|right|justify))/),1,"left")},getFirstColor:function(e){return n.default.isString(e)&&n.default.get(e.match(/\sclass=\"(color_\d+)\"/)||e.match(/[;"\d]color:\s?(#?[A-Z\d()]+;?)/),1)}}}.apply(t,n))||(e.exports=l)},2771:function(e,t,o){var n,l;n=[o,t,o(0),o(1),o(2772)],void 0===(l=function(e,t,o,n,l){"use strict";return n=o.__importDefault(n),l=o.__importDefault(l),{isOldTextComponent:function(e,t){const o=t.components.getType(e),n=t.components.data.get(e);return"wysiwyg.viewer.components.WRichText"===o&&n&&"StyledText"!==n.type&&"MediaRichText"!==n.type},migrateComponent:function(e,t,o){let a=t.components.data.get(e);a=function(e,t,o,a,i){const s=l.default.migrateText(e.text,t,o,a,i),r=n.default.omit(e,(function(e,t){return!n.default.includes(["id","metaData"],t)}));return r.type="StyledText",r.stylesMapId="CK_EDITOR_PARAGRAPH_STYLES",r.text=s,r}(a,t.theme.fonts.getAll(),t.theme.colors.getAll()),o.components.data.update(e,a,!0),o.components.style.connectToTheme(e,"txtNew")}}}.apply(t,n))||(e.exports=l)},2772:function(e,t,o){var n,l;n=[o,t,o(0),o(1),o(2773),o(2774)],void 0===(l=function(e,t,o,n,l,a){"use strict";return n=o.__importDefault(n),l=o.__importDefault(l),a=o.__importDefault(a),{migrateText:function(e,t,o,i,s){if(i=i||"p",s=s||"font_8",!n.default.isString(e))return null;if(""===e)return n.default.template('<<%= defaultTag %> class="<%= defaultClass %>"></<%= defaultTag %>>')({defaultTag:i,defaultClass:s});const r=window.document.createElement("div");return r.innerHTML=e,l.default.migrateElement(r,i,s,t,o),a.default.migrateElement(r),r.innerHTML}}}.apply(t,n))||(e.exports=l)},2773:function(e,t,o){var n,l;n=[o,t,o(0),o(1),o(22),o(329),o(742),o(106),o(84)],void 0===(l=function(e,t,o,n,l,a,i,s,r){"use strict";n=o.__importDefault(n),l=o.__importDefault(l),a=o.__importDefault(a),i=o.__importDefault(i),s=o.__importDefault(s),r=o.__importDefault(r);const u=["h1","h2","h3","h4","h5","h6","p","div"],p=["font_1","font_10"],d=n.default.transform(r.default.DEFAULT_STYLES_MAP,(function(e,t){e[t.cssClass]=t.seoTag}));function c(e,t,o,s){n.default.forEach(t,(function(t){const n=i.default.getElementStyleClass(t);n===e?0===t.childNodes.length?t.remove():function(e,t){l.default(e).removeClass(t),a.default.isElementHasAttributes(e)||a.default.replaceElementWithItsChildren(e)}(t,e):(a.default.removeClass(t,n),function(e,t,o,n,s){const r=i.default.getStyleDelta(e,t,n,s),u=o;a.default.setStyle(u,r);const p=i.default.getColorDelta(e,t,n,s);if(!p)return;p.isRef?l.default(u).addClass(p.value):a.default.setStyle(u,{color:p.value})}(e,n,t,o,s))}))}function f(e,t,o,l){let i;if(n.default.includes(n.default.keys(o),t)){i=s.default.parseStyleFont(t,o,l).lineHeight,a.default.setStyle(e,{"line-height":i}),function(e,t){const o=window.document.createElement("span");a.default.setStyle(o,{"line-height":t}),a.default.moveChildren(e,o),e.appendChild(o)}(e,i),e=function(e,t){const o=d[t];return a.default.renameNode(e,o)}(e,t)}return e}function m(e){return function(e){return n.default.includes(p,e)}(e)?r.default.FALLBACK_STYLE_CLASS:e}function h(e,t,o){const n=i.default.getStyledSpansRecursive(e,[]);let r=i.default.getMostCommonStyle(n),u=null;if(r){const i=m(r);return i!==r&&(u=r,r=i),l.default(e).addClass(r),c(r,n,t,o),u&&function(e,t,o,n,l){const i=s.default.parseStyleFont(o,n,l).size,r=s.default.parseStyleFont(t,n,l).size;i<r&&a.default.setStyle(e,{"font-size":i})}(e,r,u,t,o),r}return null}function _(e,t,o,n,s){if(0===e.childNodes.length)return;i.default.flattenStyledSpans(e);let r=null;if(i.default.isBlockContainUnstyledText(e)){const r=function(e,t,o){if(!t||!o)return null;if(e&&e.tagName===t&&e.hasClass(o))return null;const n=a.default.renameNode(e,t);return l.default(n).addClass(o),n}(e,t,o);c(null,i.default.getStyledSpansRecursive(r,[]),n,s)}else r=h(e,n,s),r&&f(e,r,n,s);g(e,r,n,s)}function g(e,t,o,n){const a=l.default(e).find('span[class*="font_"]');a.length&&c(t,a,o,n)}function C(e,t,o,n,i){if(a.default.isOnlyWhiteSpace(e))return;const s=window.document.createElement("p");l.default(e[0]).before(l.default(s)),l.default(s).append(l.default(e)),_(s,t,o,n,i)}return{migrateElement:function e(t,o,l,i,s){let r=[];const p=a.default.collectionToArray(t.childNodes);n.default.forEach(p,(function(t){if(a.default.isBlockElement(t)){r.length>0&&(C(r,o,l,i,s),r=[]),!n.default.includes(u,t.tagName.toLowerCase())||a.default.hasBlockElementChildren(t)?e(t,o,l,i,s):_(t,o,l,i,s)}else r.push(t)})),r.length>0&&C(r,o,l,i,s)},verifyNoStyledSpans:g}}.apply(t,n))||(e.exports=l)},2774:function(e,t,o){var n,l;n=[o,t,o(0),o(1),o(22),o(329),o(742),o(84)],void 0===(l=function(e,t,o,n,l,a,i,s){"use strict";function r(e,t,o){n.default.forEach(e,(function(e){const n=window.document.createElement(o);a.default.moveChildren(e,n),a.default.removeClass(e,t),a.default.isElementHasAttributes(e)||"span"!==e.nodeName.toLowerCase()?l.default(e).append(l.default(n)):l.default(e).replaceWith(l.default(n))}))}function u(e,t,o,l){n.default.forEach(e,(function(e){a.default.removeClass(e,t);const n={};n[o]=l,a.default.setStyle(e,n)}))}return n=o.__importDefault(n),l=o.__importDefault(l),a=o.__importDefault(a),i=o.__importDefault(i),s=o.__importDefault(s),{migrateElement:function(e){!function(e){r(l.default(e).find(".bold"),"bold","strong")}(e),function(e){r(l.default(e).find(".italic"),"italic","em")}(e),function(e){r(l.default(e).find(".underline"),"underline","u")}(e),function(e){u(l.default(e).find(".alignRight"),"alignRight","text-align","right")}(e),function(e){u(l.default(e).find(".alignCenter"),"alignCenter","text-align","center")}(e),function(e){u(l.default(e).find(".alignJustify"),"alignJustify","text-align","justify")}(e),function(e){const t=l.default(e).find("ul, ol");n.default.forEach(t,(function(e){i.default.getElementStyleClass(e)||l.default(e).addClass(s.default.DEFAULT_STYLE_CLASS)}))}(e)}}}.apply(t,n))||(e.exports=l)},2775:function(e,t,o){var n,l;n=[o,t,o(0),o(12),o(1)],void 0===(l=function(e,t,o,n,l){"use strict";return n=o.__importStar(n),l=o.__importDefault(l),{sendTextBiEvent(e,t){this.getEditorAPI().bi.event(n.events.textControls[e],t)},sendTextBiEventWithPanelName(e,t){const o=this.constructor.displayName,n=l.default.merge({panel_name:o},t);this.sendTextBiEvent(e,n)}}}.apply(t,n))||(e.exports=l)},2776:function(e,t,o){var n,l;n=[o,t,o(0),o(1),o(217),o(84)],void 0===(l=function(e,t,o,n,l,a){"use strict";n=o.__importDefault(n),l=o.__importDefault(l),a=o.__importDefault(a);let i;return{handleTextLengthExceeded:function(e,t){n.default.defer((function(){t.undo(),l.default.setCkReadOnly(t,!0,!0)})),function(e,t){t.onKey((function o(l){l&&function(e){return!n.default.find(e.getOpenPanels(),{name:"panels.focusPanels.createNewTextBoxPanel"})}(e)?t.unRegisterListener(o()):l&&27===l.keyCode&&(e.closePanelByName("panels.focusPanels.createNewTextBoxPanel"),t.unRegisterListener(o()))}))}(e,t),e.openPanel("panels.focusPanels.createNewTextBoxPanel",{isSingleInstance:!0},!0)},setCachedTextReadableLength:function(e){i=e},isNewTextLengthLimitExceeded:function(e){return e>a.default.MAX_TEXT_LENGTH&&function(e){return Math.max(e,i)>i}(e)}}}.apply(t,n))||(e.exports=l)},2777:function(e,t,o){var n,l;n=[o,t,o(0),o(18),o(5),o(1),o(22),o(2),o(744),o(743),o(9),o(3),o(216),o(328),o(735),o(739),o(741),o(740),o(736),o(737),o(738),o(84),o(6),o(9)],void 0===(l=function(e,t,o,n,l,a,i,s,r,u,p,d,c,f,m,h,_,g,C,x,y,T,E,S){"use strict";return n=o.__importDefault(n),l=o.__importDefault(l),a=o.__importDefault(a),i=o.__importDefault(i),s=o.__importStar(s),r=o.__importDefault(r),u=o.__importDefault(u),p=o.__importStar(p),d=o.__importDefault(d),c=o.__importDefault(c),f=o.__importDefault(f),m=o.__importDefault(m),h=o.__importDefault(h),_=o.__importDefault(_),g=o.__importDefault(g),C=o.__importDefault(C),x=o.__importDefault(x),y=o.__importDefault(y),T=o.__importDefault(T),E=o.__importDefault(E),S=o.__importStar(S),l.default({displayName:"textToolBar",mixins:[s.translationMixin,r.default,u.default,p.inputMixin],render(){const e=E.default.UI.TOOLTIP.STYLE_TYPE.SMALL;return d.default.createElement("div",{key:"richTextToolBar",className:"rich-text-toolbar"},d.default.createElement("section",null,d.default.createElement(h.default,{value:this.getFormatBlockCss(),themeColors:this.props.themeColors,ref:"textStyle",tooltipStyleType:e,themeFonts:this.props.themeFonts,toolbarMode:!0,hasSmallArrow:!0,tooltipValue:"text_editor_theme_label",optionsWidth:264,onChange:e=>{this.execFormatBlockCommand(e)},isDeveloperMode:this.props.isDeveloperMode}),d.default.createElement(m.default,{ref:"fontFamily",tooltipStyleType:e,value:this.getValue("fontFamily"),onChange:e=>{this.handleFontFamilyChange(e)},tooltipValue:"text_editor_font_label",fonts:this.props.fonts,toolbarMode:!0}),d.default.createElement(_.default,{label:"".concat(this.getValue("fontSize")," px"),width:71,ref:"fontSizePopUp"},d.default.createElement(S.slider,{label:"text_editor_font_size_label",id:"font-size-slider",value:this.getValue("fontSize"),min:6,max:176,stepperMax:999,onChange:e=>{this.execCommand("fontSize","".concat(e,"px"))},onSlideEnd:this.focus})),d.default.createElement(S.toggleButton,Object.assign({},this.getBoldProps())),d.default.createElement(S.toggleButton,Object.assign({},this.getItalicProps())),d.default.createElement(S.toggleButton,Object.assign({},this.getUnderlineProps())),d.default.createElement(f.default,{value:this.getForeColorValue(),onClick:()=>{this.onColorClick(!0)},tooltipValue:this.getTooltipValue("text_color"),tooltipStyleType:e,ref:"foreColorButton"}),d.default.createElement(x.default,{ref:"backColorButton",color:this.getBackColorValue(),onClick:()=>{this.onColorClick(!1)},handleNoColor:this.execNoBackColor,tooltipValue:this.getTooltipValue("text_highlight"),tooltipStyleType:e}),d.default.createElement(y.default,Object.assign({ref:"linkDropdownOption",key:"linkDropdownOption",tooltipStyleType:e},this.getLinkProps())),d.default.createElement(c.default,{onClick:()=>{this.execCommand("resetThemeAndStyles")},name:"textRemoveFormat",tooltipValue:"text_editor_reset_button",tooltipStyleType:e}),d.default.createElement("span",{onClick:()=>{this.toggleToolbar()},className:"expand-toolbar-button"},this.state.extraToolbarOpened?null:d.default.createElement("span",{key:"richTextToolBarMore",className:"more-text"},d.default.createElement(S.symbol,{name:"accordionClose"}),d.default.createElement("span",null,this.translateIfNeeded("list_dbe_edit_item_text_toolbar_more"))),this.state.extraToolbarOpened?d.default.createElement("span",{key:"richTextToolBarLess",className:"less-text"},d.default.createElement(S.symbol,{name:"accordionOpen"}),d.default.createElement("span",null,this.translateIfNeeded("list_dbe_edit_item_text_toolbar_less"))):null)),this.state.extraToolbarOpened?d.default.createElement("div",{key:"richTextToolBarDivider",className:"toolbar-divider"}):null,this.state.extraToolbarOpened?d.default.createElement("section",{key:"richTextToolBarExtraControls"},d.default.createElement(C.default,{ref:"textAlign",value:this.getTextAlignment(),onChange:e=>{this.changeAlignment(e)},items:T.default.ALIGNMENT_TYPES,tooltipValue:this.getTooltipValue("alignment"),tooltipStyleType:e,className:"align-dd"}),d.default.createElement(C.default,{ref:"textBullets",value:this.getListType(),onChange:e=>{this.execListCommand(e)},items:this.getBulletsItems(),tooltipValue:this.getTooltipValue("bullets_and_numbering"),tooltipStyleType:e,fixedIconName:this.getBulletsIconName(),className:"bullets-dd"}),d.default.createElement(c.default,{onClick:()=>{this.execCommand("outdent")},name:this.getValue("bidiltr")?"textOutdentLeft":"textOutdentRight",tooltipValue:this.getTooltipValue("decrease_indent"),tooltipStyleType:e}),d.default.createElement(c.default,{onClick:()=>{this.execCommand("indent")},name:this.getValue("bidiltr")?"textIndentLeft":"textIndentRight",tooltipValue:this.getTooltipValue("increase_indent"),tooltipStyleType:e}),d.default.createElement(_.default,{iconName:"textLineHeight",ref:"lineHeightPopUp"},d.default.createElement(g.default,{value:this.getLineHeightValue(),onChange:e=>{this.execLineHeightCommand(e)},onSlideEnd:this.focus})),d.default.createElement(_.default,{iconName:"textCharSpacing",ref:"charSpacingPopUp"},d.default.createElement(S.slider,{valueLink:this.linkSpacing(),min:-.1,max:.7,stepperMin:-.4,stepperMax:3,step:.05,stepperStep:.01,label:"text_editor_character_spacing_label",onSlideEnd:this.focus})),this.getValue("bidirtl")?d.default.createElement(c.default,{onClick:()=>{this.execCommand("bidiltr")},key:"richTextWriteLTR",name:"textWriteDirectionLeft",tooltipValue:this.getTooltipValue("text_direction"),tooltipStyleType:e}):null,this.getValue("bidiltr")?d.default.createElement(c.default,{onClick:()=>{this.execCommand("bidirtl")},key:"richTextWriteRTL",name:"textWriteDirectionRight",tooltipValue:this.getTooltipValue("text_direction"),tooltipStyleType:e}):null):null)},getInitialState:()=>({extraToolbarOpened:!1}),componentWillUnmount(){this.state.extraToolbarOpened&&this.changeRichTextHeight(!1)},isAnyDropdownOpen(){return e=[this.refs.textStyle,this.refs.fontFamily,this.refs.textBullets,this.refs.textAlign,this.refs.backColorButton&&this.refs.backColorButton.refs.dropdown,this.refs.linkDropdownOption&&this.refs.linkDropdownOption.refs.dropdown],a.default.some(e,(function(e){return e&&e.isExpanded()}));var e},toggleToolbar(){const e=!this.state.extraToolbarOpened;this.setState({extraToolbarOpened:e}),this.changeRichTextHeight(e)},getColorPickerPosition(e){const t=e?n.default.findDOMNode(this.refs.foreColorButton):n.default.findDOMNode(this.refs.backColorButton),o=i.default(t).offset(),l=o.top-i.default(window).scrollTop();return{top:l<=370?l+40:l-370,left:o.left}},onColorClick(e){const t=this.getColorPickerPosition(e);this.handleColorClick(e,t)},changeRichTextHeight(e){let t=this.props.textManager.getDimensions().height||150;e?t-=50:t+=50,this.props.textManager.resize("100%",t)}})}.apply(t,n))||(e.exports=l)},3:function(e,t){e.exports=n},326:function(e,t,o){var n,l;n=[o,t,o(0),o(1),o(84),o(2)],void 0===(l=function(e,t,o,n,l,a){"use strict";function i(e,t){return n.default.includes(t,e)}return n=o.__importDefault(n),l=o.__importDefault(l),a=o.__importStar(a),{getColorValueFromTheme:function(e,t){e=a.colors.getColorInHex(e);const o=n.default.findKey(t,(function(t){return t===e}));return i(o,l.default.PALETTE_SEQUENCES)?o:e},isColorInPaletteSequences:i,getThemeColorData:function(e){const t=[];return n.default.forEach(e,(function(e,o){const n=o.split("_")[1];t[n]=e})),{color:t}},getHexColorsMap:function(e,t){const o={};return n.default.forEach(t,(function(t,n){o[e+n]=a.colors.getColorInHex(t)})),o},getColorPickerValue:function(e){return"noColor"!==e&&e?e:l.default.CK_OFF}}}.apply(t,n))||(e.exports=l)},327:function(e,t,o){var n,l;n=[o,t,o(0),o(4),o(3)],void 0===(l=function(e,t,o,n,l){"use strict";var a;return n=o.__importDefault(n),l=o.__importDefault(l),(a=class extends l.default.Component{render(){return l.default.createElement("span",null,this.props.isBackColor||this.props.colorDropOnly?null:l.default.createElement("span",{key:"backColorDrop"},l.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"22px",height:"18px",className:"symbol-textForeColor"},l.default.createElement("path",{fill:this.props.fill?this.props.fill:"none",fillRule:"evenodd",d:"M 17 3C 17 3 27.03 17 17 17 6.9 17 17 3 17 3Z"}),l.default.createElement("path",{fillRule:"evenodd",d:"M 16.96 18C 13.35 18 12 14.95 12 13.03 12 9.97 15.69 4.09 16.12 3.43 16.12 3.43 16.95 2.12 16.95 2.12 16.95 2.12 17.8 3.42 17.8 3.42 18.23 4.08 22 9.97 22 13.03 22 15.09 20.44 18 16.96 18ZM 16.96 3.97C 16.96 3.97 13 10.18 13 13.03 13 14.52 14.02 16.99 16.96 16.99 19.89 16.99 21 14.52 21 13.03 21 10.18 16.96 3.97 16.96 3.97ZM 3.6 9.02C 3.6 9.02 2 13.03 2 13.03 2 13.03-0 13.03-0 13.03-0 13.03 5 1 5 1 5 1 6 0 6 0 6 0 7 0 7 0 7 0 8 1 8 1 8 1 11 7.01 11 7.01 11 7.01 11 11.02 11 11.02 11 11.02 9.4 9.02 9.4 9.02 9.4 9.02 3.6 9.02 3.6 9.02ZM 7 3.01C 7 3.01 6 3.01 6 3.01 6 3.01 4.4 7.01 4.4 7.01 4.4 7.01 8.6 7.01 8.6 7.01 8.6 7.01 7 3.01 7 3.01Z"}))),this.props.isBackColor&&!this.props.colorDropOnly?l.default.createElement("span",{key:"foreColorDrop"},l.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"28px",height:"21px",className:"symbol-textBackColor"},l.default.createElement("path",{fill:this.props.fill?this.props.fill:"none",fillRule:"evenodd",d:"M 23 6C 23 6 33.03 20 23 20 12.9 20 23 6 23 6Z"}),l.default.createElement("path",{fillRule:"evenodd",d:"M 22.96 21C 19.35 21 18 17.95 18 16.03 18 12.98 21.69 7.09 22.12 6.43 22.12 6.43 22.95 5.12 22.95 5.12 22.95 5.12 23.8 6.42 23.8 6.42 24.23 7.09 28 12.97 28 16.03 28 18.09 26.44 21 22.96 21ZM 22.96 6.97C 22.96 6.97 19 13.18 19 16.03 19 17.52 20.02 20 22.96 20 25.89 20 27 17.52 27 16.03 27 13.18 22.96 6.97 22.96 6.97ZM 14 6.01C 14 6.01 15 10.02 15 10.02 15 10.02 12 10.02 12 10.02 12 10.02 13 6.01 13 6.01 13 6.01 14 6.01 14 6.01ZM 18 10.02C 18 10.02 15 4.01 15 4.01 15 4.01 14 3.01 14 3.01 14 3.01 13 3.01 13 3.01 13 3.01 12 4.01 12 4.01 12 4.01 6.63 16.03 6.63 16.03 6.63 16.03 9 16.03 9 16.03 9 16.03 11 12.02 11 12.02 11 12.02 16 12.02 16 12.02 16 12.02 16.79 13 16.79 13 16.32 14.18 16 15.26 16 16.03 16 16.93 16.3 18.07 16.98 19.04 16.98 19.04 6 19.04 6 19.04 4.9 19.04 4 18.14 4 17.03 4 17.03 4 15.03 4 15.03 4 15.03 3 15.03 3 15.03 2.45 15.03 2 14.58 2 14.03 2 13.47 2.45 13.02 3 13.02 3 13.02 4 13.02 4 13.02 4 13.02 4 11.02 4 11.02 4 11.02 3 11.02 3 11.02 2.45 11.02 2 10.57 2 10.02 2 9.47 2.45 9.02 3 9.02 3 9.02 4 9.02 4 9.02 4 9.02 4 7.01 4 7.01 4 7.01 2 7.01 2 7.01 1.45 7.01 1 6.57 1 6.01 1 5.46 1.45 5.01 2 5.01 2 5.01 4 5.01 4 5.01 4 5.01 4 2 4 2 4 2 1 2 1 2 0.45 2 0 1.56 0 1 0 0.45 0.45 0 1 0 1 0 4 0 4 0 4 0 20 0 20 0 21.1 0 22 0.9 22 2 22 2 22 4.01 22 4.01 22 4.01 21 5.01 21 5.01 21 5.01 19.43 7.1 18 10.02Z"}))):null,this.props.colorDropOnly?l.default.createElement("span",{key:"colorDrop"},l.default.createElement("svg",{width:"13px",height:"20px",viewBox:"0 0 13 20",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},l.default.createElement("g",{fill:this.props.fill?this.props.fill:"none",fillRule:"evenodd"},l.default.createElement("g",{stroke:"#FFFFFF"},l.default.createElement("path",{d:"M6.444,1.22000003 L5.521,2.66700003 C5.055,3.39800003 0.968,9.90800003 0.968,13.287 C0.968,15.411 2.457,18.783 6.454,18.783 C10.302,18.783 12.032,15.569 12.032,13.287 C12.032,9.90200003 7.857,3.39000003 7.381,2.65900003 L6.444,1.22000003 L6.444,1.22000003 Z"}))))):null)}}).propTypes={fill:n.default.string},a.displayName="colorDrop",a}.apply(t,n))||(e.exports=l)},328:function(e,t,o){var n,l;n=[o,t,o(0),o(4),o(3),o(327),o(216),o(217)],void 0===(l=function(e,t,o,n,l,a,i){"use strict";var s;return n=o.__importDefault(n),l=o.__importDefault(l),a=o.__importDefault(a),i=o.__importDefault(i),(s=class extends l.default.Component{constructor(){super(...arguments),this.getBiName=()=>this.props.isBackColor?"textHighlight":"textColor"}render(){return l.default.createElement("span",null,l.default.createElement(i.default,{onClick:this.props.onClick,tooltipValue:this.props.tooltipValue,biName:this.getBiName()},l.default.createElement(a.default,{isBackColor:this.props.isBackColor,fill:this.props.value})))}}).displayName="textColor",s.propTypes={tooltipValue:n.default.string,value:n.default.string,isBackColor:n.default.bool,onClick:n.default.func.isRequired},s.defaultProps={isBackColor:!1},s}.apply(t,n))||(e.exports=l)},329:function(e,t,o){var n,l;n=[o,t,o(0),o(1),o(22)],void 0===(l=function(e,t,o,n,l){"use strict";n=o.__importDefault(n),l=o.__importDefault(l);const a=["audio","dd","dt","li","video","address","article","aside","blockquote","details","div","dl","fieldset","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","menu","nav","ol","p","pre","section","table","ul","center","dir","noframes"];function i(e){if(null===e)return"null";if(e.$family)return e.$family();if(e.nodeName){if(1===e.nodeType)return"element";if(3===e.nodeType)return/\S/.test(e.nodeValue)?"textnode":"whitespace"}else if("number"==typeof e.length){if(e.callee)return"arguments";if("item"in e)return"collection"}return typeof e}function s(e){const t=e.attributes;let o=[];if(t.length<20)o=u(t);else{const t=e.getProperties("class","style","dir","href","background","action","src","data","align","alt","color","face","label","for","link","id","name","value");n.default.forEach(t,(function(e,t){t&&e&&o.push({name:t,value:e})}))}return o}function r(e,t){if(e===t)return;let o;for(;o=e.firstChild;)t.appendChild(e.removeChild(o))}function u(e){return function(e){const t=[];for(let o=e.length;o--;)t.unshift(e[o]);return t}(e)}function p(e){const t=e.tagName&&e.tagName.toLowerCase();return n.default.includes(a,t)}return{moveChildren:r,collectionToArray:u,isBlockElement:p,hasBlockElementChildren:function(e){return n.default.some(e.children,p)},isDomElement:function(e){return"element"===i(e)},isTextNode:function(e){return"textnode"===i(e)},isElementHasAttributes:function(e){const t=s(e);if(!t)return!1;for(let e=0;e<t.length;e++){if(t[e].value)return!0}return!1},replaceElementWithItsChildren:function(e){const t=e.parentNode,o=u(e.childNodes);n.default.forEach(o,(function(o){t.insertBefore(o,e)})),t.removeChild(e)},renameNode:function(e,t){if(e.tagName.toLowerCase()===t.toLowerCase())return e;const o=window.document.createElement(t),l=s(e);return n.default.forEach(l,(function(e){o.setAttribute(e.name,e.value)})),r(e,o),e.parentNode&&e.parentNode.replaceChild(o,e),o},isOnlyWhiteSpace:function(e){return e.every(e=>"whitespace"===i(e))},removeClass:function(e,t){const o=l.default(e);o.removeClass(t),0===o.prop("class").length&&o.removeAttr("class")},setStyle:function(e,t){l.default(e).css(t)}}}.apply(t,n))||(e.exports=l)},4:function(e,t){e.exports=l},41:function(e,t){e.exports=C},5:function(e,t){e.exports=a},6:function(e,t){e.exports=i},7:function(e,t){e.exports=s},735:function(e,t,o){var n,l;n=[o,t,o(0),o(5),o(3),o(4),o(10),o(1),o(2),o(106),o(8)],void 0===(l=function(e,t,o,n,l,a,i,s,r,u,p){"use strict";return n=o.__importDefault(n),l=o.__importDefault(l),a=o.__importDefault(a),i=o.__importStar(i),s=o.__importDefault(s),r=o.__importStar(r),u=o.__importDefault(u),p=o.__importDefault(p),n.default({displayName:"fontFamily",render(){return l.default.createElement(p.default.Tooltip,{content:this.props.tooltipValue,disabled:!this.props.tooltipValue},l.default.createElement(p.default.Composites.FontFamilyPickerLabeled,null,this.props.infoText?l.default.createElement(p.default.InfoIcon,{text:this.props.infoText,shouldTranslate:!0}):null,l.default.createElement(p.default.TextLabel,{value:this.props.label,shouldTranslate:!0}),l.default.createElement(p.default.FontFamilyPicker,{fonts:this.props.fonts,value:this.props.value,shouldTranslate:!1,onChange:this.handleChange,optionsContainerClassName:"fonts-dropdown",getMissingFontName:this.getMissingFontName,toolbarMode:this.props.toolbarMode,footerLinks:this.getFooterLinks()})))},mixins:[r.translationMixin],propTypes:{infoText:a.default.string,label:a.default.string,onClose:a.default.func,doNotFocus:a.default.bool,footerLinks:a.default.arrayOf(a.default.shape({label:a.default.string.isRequired,onClick:a.default.func.isRequired})),fonts:a.default.arrayOf(a.default.shape({fonts:a.default.array.isRequired,lang:a.default.string.isRequired}).isRequired),valueLink:a.default.shape({value:a.default.object,requestChange:a.default.func.isRequired})},getUploadedFontName(e){let t=e.split(",")[2];return t=t.replace(r.fontsManagerUtils.constants.ORIGINAL_FONT_PREFIX,""),t=s.default.startCase(t),t},getMissingFontName(){if(this.isMissingFont())return u.default.isUploadedFont(this.props.value)?this.getUploadedFontName(this.props.value):this.props.value&&u.default.getFont(this.props.value)?u.default.getFont(this.props.value).displayName:""},getFooterLinks(){if(this.props.footerLinks)return this.props.footerLinks.map(function(e){return Object.assign({},e,{label:this.translateIfNeeded(e.label),symbol:e.symbol&&l.default.createElement(i.symbol,{name:e.symbol})})}.bind(this))},isMissingFont(){const e=s.default(this.props.fonts).map("fonts").flattenDeep().value();return!s.default.find(e,{fontFamily:this.props.value})},handleChange(e){return this.props.onChange?this.props.onChange(e):this.props.valueLink.requestChange(e)}})}.apply(t,n))||(e.exports=l)},736:function(e,t,o){var n,l;n=[o,t,o(0),o(3),o(4),o(1),o(9),o(9)],void 0===(l=function(e,t,o,n,l,a,i,s){"use strict";var r;return n=o.__importDefault(n),l=o.__importDefault(l),a=o.__importDefault(a),i=o.__importStar(i),s=o.__importStar(s),(r=class extends n.default.Component{constructor(){super(...arguments),this.getFixedIcon=()=>{if(this.props.fixedIconName)return n.default.createElement(i.symbol,{name:this.props.fixedIconName})},this.isExpanded=()=>this.refs.dropdown.isExpanded()}render(){return n.default.createElement(s.tooltip,{value:this.props.tooltipValue,disabled:!this.props.tooltipValue,styleType:this.props.tooltipStyleType},n.default.createElement("div",{style:{display:"inline-block",verticalAlign:"middle"}},n.default.createElement(s.dropDown.select,{ref:"dropdown",shouldTranslate:!1,value:this.props.value,onChange:this.props.onChange,optionsWidth:56,template:this.props.fixedIconName?this.getFixedIcon:void 0,doNotFocus:this.props.doNotFocus,className:"icons-dd ".concat(this.props.className)},a.default.map(this.props.items,(e,t)=>n.default.createElement(s.dropDown.option,{value:e,key:t,className:"icons-dd-option"},n.default.createElement(s.symbol,{name:t}))))))}}).displayName="iconsDropDown",r.propTypes={fixedIconName:l.default.string},r}.apply(t,n))||(e.exports=l)},737:function(e,t,o){var n,l;n=[o,t,o(0),o(3),o(1),o(327),o(327),o(328),o(84),o(9)],void 0===(l=function(e,t,o,n,l,a,i,s,r,u){"use strict";var p;return n=o.__importDefault(n),l=o.__importDefault(l),a=o.__importDefault(a),i=o.__importDefault(i),s=o.__importDefault(s),r=o.__importDefault(r),u=o.__importStar(u),(p=class extends n.default.Component{constructor(){super(...arguments),this.shouldRenderDropOwn=()=>null!==this.props.color,this.getDropDownValue=()=>null===this.props.color?"noColor":"customColor",this.getTemplate=()=>n.default.createElement(a.default,{fill:this.props.color,isBackColor:!0}),this.handleChange=e=>{"noColor"===e&&this.props.handleNoColor&&this.props.handleNoColor(),"customColor"===e&&this.props.onClick&&this.props.onClick()},this.isExpanded=()=>this.refs.dropdown.isExpanded()}render(){return n.default.createElement("span",null,this.shouldRenderDropOwn()?null:n.default.createElement(s.default,{onClick:()=>{this.props.onClick()},tooltipValue:this.props.tooltipValue,key:"backColorButton",tooltipStyleType:this.props.tooltipStyleType,isBackColor:!0,value:this.props.color}),this.shouldRenderDropOwn()?n.default.createElement(u.tooltip,{value:this.props.tooltipValue,styleType:this.props.tooltipStyleType,key:"backColorDropdown"},n.default.createElement("span",null,n.default.createElement(u.dropDown.select,{ref:"dropdown",shouldTranslate:!1,value:this.getDropDownValue(),onChange:this.handleChange,optionsWidth:40,toggleIcon:!1,template:this.getTemplate,setSelectedAnyway:!0,doNotFocus:this.props.doNotFocus,className:"back-color-dd"},l.default.map(r.default.TEXT_BACK_COLOR_TYPES,(e,t)=>n.default.createElement(u.dropDown.option,{value:e,key:t,className:"icons-dd-option"},n.default.createElement(u.symbol,{name:t}))),this.props.colorDrop?n.default.createElement(u.dropDown.option,{key:"colorDropOption",value:"customColor",className:"icons-dd-option"},n.default.createElement(i.default,{colorDropOnly:!0,fill:this.props.color})):null))):null)}}).displayName="backColorDropDown",p.defaultProps={colorDrop:!0},p}.apply(t,n))||(e.exports=l)},738:function(e,t,o){var n,l;n=[o,t,o(0),o(3),o(9)],void 0===(l=function(e,t,o,n,l){"use strict";var a;return n=o.__importDefault(n),l=o.__importStar(l),(a=class extends n.default.Component{constructor(){super(...arguments),this.shouldRenderDropDown=()=>!0===this.props.value&&!this.props.disabled,this.handleChange=e=>{"unlink"===e?this.props.onUnlink():"link"===e&&this.props.onChange()},this.isExpanded=()=>this.refs.dropdown.isExpanded()}render(){return n.default.createElement("span",null,this.shouldRenderDropDown()?null:n.default.createElement(l.toggleButton,Object.assign({key:"linkToggleButton"},this.props)),this.shouldRenderDropDown()?n.default.createElement(l.tooltip,{value:this.props.tooltipValue,styleType:this.props.tooltipStyleType,key:"textLinkDropdown"},n.default.createElement("span",null,n.default.createElement(l.dropDown.select,{ref:"dropdown",shouldTranslate:!1,onChange:this.handleChange,optionsWidth:40,toggleIcon:!1,value:"link",setSelectedAnyway:!0,onExpand:this.props.onExpand,doNotFocus:!0,className:"text-link-dd"},n.default.createElement(l.dropDown.option,{value:"unlink",className:"link-dd-option"},n.default.createElement("div",{className:"link-icon-container"},n.default.createElement(l.symbol,{name:"textUnlink",key:"textUnlink"}))),n.default.createElement(l.dropDown.option,{value:"link",className:"link-dd-option"},n.default.createElement("div",{className:"link-icon-container"},n.default.createElement(l.symbol,{name:"textLink",key:"textLink"})))))):null)}}).displayName="textLinkControl",a}.apply(t,n))||(e.exports=l)},739:function(e,t,o){var n,l;n=[o,t,o(0),o(5),o(4),o(1),o(84),o(106),o(2),o(13),o(3),o(8)],void 0===(l=function(e,t,o,n,l,a,i,s,r,u,p,d){"use strict";return n=o.__importDefault(n),l=o.__importDefault(l),a=o.__importDefault(a),i=o.__importDefault(i),s=o.__importDefault(s),r=o.__importStar(r),u=o.__importDefault(u),p=o.__importDefault(p),d=o.__importDefault(d),n.default({displayName:"textStyle",mixins:[r.translationMixin],propTypes:{nullLabel:l.default.string},getNullLabelFromProps(){return this.props.nullLabel||this.translateIfNeeded("list_design_panel_Customize_TextField_CustomTheme_DropdownItem_Label")},getInitialState(){return{nullLabel:this.getNullLabelFromProps()}},getDefaultProps:()=>({stylesMap:i.default.DEFAULT_STYLES_MAP,toolbarMode:!1,optionsWidth:264}),getStyleOptions(){return a.default.map(this.props.stylesMap,a.default.bind((function(e){const t=s.default.getStyleFont(e.cssClass,this.props.themeColors,this.props.themeFonts),o=a.default.assign(t,a.default.pick(e,["seoTag","cssClass","displayName"]));if(u.default.isOpen("text_themes_sdk")&&this.props.isDeveloperMode&&/^font_[7-9]$/.test(o.cssClass)){const e=Number(o.cssClass.replace(/.*(\d)/,"$1"))-6;o.seoTag='p class="P'.concat(e,'"')}return o}),this))},getThemeOptions(){return this.getStyleOptions().map(a.default.bind((function(e){return{key:e.cssClass,value:e.cssClass,label:this.translateIfNeeded(e.displayName),size:parseInt(e.size,10),color:e.cssColor,htmlTag:e.seoTag,theme:this.getDisplayStyle(e),selectedValueSuffix:"custom-style"===this.props.className?"*":""}}),this))},getDisplayStyle:e=>({fontWeight:e.weight,fontFamily:"".concat(e.family,",").concat(e.fontWithFallbacks),fontSize:parseInt(e.size,10)<=28?e.size:"28px",fontStyle:e.style}),isExpanded(){return this.refs.dropdown.isExpanded()},getValue(){return a.default.get(this.props.value,"class")||this.props.value},render(){return p.default.createElement(d.default.Tooltip,{content:this.props.tooltipValue,disabled:!this.props.tooltipValue},p.default.createElement(d.default.Composites.DropDownLabeled,null,this.props.infoText?p.default.createElement(d.default.InfoIcon,{shouldTranslate:!0,text:this.props.infoText}):null,p.default.createElement(d.default.TextLabel,{value:this.props.label,shouldTranslate:!0}),p.default.createElement(d.default.DropDown,{value:this.getValue(),shouldTranslate:!1,optionsContainerClassName:"themes-dropdown-options ".concat(this.props.optionsClass?this.props.optionsClass:""),onChange:this.props.onChange},a.default.map(this.getThemeOptions(),e=>p.default.createElement(d.default.DropDownThemeOption,Object.assign({},e))),this.isCustom()?p.default.createElement(d.default.DropDownOption,{key:"textStyleCustom",value:this.props.value,label:this.state.nullLabel,optionWrapperClassName:"custom-option"}):null)))},isCustom(){return!a.default.some(this.props.stylesMap,{cssClass:this.getValue()})}})}.apply(t,n))||(e.exports=l)},740:function(e,t,o){var n,l;n=[o,t,o(0),o(5),o(4),o(9),o(2),o(3),o(9),o(8)],void 0===(l=function(e,t,o,n,l,a,i,s,r,u){"use strict";return n=o.__importDefault(n),l=o.__importDefault(l),a=o.__importStar(a),i=o.__importStar(i),s=o.__importDefault(s),r=o.__importStar(r),u=o.__importDefault(u),n.default({displayName:"lineHeight",render(){return s.default.createElement("div",{className:"control-line-height"},s.default.createElement(u.default.Composites.RadioButtonsLabeled,null,this.props.infoText||this.props.infoTitle?s.default.createElement(u.default.InfoIcon,{key:"lineHeightInfo",title:this.props.infoTitle,text:this.props.infoText}):null,s.default.createElement(u.default.TextLabel,{value:"text_editor_line_spacing_label"}),s.default.createElement(u.default.RadioButtons,{value:this.getSelectedOption(),options:this.props.options||this.getDefaultOptions(),onChange:this.selectionChange,className:"line-spacing"})),"custom"===this.getSelectedOption()?s.default.createElement("div",{key:"line-height-slider",className:"slider-wrapper"},s.default.createElement(r.slider,{value:this.getLineHeightValue(),min:.5,max:3,stepperMax:9,stepperStep:.01,step:.1,onChange:this.handleSliderChange,onSlideEnd:this.props.onSlideEnd})):null)},mixins:[a.inputMixin,i.translationMixin],propTypes:{infoText:l.default.string,infoTitle:l.default.string,options:l.default.arrayOf(l.default.shape({label:l.default.string.isRequired,value:l.default.string.isRequired})),label:l.default.string,value:l.default.oneOfType([l.default.string,l.default.number])},getDefaultOptions:()=>[{value:"auto",label:"text_editor_line_spacing_automatic"},{value:"custom",label:"text_editor_line_spacing_customize"}],getSelectedOption(){return""===this.props.value?"auto":"custom"},handleSliderChange(e){i.valueLink.callOnChangeIfExists(this.props,e)},getLineHeightValue(){return""===this.props.value?"auto":parseFloat(this.props.value)},selectionChange(e){"auto"===e?i.valueLink.callOnChangeIfExists(this.props,e):""===this.props.value&&i.valueLink.callOnChangeIfExists(this.props,1.2)}})}.apply(t,n))||(e.exports=l)},741:function(e,t,o){var n,l;n=[o,t,o(0),o(18),o(4),o(3),o(216),o(2)],void 0===(l=function(e,t,o,n,l,a,i,s){"use strict";var r;return n=o.__importDefault(n),l=o.__importDefault(l),a=o.__importDefault(a),i=o.__importDefault(i),s=o.__importStar(s),(r=class extends a.default.Component{constructor(){super(...arguments),this.state={popupOpen:!1},this.togglePopup=()=>{const e=!this.state.popupOpen;this.setState({popupOpen:e}),e&&this.setPopupPosition()},this.hide=()=>{this.state.popupOpen&&this.setState({popupOpen:!1})},this.setPopupPosition=()=>{const e=n.default.findDOMNode(this.refs.popupButton).getBoundingClientRect();if(this.refs.popupContainer){const t=n.default.findDOMNode(this.refs.popupContainer),o=0-t.getBoundingClientRect().width/2,l=e.height+10;t.style.setProperty("bottom","".concat(l,"px")),t.style.setProperty("right","".concat(o,"px"))}}}render(){return a.default.createElement(s.outerClick,{onOuterClick:this.hide},a.default.createElement("div",{className:"text-popup-control"},a.default.createElement("span",null,a.default.createElement(i.default,{ref:"popupButton",isSelected:this.state.popupOpen,style:{width:this.props.width},onClick:this.togglePopup,popupMode:!0,name:this.props.iconName},this.props.label?a.default.createElement("span",{key:"textPopupLabel"},this.props.label):null)),a.default.createElement("div",{style:{visibility:this.state.popupOpen?"visible":"hidden"},className:"tri with-shadow"}),a.default.createElement("div",{ref:"popupContainer",style:{visibility:this.state.popupOpen?"visible":"hidden"},className:"text-popup with-shadow"},a.default.createElement("span",null,this.props.children)),a.default.createElement("div",{style:{visibility:this.state.popupOpen?"visible":"hidden"},className:"tri cover-shadow"})))}}).displayName="textPopup",r.propTypes={label:l.default.string,iconName:l.default.string,width:l.default.number},r}.apply(t,n))||(e.exports=l)},742:function(e,t,o){var n,l;n=[o,t,o(0),o(22),o(1),o(329),o(106)],void 0===(l=function(e,t,o,n,l,a,i){"use strict";function s(e){return l.default.find(e.classList,(function(e){return l.default.includes(e,"font_")}))||null}function r(e,t){if(s(e))return e;const o=n.default(e).clone();o.empty();const l=a.default.collectionToArray(e.childNodes);for(let e=0;e<l.length;e++){const a=l[e];if(s(a)||p(a)){const e=n.default(a).clone();e.empty();const l=r(a,e.get(0));return o.append(n.default(l)),e.get(0).firstChild&&n.default(t).append(e),o.get(0)}n.default(t).append(n.default(a))}return o.get(0)}function u(e){if(!p(e))return;const t=n.default(e).clone(!1);t.empty();const o=a.default.collectionToArray(e.childNodes);for(let l=0;l<o.length;l++){const a=o[l];if(s(a)||p(a)){const o=n.default(a).clone(!1);o.empty();const l=r(a,o);return o.get(0).firstChild&&t.append(o),n.default(e).before(t),n.default(e).before(n.default(l)),c(l),void u(e)}t.append(n.default(a))}}function p(e){return a.default.isDomElement(e)&&n.default(e).find('span[class*="font_"]').length}function d(e,t){if(a.default.isDomElement(e)){s(e)&&"span"===e.tagName.toLowerCase()?t.push(e):l.default.forEach(e.children,(function(e){t.concat(d(e,t))}))}return t}function c(e){if(s(e)&&u(e),!p(e))return;const t=d(e,[]);l.default.forEach(t,u)}n=o.__importDefault(n),l=o.__importDefault(l),a=o.__importDefault(a),i=o.__importDefault(i);const f={"font-family":"family","font-size":"size","font-style":"style","font-variant":"variant","font-weight":"weight","line-height":"lineHeight"};return{flattenStyledSpans:c,isBlockContainUnstyledText:function e(t){if(a.default.isTextNode(t))return!0;if(s(t))return!1;const o=a.default.collectionToArray(t.childNodes);for(let t=0;t<o.length;t++)if(e(o[t]))return!0;return!1},getStyledSpansRecursive:d,getMostCommonStyle:function(e){const t={};return l.default.forEach(e,(function(e){const o=s(e);t[o]=t[o]||0,t[o]+=e.textContent.length})),function(e){let t=0,o=null;return l.default.forEach(e,(function(e,n){e>t&&(t=e,o=n)})),o}(t)},getElementStyleClass:s,getStyleDelta:function(e,t,o,n){const a=e&&i.default.parseStyleFont(e,o,n),s=i.default.parseStyleFont(t,o,n),r={};return l.default.forEach(f,(function(e,t){a&&a[e]===s[e]||(r[t]=s[e])})),r},getColorDelta:function(e,t,o,n){const l=e&&i.default.parseStyleFont(e,o,n),a=i.default.parseStyleFont(t,o,n);return a?l&&l.color===a.color?null:"#"===a.color.charAt(0)?{isRef:!1,value:a.color}:{isRef:!0,value:a.color.replace("{","").replace("}","")}:null}}}.apply(t,n))||(e.exports=l)},743:function(e,t,o){var n,l;n=[o,t,o(0),o(3),o(9),o(2)],void 0===(l=function(e,t,o,n,l,a){"use strict";return n=o.__importDefault(n),l=o.__importStar(l),a=o.__importStar(a),{getTooltipValue(e,t){return"bold"===e||"italic"===e||"underline"===e?this.getTooltipWithShortcut(e,t):"text_editor_buttons_tooltip_".concat(e)},getTooltipWithShortcut:(e,t)=>n.default.createElement(l.popoverTemplates.keyboardShortcutTooltip,{label:"text_editor_buttons_tooltip_".concat(e),shortcut:"".concat(a.browserUtil.getKeyboardSpecialKey().label," + ").concat(t)})}}.apply(t,n))||(e.exports=l)},744:function(e,t,o){var n,l;n=[o,t,o(0),o(1),o(4),o(2),o(217),o(84),o(326)],void 0===(l=function(e,t,o,n,l,a,i,s,r){"use strict";n=o.__importDefault(n),l=o.__importDefault(l),a=o.__importStar(a),i=o.__importDefault(i),s=o.__importDefault(s),r=o.__importDefault(r);const u=a.browserUtil;function p(e,t){e.execCommand(t)}function d(e){i.default.expandSelectionToLinks(e)}function c(e){e.openLinkDialog()}function f(e){e.removeLink()}return{propTypes:{isLinkDialogClosed:l.default.bool.isRequired,isColorPickerClosed:l.default.bool.isRequired},isCkReady(){return!!this.props.textManager},execCommand(e,t,o){this.isCkReady()&&this.props.textManager.execCommand(e,t,o)},getValue(e){return this.isCkReady()?this.props.cmdState[e]:""},getListType(){return this.getValue(s.default.TEXT_LIST_TYPES.textListNumbers)?s.default.TEXT_LIST_TYPES.textListNumbers:this.getValue(s.default.TEXT_LIST_TYPES.textListBullets)?s.default.TEXT_LIST_TYPES.textListBullets:s.default.TEXT_LIST_TYPES.textListNone},getTextAlignment(){const e=this;return n.default.find(s.default.ALIGNMENT_TYPES,(function(t){return e.getValue(t)}))},execListCommand(e){const t=this.getListType();e!==t&&(e===s.default.TEXT_LIST_TYPES.textListNone?this.execCommand(t):this.execCommand(e)),this.focus()},execLineHeightCommand(e){"auto"===e?this.execCommand("lineHeight",s.default.CK_OFF):this.execCommand("lineHeight","".concat(e,"em"))},getLineHeightValue(){return this.getValue("lineHeight")},changeAlignment(e){e!==this.getTextAlignment()&&this.execCommand(e),this.focus()},getBackColorValue(){if(this.isCkReady()){const e=this.getValue("backColor");return""===e?null:n.default.startsWith(e,"back")?this.props.themeColors[e.replace("back","")]:e}},getForeColorValue(){const e=this.getValue("foreColor");return n.default.startsWith(e,"color")?this.props.themeColors[e]:e},prepareColorPickerParams(e,t){const o=e?"foreColor":"backColor";let n=e?this.getValue(o):this.getBackColorValue();const l=a.colors.getColorInHex(n),i=r.default.getColorValueFromTheme(n,this.props.themeColors),s=this.props.textManager.hasSelection()&&!this.props.repeaterWithRuntimeData;return n=i||l,{colorCommand:o,colorValue:n,originalColor:l,isOriginalColorFromTheme:e&&this.isColorFromTheme(),themeColorValue:i,previewOnHover:s,position:t}},execColorPickerChangeCommand(e,t,o,l,a){this.props.isColorPickerClosed||(i.default.setCkReadOnly(this.props.textManager,!1),n.default.startsWith(e,"color")&&n.default.startsWith(t,"back")&&(e="back".concat(e)),a&&e===o?this.execCommand(t,s.default.CK_OFF,{execWithoutHistory:l}):this.execCommand(t,e,{execWithoutHistory:l}),i.default.setCkReadOnly(this.props.textManager,!0))},handleColorClick(e,t){const o=this,n=this.prepareColorPickerParams(e,t);i.default.setCkReadOnly(this.props.textManager,!0),this.props.openColorPicker((function(e,t){const l=r.default.getColorPickerValue(e);o.execColorPickerChangeCommand(l,n.colorCommand,n.originalColor,t,n.isOriginalColorFromTheme)}),n.colorValue,!0,n.position,n.previewOnHover,!1),this.forceIsCustomStyleValue=this.isCustomStyle()},isColorFromTheme(){return this.getValue("foreColor")===s.default.CK_OFF},componentWillReceiveProps(e){!this.props.isLinkDialogClosed&&e.isLinkDialogClosed&&this.focus(),this.props.isColorPickerClosed!==e.isColorPickerClosed&&(i.default.toggleSelectionToTransparent(this.props.textManager,!e.isColorPickerClosed),e.isColorPickerClosed&&(this.focus(),i.default.setCkReadOnly(e.textManager,!1),this.forceIsCustomStyleValue=void 0))},getFormatBlockValue(){return this.isCkReady()?this.getValue("formatBlock"):""},getFormatBlockCss(){return this.isCkReady()?n.default.get(this.getValue("formatBlock"),"class")||"font_8":""},getFormatBlockHtmlTag(){return this.isCkReady()?n.default.get(this.getValue("formatBlock"),"tag")||"p":""},execFormatBlockCommand(e){const t=s.default.CLASS_TO_FONT[e];this.execCommand("formatBlock",t),this.focus()},resetBlocks(){this.execCommand("formatBlock",{getNewBlockValue:e=>s.default.CLASS_TO_FONT[e]}),this.focus()},execSEOTagChange(e){this.execCommand("formatBlock",{tag:e,shouldRetainThemesAndStyles:!0}),this.focus()},execNoBackColor(){return this.execCommand("backColor",s.default.CK_OFF)},handleFontFamilyChange(e){i.default.insertUploadedFontsToCk([e],this.props.textManager),this.execCommand("fontFamily",e)},focus(){if(this.props.textManager){const e=this.props.textManager;window.setTimeout((function(){e.focus()}),0)}},isCustomStyle(){if(void 0!==this.forceIsCustomStyleValue)return this.forceIsCustomStyleValue;let e=!1;if(this.props.cmdState){const t=this,o=this.getFormatBlockCss();n.default.forEach(s.default.STYLE_COMMANDS,(function(n){o&&t.props.cmdState[n]!==t.props.themeMap[o][n]&&(e=!0)}))}return e},canPerformSaveTheme(){return this.props.isColorPickerClosed&&this.isCustomStyle()&&this.props.textManager&&!this.props.textManager.isMultipleBlockSelection()},getBoldProps(){return{name:"textBold",instanceId:"textBold",tooltipValue:this.getTooltipValue("bold","B"),value:this.getValue("bold"),onChange:n.default.partial(p,this,"bold")}},getItalicProps(){return{name:"textItalic",instanceId:"textItalic",tooltipValue:this.getTooltipValue("italic","I"),value:this.getValue("italic"),onChange:n.default.partial(p,this,"italic")}},getUnderlineProps(){return{name:"textUnderline",instanceId:"textUnderline",tooltipValue:this.getTooltipValue("underline","U"),value:this.getValue("underline"),onChange:n.default.partial(p,this,"underline")}},getLinkProps(){return{name:"textLink",instanceId:"textLink",tooltipValue:this.shouldDisableLinkButton()?(e=this.props.textManager,e.hasSelection()?"text_editor_link_disabled_2":"text_editor_link_disabled"):this.getTooltipValue("link"),value:this.hasLink(),onChange:n.default.partial(c,this),disabled:this.shouldDisableLinkButton(),onUnlink:n.default.partial(f,this),onExpand:n.default.partial(d,this.props.textManager)};var e},getVerticalTextProps(){return{label:"Vertical Text",shouldTranslate:!1,animated:!1,value:this.getValue("verticalText"),onChange:n.default.partial(p,this,"verticalText")}},shouldDisableLinkButton(){return this.getValue("wixLink")===s.default.CK_DISABLED||this.props.isEditingRepeatedTextComp&&this.props.textManager&&this.props.textManager.isAllSelected()},getBulletsItems(){return this.getValue("bidiltr")?s.default.TEXT_LIST_TYPES:s.default.TEXT_LIST_TYPES_RTL},getBulletsIconName(){return this.getValue("bidiltr")?"textListBullets":"textListBulletsRight"},hasLink(){return!n.default.isEmpty(this.getValue("wixLink"))&&!this.shouldDisableLinkButton()},removeLink(){this.execCommand("wixUnlink")},openLinkDialog(){const e=this,t=this.getValue("wixLink"),o=(this.props.getLink||this.props.linksHelper.getLink.bind(this.props.linksHelper))(t),l=o&&o.id;function a(t){const o=(e.props.saveLink||e.props.linksHelper.saveLink.bind(e.props.linksHelper))(t);o&&e.execCommand("wixLink",o)}u.isIE()&&i.default.expandSelectionToLinks(this.props.textManager),this.props.openLinkPanel(o,n.default.once((function(t){!function(e){e&&"EmailLink"===e.type&&!e.subject&&(e.subject="")}(t),l?t?a(t):e.removeLink():t&&a(t)})))},linkFontSize(){return{value:this.getValue("fontSize"),requestChange:function(e,t){t?this.execCommandWithoutFocus("fontSize","".concat(e,"px")):this.execCommand("fontSize","".concat(e,"px"))}.bind(this)}},handleFontSizeEnd(){this.focus()},linkSpacing(){return{value:parseFloat(this.getValue("letterSpacing")),requestChange:function(e,t){t?this.execCommandWithoutFocus("letterSpacing","".concat(e,"em")):this.execCommand("letterSpacing","".concat(e,"em"))}.bind(this)}},execCommandWithoutFocus(e,t){this.execCommand(e,t,{execWithoutFocus:!0})},registerSaveThemeUndoRedoHandler(e,t){const o=t?"undo":"redo";this.savedThemeSnapshotListener||(this.savedThemeSnapshotListener={}),this.savedThemeSnapshotListener[o]&&this.props.textManager.unRegisterListener(this.savedThemeSnapshotListener[o]),this.savedThemeSnapshotListener[o]=i.default.registerAfterUndoRedoListener(e,t,this.props.textManager)}}}.apply(t,n))||(e.exports=l)},8:function(e,t){e.exports=r},84:function(e,t,o){var n,l;n=[o,t,o(0),o(1)],void 0===(l=function(e,t,o,n){"use strict";const l={h1:{seoTag:"h1",label:"FONT_0_LABEL",tag:"h1",displayName:"text_editor_theme_new_1",cssClass:"font_0"},h2:{seoTag:"h2",label:"FONT_2_LABEL",tag:"h2",displayName:"text_editor_theme_new_2",cssClass:"font_2"},h3:{seoTag:"h3",label:"FONT_3_LABEL",tag:"h3",displayName:"text_editor_theme_new_3",cssClass:"font_3"},h4:{seoTag:"h4",label:"FONT_4_LABEL",tag:"h4",displayName:"text_editor_theme_new_4",cssClass:"font_4"},h5:{seoTag:"h5",label:"FONT_5_LABEL",tag:"h5",displayName:"text_editor_theme_new_5",cssClass:"font_5"},h6:{seoTag:"h6",label:"FONT_6_LABEL",tag:"h6",displayName:"text_editor_theme_new_6",cssClass:"font_6"},p:{seoTag:"p",label:"FONT_7_LABEL",tag:"p",displayName:"text_editor_theme_7",cssClass:"font_7"},div:{seoTag:"p",label:"FONT_8_LABEL",tag:"div",displayName:"text_editor_theme_8",cssClass:"font_8"},address:{seoTag:"p",label:"FONT_9_LABEL",tag:"address",displayName:"text_editor_theme_9",cssClass:"font_9"}};return{MAX_TEXT_LENGTH:6e4,CK_OFF:2,CK_ON:1,CK_DISABLED:0,IMAGE_WHITE_LIST_ATTRIBUTES:["src","style","wix-comp"],FORBIDDEN_TAGS:["script","iframe","embed","object","meta"],SENSITIVE_ATTRIBUTES:["href","src","style"],FORBIDDEN_TAGS_AND_ATTRIBUTES:["script","iframe","embed","object","meta","expression","id","comp","dataquery","propertyquery","styleid","skin","skinpart","y","x","scale","angle","idprefix","state","container","listposition","hasproxy","vcfield","vcview","vctype","pos","onAbort","onActivate","onAfterPrint","onAfterUpdate","onBeforeActivate","onBeforeCopy","onBeforeCut","onBeforeDeactivate","onBeforeEditFocus","onBeforePaste","onBeforePrint","onBeforeUnload","onBeforeUpdate","onBegin","onBlur","onBounce","onCellChange","onChange","onClick","onContextMenu","onControlSelect","onCopy","onCut","onDataAvailable","onDataSetChanged","onDataSetComplete","onDblClick","onDeactivate","onDrag","onDragEnd","onDragLeave","onDragEnter","onDragOver","onDragDrop","onDragStart","onDrop","onEnd","onError","onErrorUpdate","onFilterChange","onFinish","onFocus","onFocusIn","onFocusOut","onHashChange","onHelp","onInput","onKeyDown","onKeyPress","onKeyUp","onLayoutComplete","onLoad","onLoseCapture","onMediaComplete","onMediaError","onMessage","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onMouseWheel","onMove","onMoveEnd","onMoveStart","onOffline","onOnline","onOutOfSync","onPaste","onPause","onPopState","onProgress","onPropertyChange","onReadyStateChange","onRedo","onRepeat","onReset","onResize","onResizeEnd","onResizeStart","onResume","onReverse","onRowsEnter","onRowExit","onRowDelete","onRowInserted","onScroll","onSeek","onSelect","onSelectionChange","onSelectStart","onStart","onStop","onStorage","onSyncRestored","onSubmit","onTimeError","onTrackChange","onUndo","onUnload","onURLFlip","seekSegmentTime"],DEFAULT_STYLES_MAP:l,CLASS_TO_FONT:{font_0:{tag:"h1",class:"font_0"},font_2:{tag:"h2",class:"font_2"},font_3:{tag:"h3",class:"font_3"},font_4:{tag:"h4",class:"font_4"},font_5:{tag:"h5",class:"font_5"},font_6:{tag:"h6",class:"font_6"},font_7:{tag:"p",class:"font_7"},font_8:{tag:"p",class:"font_8"},font_9:{tag:"p",class:"font_9"}},PALETTE_SEQUENCES:["color_11","color_12","color_13","color_14","color_15","color_16","color_17","color_18","color_19","color_20","color_21","color_22","color_23","color_24","color_25","color_26","color_27","color_28","color_29","color_30","color_31","color_32","color_33","color_34","color_35"],TEXT_LIST_TYPES:{textListNone:"nonelist",textListNumbers:"numberedlist",textListBullets:"bulletedlist"},TEXT_BACK_COLOR_TYPES:{textListNone:"noColor"},TEXT_LIST_TYPES_RTL:{textListNone:"nonelist",textListNumbersRight:"numberedlist",textListBulletsRight:"bulletedlist"},ALIGNMENT_TYPES:{textAlignLeft:"justifyleft",textAlignCenter:"justifycenter",textAlignRight:"justifyright",textAlignBlock:"justifyblock"},FONT_SIZE:{MIN:6,MAX:215},BLOG_CK_EDITOR_FONT_STYLES:{type:"map",metaData:{isPreset:!0,isHidden:!1,description:"",isPersistent:!1},items:{font_0:{seoTag:"h1",label:"FONT_0_LABEL"},font_1:{seoTag:"h2",label:"FONT_1_LABEL"},font_2:{seoTag:"h2",label:"FONT_2_LABEL"},font_3:{seoTag:"h3",label:"FONT_3_LABEL"},font_4:{seoTag:"h4",label:"FONT_4_LABEL"},font_5:{seoTag:"h5",label:"FONT_5_LABEL"},font_6:{seoTag:"h6",label:"FONT_6_LABEL"},font_7:{seoTag:"p",label:"FONT_7_LABEL"},font_8:{seoTag:"p",label:"FONT_8_LABEL"},font_9:{seoTag:"p",label:"FONT_9_LABEL"},font_10:{seoTag:"p",label:"FONT_10_LABEL"}},id:"CK_EDITOR_FONT_STYLES"},BLOG_EDITOR_STYLES:{type:"map",metaData:{isPersistent:!1},items:{h1:{tag:"h1",cssClass:"font_3"},h2:{tag:"h2",cssClass:"font_4"},h3:{tag:"h3",cssClass:"font_5"},h4:{tag:"h4",cssClass:"font_6"},h5:{tag:"h5",cssClass:"font_7"},h6:{tag:"h6",cssClass:"font_8"},p:{tag:"p",cssClass:"font_9"},div:{tag:"div",cssClass:"font_8",label:"default",seoTag:"hatul"}},id:"WIXAPPS_EDITOR_STYLES"},DEFAULT_STYLE_CLASS:"font_100",FALLBACK_STYLE_CLASS:"font_8",STYLE_COMMANDS:["bold","fontSize","fontFamily","foreColor","italic"],TEXT_BLOCKS:(n=o.__importDefault(n)).default.keys(l).concat(["ul","ol"]),FONT_GROUPS:{"my-uploads":"text_editor_font_dropdown_my_fonts",latin:"text_editor_font_dropdown_all_fonts","latin-ext":"add_languages_eastern_european",cyrillic:"add_languages_cyrillic",japanese:"add_languages_japanese",korean:"add_languages_korean",arabic:"add_languages_arabic",hebrew:"add_languages_hebrew"}}}.apply(t,n))||(e.exports=l)},9:function(e,t){e.exports=u}})}));
//# sourceMappingURL=textControls.min.js.map