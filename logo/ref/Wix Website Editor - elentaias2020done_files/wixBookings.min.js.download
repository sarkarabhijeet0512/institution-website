define("wixBookings",["tslib","lodash","util","react","prop-types","constants","stateManagement","wix-base-ui","baseUI","santa-editor-symbols","experiment","helpIds","addPanelDataConsts","tpa","platform","superAppMenuInfra"],(function(e,t,i,n,a,o,s,r,l,p,d,u,_,g,c,f){return function(e){var t={};function i(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,i),a.l=!0,a.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=3060)}({0:function(t,i){t.exports=e},1:function(e,i){e.exports=t},10:function(e,t){e.exports=p},13:function(e,t){e.exports=d},14:function(e,t){e.exports=u},16:function(e,t){e.exports=_},2:function(e,t){e.exports=i},23:function(e,t){e.exports=g},26:function(e,t){e.exports=c},3:function(e,t){e.exports=n},3060:function(e,t,i){var n,a;n=[i,t,i(0),i(23),i(7),i(6),i(3061),i(86),i(87),i(789),i(790),i(791),i(792),i(793),i(3073),i(788)],void 0===(a=function(e,t,i,n,a,o,s,r,l,p,d,u,_,g,c,f){"use strict";return n=i.__importStar(n),a=i.__importDefault(a),o=i.__importDefault(o),s=i.__importDefault(s),r=i.__importDefault(r),l=i.__importDefault(l),p=i.__importDefault(p),d=i.__importDefault(d),u=i.__importDefault(u),_=i.__importDefault(_),g=i.__importDefault(g),c=i.__importDefault(c),f=i.__importDefault(f),{onPreviewReady:function(e){const{WIX_BOOKINGS_APP_DEF_ID:t,superAppPanelName:i}=r.default,s=l.default({editorAPI:e}),p=c.default({editorAPI:e});if(s.register6thButton(),f.default.registerEvents(e),n.superApps.registerOnAppInstalled(t,s.onAppInstalled),n.superApps.registerOnAppDeleted(t,s.onAppDeleted),r.default.isImproveManagerPanelFTEnabled()){const t=e.store.getState(),{selectors:n}=a.default.editorPlugins.userPreferences,l=n.getSiteUserPreferences(i+o.default.LEFT_BAR.WAS_BUTTON_CLICKED_KEY)(t);s.shouldExpandButton()&&e.savePublish.registerFirstSaveCallback(()=>function(e){const{superAppPanelName:t,superAppButtonLabel:i,superAppSymbolName:n,superAppPanelClassName:o}=r.default,s=r.default.isWixBookingsInstalled(e);e.store.dispatch(a.default.editorPlugins.leftBar.actions.addSuperAppsButton(t,{},i,o,n,!1,!0,s))}(e)),r.default.isExpandPanelButtonEnabled()&&!l&&e.registerSitePublishedCallbacks(()=>function(e){e.store.dispatch(a.default.editorPlugins.leftBar.actions.collapseButton(r.default.superAppPanelName))}(e))}p.handle()},getBookingsEditorActionService:e=>l.default({editorAPI:e}),getBookingsDataProvider:()=>r.default,isWixBookingsInstalled:e=>r.default.isWixBookingsInstalled(e),wixBookingsAddPanelSections:p.default,serviceWidget:d.default,offeringListWidget:u.default,timetableWidget:_.default,bookButtonWidget:g.default,panels:{bookingsPanel:s.default}}}.apply(t,n))||(e.exports=a)},3061:function(e,t,i){var n,a;n=[i,t,i(0),i(2),i(86),i(87),i(3063),i(3),i(40)],void 0===(a=function(e,t,i,n,a,o,s,r,l){"use strict";n=i.__importStar(n),a=i.__importDefault(a),o=i.__importDefault(o),s=i.__importDefault(s),r=i.__importDefault(r),l=i.__importStar(l);const{connect:p,renderWhenMutated:d,STORES:{EDITOR_API:u}}=n.hoc;class _ extends r.default.Component{constructor(){super(...arguments),this.openBackOffice=()=>{this.props.openDashboard()}}componentDidMount(){this.props.init()}render(){return r.default.createElement(l.superAppPanel,{superApp:this.props.getSuperApp(),selectedTabName:this.props.selectedTabName,panelClass:a.default.superAppPanelClassName})}}_.displayName="BookingsPanel";return p(u,e=>{let{editorAPI:t}=e;const i=o.default({editorAPI:t});return{init:function(){a.default.isImproveManagerPanelFTEnabled()&&(n.fedopsLogger.interactionEnded(n.fedopsLogger.INTERACTIONS.BOOKINGS_PANEL_OPENED),window.FS&&window.FS.setUserVars({bookingsPanel_bool:!0}))},getSuperApp:function(){return a.default.isImproveManagerPanelFTEnabled()&&n.fedopsLogger.interactionStarted(n.fedopsLogger.INTERACTIONS.BOOKINGS_PANEL_OPENED),s.default.getWixBookingsSuperApp({editorAPI:t,isUserOwner:t.account.isUserOwner(),openAppPremiumPackagePicker:i.handelUpgrade,isAppInstalled:()=>a.default.isWixBookingsInstalled(t),isPremium:a.default.hasPremium})},openDashboard:function(){i.openDashboard(a.default.BOOKINGS_BO_PAGES.offeringList)}}})(d(_))}.apply(t,n))||(e.exports=a)},3062:function(e,t,i){var n,a;n=[i,t,i(0),i(2),i(788)],void 0===(a=function(e,t,i,n,a){"use strict";return n=i.__importStar(n),{report:function(e,t,i){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];try{e.bi.event(t,i)}catch(e){a&&n.ravenUtils.captureError(e,{tags:{bookingsPanelOpenBI:!0}})}},events:(a=i.__importDefault(a)).default.wixBookingsEvents,registerEvents:a.default.registerEvents}}.apply(t,n))||(e.exports=a)},3063:function(e,t,i){var n,a;n=[i,t,i(0),i(2),i(86),i(3064),i(789),i(3071),i(3072)],void 0===(a=function(e,t,i,n,a,o,s,r,l){"use strict";n=i.__importStar(n),a=i.__importDefault(a),o=i.__importDefault(o),s=i.__importDefault(s),r=i.__importDefault(r),l=i.__importDefault(l);const p=()=>({title:"SiteApp_WixBookings_Learn_Title",section2HeaderViewA:"SiteApp_WixBookings_Learn_Forum",section3HeaderViewA:"SiteApp_WixBookings_Learn_Blog",data:{viewA:{helpCenterPopUp:{isHidden:!0},supportForumsPopUp:{link:"https://support.wix.com/en/wix-bookings/setting-up-wix-bookings/?locale={{lang}}",image:n.media.getMediaUrl("superAppMenuInfra/ViewTheBlogHelpCenter.png")},wixTipsBlog:{link:"https://www.wix.com/blog/category/small-business-tips/",image:n.media.getMediaUrl("superAppMenuInfra/OpenTheBlogSupportForum.png")}}}}),d=()=>({title:"SiteApp_WixBookings_Learn_Title",section2HeaderViewA:"SiteApp_WixBookings_Learn_Forum",section3HeaderViewA:"SiteApp_WixBookings_Learn_Blog",section4HeaderViewA:"SiteApp_WixBookings_Learn_More",data:{viewA:{helpCenterPopUp:{isHidden:!0},supportForumsPopUp:{link:"https://support.wix.com/en/wix-bookings/setting-up-wix-bookings/?locale={{lang}}",image:n.media.getMediaUrl("superAppMenuInfra/ViewTheBlogHelpCenter.png")},wixTipsBlog:{link:"https://www.wix.com/blog/category/small-business-tips/",image:n.media.getMediaUrl("superAppMenuInfra/OpenTheBlogSupportForum.png")},wixHireDesignPartner:{link:"https://www.wix.com/marketplace/dynamic-brief?entry=booking&serviceType=2&innerType=1&origin=booking-editor",image:n.media.getMediaUrl("superAppMenuInfra/HireWixDesignPartner.png")}}}});return{getWixBookingsSuperApp:function(e){let t,i,u,_,{editorAPI:g,isUserOwner:c,openAppPremiumPackagePicker:f,isAppInstalled:m,isPremium:P}=e,A=(()=>{const e=a.default.isLearnMore6thButtonEnabled()?d():p();return{id:"wixBookings",appDefId:a.default.WIX_BOOKINGS_APP_DEF_ID,appName:"WixBookings",firstTimeTour:{templateFlow:[l.default],manuallyInstalledFlow:[l.default],promotionalFlow:[l.default]},panel:{name:a.default.superAppPanelName,pages:{isHidden:!0},manage:{title:"SiteApp_WixBookings_Menu_ManageBookings",helpId:"bf44fdcd-7f35-41a2-a04a-93a0a821e55d",template:o.default},learnMore:e}}})();return a.default.isImproveManagerPanelEnabled()?(t="SiteApp_WixBooking_Improvements_Upgrade_link",i="SiteApp_WixBookings_Improvements_UpgradeTooltip_Title",u="SiteApp_WixBookings_Improvements_UpgradeTooltip_Paragraph1",_="SiteApp_WixBookings_UpgradeTooltip_Button_Label"):(t="SiteApp_WixBooking_Upgrade_link",i="SiteApp_WixBookings_UpgradeTooltip_Title",u="SiteApp_WixBookings_UpgradeTooltip_Paragraph1",_="SiteApp_WixBookings_UpgradeTooltip_Button_Label"),A.isPremium=P||a.default.hasPremium,A.isAppInstalled=m,A.openAppPremiumPackagePicker=f,A.hasPremiumPlan=c,A.upgradeLinkText=t,A.tooltip={upgrade:{title:i,text:u,label:_,image:"menubarUpgradePromotionDark"}},A.panel=A.panel||{},a.default.shouldShowPanelPagesLink()&&(A.panel.pages={title:"SiteApp_WixBookings_Menu_BookingsPages",helpId:"bf44fdcd-7f35-41a2-a04a-93a0a821e55d",template:r.default}),A.panel.addElements={title:a.default.isImproveManagerPanelEnabled()?"SiteApp_WixBookings_Improvements_AddElement_Title":"SiteApp_WixBookings_AddElement_Title",helpId:"ec2615c5-4f08-4c7e-8ee5-2c9fde4ab6cb",sections:s.default({editorAPI:g}),categoryId:a.default.getAddElementCategoryId()},A=(e=>{const t=n.languages.getLanguageCode(),i=e.panel.learnMore.data.viewA.supportForumsPopUp.link;return e.panel.learnMore.data.viewA.supportForumsPopUp.link=i.replace("{{lang}}",t),e})(A),A}}}.apply(t,n))||(e.exports=a)},3064:function(e,t,i){var n,a;n=[i,t,i(0),i(4),i(2),i(13),i(87),i(787),i(86),i(3),i(9),i(8),i(10)],void 0===(a=function(e,t,i,n,a,o,s,r,l,p,d,u,_){"use strict";n=i.__importDefault(n),a=i.__importStar(a),o=i.__importDefault(o),s=i.__importDefault(s),r=i.__importDefault(r),l=i.__importDefault(l),p=i.__importDefault(p),d=i.__importStar(d),u=i.__importDefault(u),_=i.__importStar(_);const g=l.default.SETUP_STEPS,{connect:c,renderWhenMutated:f,STORES:{EDITOR_API:m}}=a.hoc;class P extends p.default.Component{constructor(){super(...arguments),this.state={hasPayments:!1,numOfOfferings:0,fromTemplate:!1,reviewedEmail:!1,modifiedOffering:!1,reviewedWorkingHours:!1,currentSetupStep:null,ready:!1},this.isPanelReady=()=>this.state.ready,this.getCurrentStep=()=>this.state.currentSetupStep,this.getOpenDashboardLabel=()=>l.default.isBizMgrImprovementsEnabled()?"SiteApp_WixBookings_Manage_Services":"SiteApp_WixBookings_Manage_OpenBackOffice",this.getFirstStepTitle=()=>this.shouldDisplayFirstTimePanel()?"SiteApp_WixBookings_CreateFirstService_Title":"SiteApp_WixBookings_EditFirstService_Title",this.getFirstStepDescription=()=>this.shouldDisplayFirstTimePanel()?"SiteApp_WixBookings_CreateFirstService_Description":"SiteApp_WixBookings_EditFirstService_Description",this.getFirstStepButtonLabel=()=>this.shouldDisplayFirstTimePanel()?"SiteApp_WixBookings_CreateFirstService_Label":"SiteApp_WixBookings_EditFirstService_Label",this.shouldDisplayFirstTimePanel=()=>this.getCurrentStep()===g.createService,this.shouldDisplayManagementPanel=()=>this.isPanelReady()&&!this.shouldDisplayFirstTimePanel()&&o.default.isOpen("se_wixBooking_improveManagerPanel"),this.shouldDisplayManagementPanelPreloader=()=>!this.isPanelReady()&&!this.shouldDisplayFirstTimePanel()&&o.default.isOpen("se_wixBooking_improveManagerPanel"),this.shouldDisplayLegacyPanel=()=>!o.default.isOpen("se_wixBooking_improveManagerPanel")}componentWillMount(){this.props.getBookingStatus().then(e=>{let{currentSetupStep:t}=e;t===g.undefined&&this.props.openDashboardManager(),this.setState({currentSetupStep:t,ready:t!==g.undefined})})}componentDidUpdate(e){this.state.currentSetupStep===g.undefined&&this.props.instance!==e.instance&&this.props.getBookingStatus().then(e=>{let{currentSetupStep:t}=e;this.setState({currentSetupStep:t,ready:t!==g.undefined})})}render(){return p.default.createElement("div",{className:"wix-bookings-manage-panel"},this.shouldDisplayLegacyPanel()?p.default.createElement(u.default.CustomScroll,{heightRelativeToParent:"100%",key:"legacyPanel"},p.default.createElement("div",{className:"manage-bookings"}),p.default.createElement("p",{className:"manage-panel-description"},p.default.createElement("span",null,a.translate("SiteApp_WixBookings_Manage_Instructor"))),p.default.createElement("div",{className:"buttons-container"},p.default.createElement("div",null,p.default.createElement(d.button,{label:this.getOpenDashboardLabel(),onClick:()=>{this.props.openDashboardManager()},className:"btn-confirm-primary manage-btn"})))):null,this.shouldDisplayLegacyPanel()?null:p.default.createElement("div",{key:"content",className:"wrapper"},this.shouldDisplayFirstTimePanel()?p.default.createElement("div",{key:"firstTimeContent",className:"wix-bookings-manage-panel-setup"},p.default.createElement(_.symbol,{name:"wixBookingsCreateFirstService",className:"wix-bookings-manage-panel-setup-image"}),p.default.createElement("div",{className:"wix-bookings-manage-panel-setup-title"},p.default.createElement(u.default.TextLabel,{enableEllipsis:!1,type:"T03",value:this.getFirstStepTitle()})),p.default.createElement("div",{className:"wix-bookings-manage-panel-setup-description"},p.default.createElement(u.default.TextLabel,{enableEllipsis:!1,type:"T02",value:this.getFirstStepDescription()})),p.default.createElement("div",{className:"wix-bookings-manage-panel-setup-label"},p.default.createElement(d.button,{label:this.getFirstStepButtonLabel(),onClick:()=>{this.props.openDashboardWizard()},className:"btn-md wix-bookings-manage-panel-setup-button"}))):null,this.shouldDisplayManagementPanel()?p.default.createElement("div",{key:"newPanel",className:"content"},p.default.createElement(u.default.SectionDivider,null,a.translate("SiteApp_WixBookings_Bookings_Services")),p.default.createElement(u.default.Divider,{long:!0}),p.default.createElement("div",{onClick:()=>{this.props.openDashboardManager()},className:"wix-bookings-manage-panel-list-item"},p.default.createElement("div",{className:"wix-bookings-manage-panel-list-item-symbol"},p.default.createElement("div",{className:"wix-bookings-manage-panel-list-item-symbol-wrapper"},p.default.createElement(_.symbol,{name:"wixBookingsServices"}))),p.default.createElement(u.default.DrillInListItem,{automationId:"wixBookingsServices",label:"SiteApp_WixBookings_Manage_Bookings_Services"})),p.default.createElement("div",{onClick:()=>{this.props.openDashboardWizard()},className:"wix-bookings-manage-panel-list-item"},p.default.createElement("div",{className:"wix-bookings-manage-panel-list-item-symbol"},p.default.createElement("div",{className:"wix-bookings-manage-panel-list-item-symbol-wrapper"},p.default.createElement(_.symbol,{name:"wixBookingsCreate"}))),p.default.createElement(u.default.DrillInListItem,{automationId:"wixBookingsCreate",label:"SiteApp_WixBookings_Create_Service"})),p.default.createElement(u.default.SectionDivider,null,a.translate("SiteApp_WixBookings_Manage_Schedule")),p.default.createElement(u.default.Divider,{long:!0}),p.default.createElement("div",{onClick:()=>{this.props.openDashboardCalendar()},className:"wix-bookings-manage-panel-list-item"},p.default.createElement("div",{className:"wix-bookings-manage-panel-list-item-symbol"},p.default.createElement("div",{className:"wix-bookings-manage-panel-list-item-symbol-wrapper"},p.default.createElement(_.symbol,{name:"wixBookingsCalendar"}))),p.default.createElement(u.default.DrillInListItem,{automationId:"wixBookingsCalendar",label:"SiteApp_WixBookings_Open_Bookings_Calendar"})),p.default.createElement("div",{className:"wix-bookings-manage-panel-filler"}),p.default.createElement("div",{className:"wix-bookings-manage-panel-footer"},p.default.createElement(u.default.Composites.RichText,null,p.default.createElement(u.default.RichText,{type:"T02"},a.translate("SiteApp_WixBookings_Find_More_Options"),p.default.createElement("a",{onClick:e=>{this.props.openDashboardSettings(e)},className:"btn-text"},a.translate("SiteApp_WixBookings_Bookings_Settings")))))):null,this.shouldDisplayManagementPanelPreloader()?p.default.createElement(u.default.Composites.Preloader,{key:"managePanelPreloader",height:200},p.default.createElement(u.default.Preloader,null),p.default.createElement(u.default.TextLabel,{value:"SiteApp_WixBookings_PromotionalFTUE_Step2_Loader_Caption",className:"loading-text"})):null))}}P.displayName="manageBookingsPanel",P.displayName="BookingsManagePanel",P.propTypes={openDashboardManager:n.default.func.isRequired,openDashboardSettings:n.default.func.isRequired,openDashboardCalendar:n.default.func.isRequired,openDashboardWizard:n.default.func.isRequired,getBookingStatus:n.default.func.isRequired,instance:n.default.string};return c(m,e=>{let{editorAPI:t}=e;const i=s.default({editorAPI:t});return{openDashboardManager:function(){if(l.default.isBizMgrImprovementsEnabled())return i.openDashboard(l.default.BOOKINGS_BO_PAGES.offeringList);i.openDashboard()},openDashboardSettings:function(){return i.openDashboard(l.default.BOOKINGS_BO_PAGES.settings,"settings")},openDashboardCalendar:function(){return i.openDashboard(l.default.BOOKINGS_BO_PAGES.calendar,"calendar")},openDashboardWizard:function(){return i.openDashboard(l.default.BOOKINGS_BO_PAGES.newForm,"new-service")},getBookingStatus:function(){const e=l.default.getInstance(t);return r.default.getBookingsStatus(e).then(e=>({currentSetupStep:r.default.getSetupStepFromStatus(e)}))},instance:l.default.getInstance(t)}})(f(P))}.apply(t,n))||(e.exports=a)},3065:function(e,t,i){var n,a;n=[i,t,i(0),i(16),i(3066),i(87)],void 0===(a=function(e,t,i,n,a,o){"use strict";n=i.__importDefault(n),a=i.__importDefault(a),o=i.__importDefault(o);const s=n.default;return function(e){let{editorAPI:t}=e;const i=o.default({editorAPI:t}),n=[{id:a.default.GRID_PRESET_KEY,structure:{type:"Component",skin:"wysiwyg.viewer.skins.TPAWidgetSkin",layout:{width:980,height:558,scale:1,rotationInDegrees:0,fixedPosition:!1},componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",data:{type:"TPAWidget",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},applicationId:"2269",tpaData:{type:"TPAData",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},content:'"{"buttonStyle":"border"}"'},widgetId:"cc882051-73c9-41a6-8f90-f6ebc9f10fe1"},style:{type:"TopLevelStyle",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:{properties:{},propertiesSource:{},groups:{}},componentClassName:"wysiwyg.viewer.components.tpapps.TPAWidget",pageId:"",compId:"",styleType:"custom",skin:"wysiwyg.viewer.skins.TPAWidgetSkin"}},preset:{rect:{width:304,height:192,x:10,y:10},label:"",tags:null}},{id:a.default.CLASSIC_PRESET_KEY,structure:{type:"Component",skin:"wysiwyg.viewer.skins.TPAWidgetSkin",layout:{width:980,height:558,scale:1,rotationInDegrees:0,fixedPosition:!1},componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",data:{type:"TPAWidget",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},applicationId:"2269",tpaData:{type:"TPAData",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},content:'"{"buttonStyle":"border"}"'},widgetId:"cc882051-73c9-41a6-8f90-f6ebc9f10fe1"},style:{type:"TopLevelStyle",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:{properties:{},propertiesSource:{},groups:{}},componentClassName:"wysiwyg.viewer.components.tpapps.TPAWidget",pageId:"",compId:"",styleType:"custom",skin:"wysiwyg.viewer.skins.TPAWidgetSkin"}},preset:{rect:{width:304,height:382,x:10,y:223},label:"",tags:null}},{id:a.default.STRIP_PRESET_KEY,structure:{type:"Component",skin:"wysiwyg.viewer.skins.TPAWidgetSkin",layout:{width:980,height:558,scale:1,rotationInDegrees:0,fixedPosition:!1},componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",data:{type:"TPAWidget",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},applicationId:"2269",tpaData:{type:"TPAData",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},content:'"{"buttonStyle":"border"}"'},widgetId:"cc882051-73c9-41a6-8f90-f6ebc9f10fe1"},style:{type:"TopLevelStyle",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:{properties:{},propertiesSource:{},groups:{}},componentClassName:"wysiwyg.viewer.components.tpapps.TPAWidget",pageId:"",compId:"",styleType:"custom",skin:"wysiwyg.viewer.skins.TPAWidgetSkin"}},preset:{rect:{width:304,height:139,x:10,y:625},label:"",tags:null}},{id:a.default.OVERLAPPING_PRESET_KEY,structure:{type:"Component",skin:"wysiwyg.viewer.skins.TPAWidgetSkin",layout:{width:980,height:558,scale:1,rotationInDegrees:0,fixedPosition:!1},componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",data:{type:"TPAWidget",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},applicationId:"2269",tpaData:{type:"TPAData",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},content:'"{"buttonStyle":"border"}"'},widgetId:"cc882051-73c9-41a6-8f90-f6ebc9f10fe1"},style:{type:"TopLevelStyle",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:{properties:{},propertiesSource:{},groups:{}},componentClassName:"wysiwyg.viewer.components.tpapps.TPAWidget",pageId:"",compId:"",styleType:"custom",skin:"wysiwyg.viewer.skins.TPAWidgetSkin"}},preset:{rect:{width:304,height:316,x:10,y:784},label:"",tags:null}}];return{id:"wixBookingsOfferingListWidgets",type:s.SECTIONS_TYPES.PRESET,hide:!1,title:"SiteApp_WixBookings_AddElement_OfferingList",subNavigationTitle:"SiteApp_WixBookings_AddElement_OfferingList",presetTitle:"SiteApp_WixBookings_AddElement_OfferingList",tooltipTitle:"SiteApp_WixBookings_AddElement_OfferingList",showSectionHeader:!0,additionalBehaviours:{labelMode:s.LABEL_BEHAVIOUR.ALWAYS,infoIcon:s.INFO_ICON_BEHAVIOUR.NONE,hoverImageAction:s.HOVER_IMAGE_ACTIONS.NONE,scaleProportion:s.DEFAULT_SCALE_FOR_PRESET,iconEnabledForComps:[]},props:{image:a.default.CLASSIC_OVERLAPPING_STRIP_GRID_WIDGET_IMAGE,imageHover:null,onDrop:i.onWidgetDrop,onClick:i.onWidgetClick,items:n,compTypes:["wysiwyg.viewer.components.tpapps.TPAWidget"]}}}}.apply(t,n))||(e.exports=a)},3066:function(e,t,i){var n;void 0===(n=function(e,t){"use strict";return{CLASSIC_OVERLAPPING_WIDGET_IMAGE:"wixBookings/addPanel/offering_list_widget.png",CLASSIC_OVERLAPPING_STRIP_GRID_WIDGET_IMAGE:"wixBookings/addPanel/bookings_offering_list_widget_july_2019_presets.png",CLASSIC_PRESET_KEY:"Wix_Bookings_Offering_List_Widget_Classic",OVERLAPPING_PRESET_KEY:"Wix_Bookings_Offering_List_Widget_Overlapping",STRIP_PRESET_KEY:"Wix_Bookings_Offering_List_Widget_Strip",GRID_PRESET_KEY:"Wix_Bookings_Offering_List_Widget_Grid"}}.apply(t,[i,t]))||(e.exports=n)},3067:function(e,t,i){var n,a;n=[i,t,i(0),i(16),i(3068),i(87)],void 0===(a=function(e,t,i,n,a,o){"use strict";return n=i.__importDefault(n),a=i.__importDefault(a),o=i.__importDefault(o),function(e){let{editorAPI:t}=e;const i=o.default({editorAPI:t}),s=n.default,r=[{id:a.default.DAILY_TIMETABLE_PRESET_KEY,structure:{layout:{x:0,y:0,width:980,height:558,scale:1,rotationInDegrees:0,fixedPosition:!1},data:{widgetId:a.default.DAILY_TIMETABLE_WIDGET_ID,variationId:void 0,installationType:"closed"},style:{type:"TopLevelStyle",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:{properties:{},propertiesSource:{},groups:{}},componentClassName:"wysiwyg.viewer.components.tpapps.TPAWidget",pageId:"",compId:"",styleType:"custom",skin:"wysiwyg.viewer.skins.TPAWidgetSkin"}},preset:{rect:{width:304,height:157,x:10,y:14},label:"",tags:null}}];return{id:"wixBookingsTimetableWidgets",type:s.SECTIONS_TYPES.PRESET,hide:!1,title:a.default.DAILY_TIMETABLE_TITLE_KEY,subNavigationTitle:a.default.DAILY_TIMETABLE_TITLE_KEY,presetTitle:a.default.DAILY_TIMETABLE_TITLE_KEY,tooltipTitle:a.default.DAILY_TIMETABLE_TITLE_KEY,showSectionHeader:!0,additionalBehaviours:{labelMode:s.LABEL_BEHAVIOUR.ALWAYS,infoIcon:s.INFO_ICON_BEHAVIOUR.NONE,hoverImageAction:s.HOVER_IMAGE_ACTIONS.NONE,scaleProportion:s.DEFAULT_SCALE_FOR_PRESET,iconEnabledForComps:[]},props:{image:a.default.DAILY_TIMETABLE_WIDGET_IMAGE,imageHover:null,onDrop:i.onRefWidgetDrop,onClick:i.onRefWidgetClick,items:r,compTypes:["wysiwyg.viewer.components.tpapps.TPAWidget"]}}}}.apply(t,n))||(e.exports=a)},3068:function(e,t,i){var n;void 0===(n=function(e,t){"use strict";return{DAILY_TIMETABLE_WIDGET_IMAGE:"wixBookings/addPanel/preset_editor_timetable.v2.jpg",DAILY_TIMETABLE_PRESET_KEY:"Wix_Bookings_Timetable_Widget",DAILY_TIMETABLE_WIDGET_ID:"89c4023a-027e-4d2a-b6b7-0b9d345b508d",DAILY_TIMETABLE_TITLE_KEY:"add_section_label_timetable_input"}}.apply(t,[i,t]))||(e.exports=n)},3069:function(e,t,i){var n,a;n=[i,t,i(0),i(16),i(3070),i(87)],void 0===(a=function(e,t,i,n,a,o){"use strict";return n=i.__importDefault(n),a=i.__importDefault(a),o=i.__importDefault(o),function(e){let{editorAPI:t}=e;const i=o.default({editorAPI:t}),s=n.default,r=[{id:a.default.BOOK_BUTTON_PRESET_KEY,structure:{layout:{x:0,y:0,width:142,height:42,scale:1,rotationInDegrees:0,fixedPosition:!1},data:{widgetId:a.default.BOOK_BUTTON_WIDGET_ID,variationId:void 0,installationType:"open"},style:{type:"TopLevelStyle",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:{properties:{},propertiesSource:{},groups:{}},componentClassName:"wysiwyg.viewer.components.tpapps.TPAWidget",pageId:"",compId:"",styleType:"custom",skin:"wysiwyg.viewer.skins.TPAWidgetSkin"}},preset:{rect:{width:200,height:82,x:10,y:10},label:"",tags:null}}];return{id:"wixBookingsBookButtonWidgets",type:s.SECTIONS_TYPES.PRESET,hide:!1,title:a.default.BOOK_BUTTON_TITLE_KEY,subNavigationTitle:a.default.BOOK_BUTTON_TITLE_KEY,presetTitle:a.default.BOOK_BUTTON_TITLE_KEY,tooltipTitle:a.default.BOOK_BUTTON_TITLE_KEY,showSectionHeader:!0,additionalBehaviours:{labelMode:s.LABEL_BEHAVIOUR.ALWAYS,infoIcon:s.INFO_ICON_BEHAVIOUR.NONE,hoverImageAction:s.HOVER_IMAGE_ACTIONS.NONE,scaleProportion:s.DEFAULT_SCALE_FOR_PRESET,iconEnabledForComps:[]},props:{image:a.default.BOOK_BUTTON_WIDGET_IMAGE,imageHover:null,onDrop:i.onRefWidgetDrop,onClick:i.onRefWidgetClick,items:r,compTypes:["wysiwyg.viewer.components.tpapps.TPAWidget"]}}}}.apply(t,n))||(e.exports=a)},3070:function(e,t,i){var n;void 0===(n=function(e,t){"use strict";return{BOOK_BUTTON_WIDGET_IMAGE:"wixBookings/addPanel/preset_editor_book_button.jpg",BOOK_BUTTON_PRESET_KEY:"Wix_Bookings_BookButton_Widget",BOOK_BUTTON_WIDGET_ID:"c7fddce1-ebf5-46b0-a309-7865384ba63f",BOOK_BUTTON_TITLE_KEY:"add_section_label_book_button_input"}}.apply(t,[i,t]))||(e.exports=n)},3071:function(e,t,i){var n,a;n=[i,t,i(0),i(2),i(87),i(3),i(8),i(10),i(86)],void 0===(a=function(e,t,i,n,a,o,s,r,l){"use strict";n=i.__importStar(n),a=i.__importDefault(a),o=i.__importDefault(o),s=i.__importDefault(s),r=i.__importStar(r),l=i.__importDefault(l);class p extends o.default.Component{render(){return l.default.shouldShowPanelPagesLink()?o.default.createElement("div",{key:"pagesPanel",className:"bookings-pages-panel"},o.default.createElement(s.default.Composites.RichTextWithIllustrationVertical,null,o.default.createElement(s.default.Illustration,null,o.default.createElement(r.symbol,{name:"wixBookingsPagesPanel"})),o.default.createElement(s.default.Composites.RichText,null,o.default.createElement(s.default.RichText,{type:"T07"},o.default.createElement("p",null,n.translate("SiteApp_WixBookings_Pages_Content")))),o.default.createElement(s.default.Button,{onClick:()=>{this.props.openPagesPanel()}},n.translate("SiteApp_WixBookings_Pages_CTA")))):null}}p.displayName="bookingsPagesPanel";const{connect:d,renderWhenMutated:u,STORES:{EDITOR_API:_}}=n.hoc;return d(_,e=>{let{editorAPI:t}=e;return{openPagesPanel:a.default({editorAPI:t}).openPagesPanel}})(u(p))}.apply(t,n))||(e.exports=a)},3072:function(e,t,i){var n,a;n=[i,t,i(0),i(2),i(26),i(87),i(86),i(3),i(40)],void 0===(a=function(e,t,i,n,a,o,s,r,l){"use strict";n=i.__importStar(n),a=i.__importStar(a),o=i.__importDefault(o),s=i.__importDefault(s),r=i.__importDefault(r),l=i.__importStar(l);const{connect:p,renderWhenMutated:d,STORES:{EDITOR_API:u}}=n.hoc;class _ extends r.default.Component{constructor(){super(...arguments),this.getSliderImages=()=>[n.media.getMediaUrl("wixBookings/appMenuPanel/gallery/bookingsGallery01.png"),n.media.getMediaUrl("wixBookings/appMenuPanel/gallery/bookingsGallery02.png"),n.media.getMediaUrl("wixBookings/appMenuPanel/gallery/bookingsGallery03.png")],this.getButtonLabel=()=>this.props.isBookingsInstalled()?"SiteApp_WixBookings_TemplateFTUE_Step1_NextButton_Caption":"SiteApp_WixBookings_PromotionalFTUE_Step1_NextButton_Caption",this.getTitle=()=>s.default.isImproveManagerPanelEnabled()?"SiteApp_WixBookings_NewPromotionalFTUE_Step1_Title":"SiteApp_WixBookings_PromotionalFTUE_Step1_Title",this.getSubTitle=()=>s.default.isImproveManagerPanelEnabled()?"SiteApp_WixBookings_NewPromotionalFTUE_Step1_SubTitle":"SiteApp_WixBookings_PromotionalFTUE_Step1_SubTitle",this.getPros=()=>s.default.isImproveManagerPanelEnabled()?["SiteApp_WixBookings_NewPromotionalFTUE_Step1_Bullet1","SiteApp_WixBookings_NewPromotionalFTUE_Step1_Bullet2","SiteApp_WixBookings_NewPromotionalFTUE_Step1_Bullet3"]:["SiteApp_WixBookings_PromotionalFTUE_Step1_Bullet1","SiteApp_WixBookings_PromotionalFTUE_Step1_Bullet2","SiteApp_WixBookings_PromotionalFTUE_Step1_Bullet3"]}componentDidMount(){this.props.init(this.props.nextSlide)}render(){return r.default.createElement(l.firstTimeTourPanels.installAppSlide,Object.assign({origin:"promotePanel",superAppPanelName:s.default.superAppPanelName,superAppButtonLabel:s.default.superAppButtonLabel,superAppPanelClassName:s.default.superAppPanelClassName,superAppSymbolName:s.default.superAppSymbolName,title:this.getTitle(),subTitle:this.getSubTitle(),pros:this.getPros(),nextButtonLabel:this.getButtonLabel(),openAppMarketLabel:"SiteApp_Blog_PromotionalFTUE_Step1_SeeInAppMarket_LinkCaption",openAppMarket:this.props.openHelp,loadingLabel:"SiteApp_WixBookings_PromotionalFTUE_Step2_Loader_Caption",sliderImages:this.getSliderImages(),installImage:"bookingsInstallBtnPromotional",installApp:this.props.installApp},this.props))}}_.displayName="PromotePanel";return p(u,e=>{let{editorAPI:t}=e;const i=o.default({editorAPI:t});return{init:function(e){s.default.isWixBookingsInstalled(t)&&(s.default.isAppProvisioned(t)?e():i.goToContainingPage())},isBookingsInstalled:function(){return s.default.isWixBookingsInstalled(t)},installApp:function(e){s.default.isWixBookingsInstalled(t)?e():i.addAppToSite(e,{type:a.constants.ORIGIN.CLASSIC_EDITOR_TYPE,initiator:a.constants.ORIGIN.INITIATOR.EDITOR,info:{type:a.constants.ORIGIN.INFO_TYPE.APP_PANEL}})},openHelp:function(){i.openHelp()}}})(d(_))}.apply(t,n))||(e.exports=a)},3073:function(e,t,i){var n,a;n=[i,t,i(0),i(2),i(87),i(86)],void 0===(a=function(e,t,i,n,a,o){"use strict";return n=i.__importStar(n),a=i.__importDefault(a),o=i.__importDefault(o),e=>{let{editorAPI:t}=e;const i=a.default({editorAPI:t});return{handle:function(){o.default.isWixBookingsInstalled(t)&&n.url.getParameterByName("etpa")===o.default.WIX_BOOKINGS_APP_DEF_ID&&"blank"===n.url.getParameterByName("etpaMode")&&function(e){return!!e&&"wixbookings.openBookingsDashboard"===e.type}(JSON.parse(n.url.getParameterByName("etpaState")||"{}"))&&i.openBackOfficeInEditorFromDeepLink({state:"scheduler/owner/offerings",origin:"wixbookings_deep_link"})}}}}.apply(t,n))||(e.exports=a)},4:function(e,t){e.exports=a},40:function(e,t){e.exports=f},6:function(e,t){e.exports=o},7:function(e,t){e.exports=s},787:function(e,t,i){var n,a;n=[i,t,i(0),i(1),i(86)],void 0===(a=function(e,t,i,n,a){"use strict";n=i.__importDefault(n),a=i.__importDefault(a);const{SETUP_STEPS:o,RELEVANT_POST_REGS:s,RELEVANT_POST_REGS_FOR_EXPAND:r}=a.default;return{getSetupStepFromStatus:function(e){return n.default.isEmpty(e)?o.undefined:e.fromTemplate&&e.numOfOfferings>0&&!e.modifiedOffering?o.editService:0===e.numOfOfferings?o.createService:e.reviewedWorkingHours?e.reviewedEmail?e.hasPayments?o.done:o.payment:o.email:o.workingHours},getBookingsStatus:function(e){return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=t.instance||"",a=n.default.merge({headers:{"x-wix-scheduler-instance":i,Authorization:i}},t);return fetch(e,a).then(e=>e.json()).then(e=>e.errorCode?Promise.reject(e):Promise.resolve(e))}("/_api/bookings-web-user/owner/business/setup",{instance:e})},shouldShow6thButton:function(e){return fetch("//editor.wix.com/_api/wix-bi-profile-webapp/siteprofile/".concat(e,"?fields=category&accept=json"),{credentials:"include"}).then(e=>e.json()).then(e=>n.default.get(e,"payload.fields[0].value")).then(e=>r.concat(s).includes(e)).catch(n.default.noop)}}}.apply(t,n))||(e.exports=a)},788:function(e,t,i){var n,a;n=[i,t,i(0),i(1)],void 0===(a=function(e,t,i,n){"use strict";return{wixBookingsEvents:{TABS_CLICK:{evid:204,src:38,endpoint:"editor",fields:{app_id:"string",panel:"string"}},MANAGE_PANEL_BUTTON_CLICK:{evid:205,src:38,endpoint:"editor",fields:{app_id:"string",button_name:"string",bookings_platform:"string"}},LEARN_MORE_CLICK:{evid:209,src:38,endpoint:"editor",fields:{app_id:"string",category:"string"}},UPGRADE_POPUP_CLICK:{evid:156,src:16,endpoint:"wixboost-users",fields:{biToken:"string",businessId:"string",referral_info:"string"}},BOOKINGS_PANEL_OPENED:{evid:181,src:16,endpoint:"wixboost-users",fields:{state:"string",bookings_platform:"string"}},BOOKINGS_GET_STARTED:{evid:182,src:16,endpoint:"wixboost-users",fields:{is_bookings_provisioned:"boolean"}},BOOKINGS_INTERNAL_OPEN_BO:{evid:299,src:16,endpoint:"wixboost-users",fields:{biToken:"string",businessId:"string",button_name:"string"}},BOOKINGS_CREATE_NEW_SERVICE:{evid:310,src:16,endpoint:"wixboost-users",fields:{biToken:"string",businessId:"string",is_new:"boolean"}},BOOKINGS_TESTS_EXPOSURE:{evid:333,src:16,endpoint:"wixboost-users",fields:{testName:"string",triggerName:"string",is_eligible:"boolean"}}},registerEvents:(n=i.__importDefault(n)).default.noop}}.apply(t,n))||(e.exports=a)},789:function(e,t,i){var n,a;n=[i,t,i(0),i(790),i(86),i(791),i(792),i(793),i(23)],void 0===(a=function(e,t,i,n,a,o,s,r,l){"use strict";return n=i.__importDefault(n),a=i.__importDefault(a),o=i.__importDefault(o),s=i.__importDefault(s),r=i.__importDefault(r),l=i.__importStar(l),e=>{let{editorAPI:t}=e;return function(){const e=[n.default({editorAPI:t}),o.default({editorAPI:t})];return a.default.isBookingsBookButtonEnabled()&&e.push(r.default({editorAPI:t})),a.default.isBookingsTimetableEnabled()&&e.push(s.default({editorAPI:t})),a.default.isImproveManagerPanelEnabled()&&e.push(l.superApps.relatedApps.getRelatedAppsForPostInstall(l.superApps.relatedApps.constants.bookings.category,l.superApps.relatedApps.constants.bookings.categoryNum.post)),e}}}.apply(t,n))||(e.exports=a)},790:function(e,t,i){var n,a;n=[i,t,i(0),i(87),i(16)],void 0===(a=function(e,t,i,n,a){"use strict";return n=i.__importDefault(n),a=i.__importDefault(a),e=>{let{editorAPI:t}=e;const i=a.default,o=n.default({editorAPI:t});return{id:"wixBookingsServiceWidget",type:i.SECTIONS_TYPES.PRESET,hide:!1,title:"SiteApp_WixBookings_AddElement_Service",subNavigationTitle:"SiteApp_WixBookings_AddElement_Service",presetTitle:"SiteApp_WixBookings_AddElement_Service",tooltipTitle:"SiteApp_WixBookings_AddElement_Service",showSectionHeader:!0,additionalBehaviours:{labelMode:i.LABEL_BEHAVIOUR.ALWAYS,infoIcon:i.INFO_ICON_BEHAVIOUR.NONE,hoverImageAction:i.HOVER_IMAGE_ACTIONS.NONE,scaleProportion:i.DEFAULT_SCALE_FOR_PRESET,iconEnabledForComps:[]},props:{image:"wixBookings/addPanel/service_widget_V3.png",imageHover:null,onDrop:o.onWidgetDrop,onClick:o.onWidgetClick,items:[{id:"Wix_Bookings_Service_Widget1",structure:{type:"Component",skin:"wysiwyg.viewer.skins.TPAWidgetSkin",layout:{width:850,height:360,scale:1,rotationInDegrees:0,fixedPosition:!1},componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",data:{type:"TPAWidget",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},applicationId:"2269",tpaData:{type:"TPAData",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},content:'"{"buttonStyle":"border"}"'},widgetId:"14756c3d-f10a-45fc-4df1-808f22aabe80"},style:{type:"TopLevelStyle",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:{properties:{},propertiesSource:{},groups:{}},componentClassName:"wysiwyg.viewer.components.tpapps.TPAWidget",pageId:"",compId:"",styleType:"custom",skin:"wysiwyg.viewer.skins.TPAWidgetSkin"},mobileStructure:{layout:{width:280,height:583,x:20,y:10,scale:1,rotationInDegrees:0,fixedPosition:!1},isCustomPreset:!0}},preset:{rect:{width:324,height:164,x:0,y:0},label:"",tags:null}}],compTypes:["wysiwyg.viewer.components.tpapps.TPAWidget"]},help:{hide:!1,text:"SiteApp_WixBookings_AddElement_Info"}}}}.apply(t,n))||(e.exports=a)},791:function(e,t,i){var n,a;n=[i,t,i(0),i(3065)],void 0===(a=function(e,t,i,n){"use strict";return n=i.__importDefault(n),e=>{let{editorAPI:t}=e;return n.default({editorAPI:t})}}.apply(t,n))||(e.exports=a)},792:function(e,t,i){var n,a;n=[i,t,i(0),i(3067)],void 0===(a=function(e,t,i,n){"use strict";return n=i.__importDefault(n),e=>{let{editorAPI:t}=e;return n.default({editorAPI:t})}}.apply(t,n))||(e.exports=a)},793:function(e,t,i){var n,a;n=[i,t,i(0),i(3069)],void 0===(a=function(e,t,i,n){"use strict";return n=i.__importDefault(n),e=>{let{editorAPI:t}=e;return n.default({editorAPI:t})}}.apply(t,n))||(e.exports=a)},8:function(e,t){e.exports=r},86:function(e,t,i){var n,a;n=[i,t,i(0),i(1),i(23),i(6),i(16),i(13)],void 0===(a=function(e,t,i,n,a,o,s,r){"use strict";n=i.__importDefault(n),a=i.__importStar(a),o=i.__importDefault(o),s=i.__importDefault(s),r=i.__importDefault(r);const l="13d21c63-b5ec-5912-8397-c3a5ddb27a97";function p(e){const t=e.dsRead.tpa.app.getDataByAppDefId(l);return t||{}}function d(e){const t=e.split(".")[1];return t&&JSON.parse(window.atob(t))}const u={WIX_BOOKINGS_APP_DEF_ID:l,WIX_STORE_APP_DEF_ID:"1380b703-ce81-ff05-f115-39571d94dfcd",RELEVANT_POST_REGS:["business","photography","design","events","beauty-wellness","other","all","fitness",null],RELEVANT_POST_REGS_FOR_EXPAND:["business","photography","beauty-wellness","fitness"],SETUP_STEPS:{createService:"create-service",editService:"edit-service",workingHours:"working-hours",email:"email",payment:"payment",done:"done",undefined:"undefined"},BOOKINGS_BO_PAGES:{offeringList:"scheduler/owner/offerings",calendar:"scheduler/owner/calendar",newForm:"scheduler/owner/offerings/wizard",settings:"settings",availability:"scheduler/owner/bookings-options/calendar-settings",email:"settings-email",payment:"payments"}},_={superAppId:"wixBookings",superAppPanelName:o.default.SUPER_APPS.BOOKINGS_PANEL_NAME,superAppButtonLabel:"SiteApp_WixBookings_Button_Hover_Caption",superAppPanelClassName:"wix-bookings-panel",superAppSymbolName:"leftBarWixBookingsPanel"},g={isImproveManagerPanelEnabled:()=>r.default.isOpen("se_wixBooking_6thButtonImprovementsFT"),isImproveManagerPanelFTEnabled:()=>r.default.isOpen("se_wixBooking_6thButtonImprovementsFT"),isExpandPanelButtonEnabled:()=>r.default.isOpen("se_wixBooking_6thButtonImprovementsFT")&&r.default.isOpen("se_wixBooking_expandPanelButton"),shouldShowPanelPagesLink:()=>r.default.isOpen("se_wixBooking_6thButtonWithLinkToPagesPanel"),isBizMgrImprovementsEnabled:()=>r.default.isOpen("se_wixBooking_bizMgrImprovement"),isBookingsTimetableEnabled:()=>r.default.isOpen("se_wixBooking_DailyTimetableFT"),isLearnMore6thButtonEnabled:()=>r.default.isOpen("se_wixBooking_LearnMore6thButton"),isBookingsBookButtonEnabled:()=>r.default.isOpen("se_wixBooking_BookButtonFT")},c={getMetaSiteId:e=>e.dsRead.generalInfo.getMetaSiteId(),getBiToken:e=>n.default.get(d(p(e).instance),"biToken"),getInstanceId:e=>n.default.get(p(e),"instanceId"),getAppInstance:e=>d(n.default.get(p(e),"instance")),getInstance:e=>n.default.get(p(e),"instance"),isAppInstalled:e=>e.dsRead.tpa.app.isInstalled(l),isSitePublished:e=>e.dsRead.generalInfo.isSitePublished(),getAppData:e=>p(e),isWixBookingsInstalled:e=>e.dsRead.tpa.app.isInstalled(l),isWixStoresInstalled:e=>e.dsRead.tpa.app.isInstalled("1380b703-ce81-ff05-f115-39571d94dfcd"),isAppProvisioned:e=>{const t=!e.dsRead.generalInfo.isFirstSave(),i=e.dsRead.tpa.app.isAppProvisionedOnServer(l);return t&&i&&!n.default.get(p(e),"demoMode")}},f={hasPremium:()=>a.superApps.isPremium(l),getAddElementCategoryId:()=>s.default.CATEGORIES_ID.BOOKINGS};return n.default.assign(f,c,g,_,u)}.apply(t,n))||(e.exports=a)},87:function(e,t,i){var n,a;n=[i,t,i(0),i(1),i(23),i(40),i(14),i(86),i(787),i(6),i(3062),i(7)],void 0===(a=function(e,t,i,n,a,o,s,r,l,p,d,u){"use strict";return n=i.__importDefault(n),a=i.__importStar(a),o=i.__importStar(o),s=i.__importStar(s),r=i.__importDefault(r),l=i.__importDefault(l),p=i.__importDefault(p),d=i.__importDefault(d),u=i.__importDefault(u),e=>{let{editorAPI:t}=e;const{WIX_BOOKINGS_APP_DEF_ID:i,superAppId:_,superAppPanelName:g,superAppButtonLabel:c,superAppPanelClassName:f,superAppSymbolName:m}=r.default,P=d.default.events,A=r.default.isWixBookingsInstalled(t);function E(){a.superApps.refreshAppCompsForAppDefId(i)}function S(e,i,n,o){a.superApps.addWidget(e,i,n,{presetId:o,origin:a.constants.BI.type.ADD_WIDGET}),t.panelManager.closePanelByName(p.default.SUPER_APPS.BOOKINGS_PANEL_NAME)}function I(){const e=r.default.isSitePublished(t),i=r.default.isWixStoresInstalled(t);if(!r.default.isImproveManagerPanelFTEnabled()||i||e||!t.store)return!1;const n=t.store.getState(),a=u.default.editorPlugins.userPreferences.selectors.getSiteUserPreferences(g+p.default.LEFT_BAR.WAS_BUTTON_CLICKED_KEY)(n);return r.default.isExpandPanelButtonEnabled()&&!(A&&a)}return{addAppToSite:function(e,n){a.superApps.addApp(i,{callback:i=>{!function(e){e.page&&t.pages.navigateTo(e.page.id,(function(){const i=a.superApps.getSectionRefByPageId(e.page.id);t.selection.selectComponentByCompRef(i)}))}(i),e&&e()},origin:a.constants.BI.type.ADD_APP_APP_BUTTON,platformOrigin:n})},onWidgetDrop:function(e,t){const{width:a,height:o}=t.structure.layout;S(i,t.structure.data.widgetId,n.default.merge(e,{width:a,height:o}),t.itemId)},onWidgetClick:function(e,t,n,a){S(i,e.data.widgetId,void 0,a)},onRefWidgetDrop:function(e,i){e.width=i.structure.layout.width,e.height=i.structure.layout.height,a.superApps.addAppBuilderWidgetToSite(r.default.WIX_BOOKINGS_APP_DEF_ID,i.structure.data,e),t.panelManager.closePanelByName(p.default.SUPER_APPS.BOOKINGS_PANEL_NAME)},onRefWidgetClick:function(e){const i=t.pages.getFocusedPage(),o=t.pasteLogic.addPanelPasteLogic.getPastePosition(t,e.layout,i.id),s=n.default.defaults(o,e.layout);a.superApps.addAppBuilderWidgetToSite(r.default.WIX_BOOKINGS_APP_DEF_ID,e.data,s),t.panelManager.closePanelByName(p.default.SUPER_APPS.BOOKINGS_PANEL_NAME)},onAppInstalled:function(){o.button.onAppInstalled(t,_,g,c,f,m)},openDashboard:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"manage",o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const s={to:"dd",origin:"editor_6th_button",onClose:E,state:e},l={type:a.constants.BI.type.APP_MANAGE_BUTTON};a.superApps.openDashboardUrl(i,s,l),o||(d.default.report(t,P.MANAGE_PANEL_BUTTON_CLICK,{app_id:i,button_name:n}),d.default.report(t,P.BOOKINGS_INTERNAL_OPEN_BO,{biToken:r.default.getBiToken(t),businessId:r.default.getInstanceId(t),button_name:n}))},goToContainingPage:function(){const e=t.dsRead.tpa.app.getFirstAppCompPageId(i);e&&t.pages.navigateTo(e.pageId)},register6thButton:function(){const e=r.default.getMetaSiteId(t);return l.default.shouldShow6thButton(e).then(e=>{(e||A)&&o.button.registerButton(t,_,A,g,c,c,f,m,!1,{[_]:I()})})},openHelp:function(){const e={origin:p.default.BI.HELP.ORIGIN.LEFTBAR,panel_name:g,learn_more:!0};t.panelManager.openHelpCenter(s.ADD_PANEL.WIX_BOOKINGS,null,e)},onAppDeleted:function(){o.button.unRegisterButton(t,g)},handelUpgrade:function(){t.bi.event(t,P.UPGRADE_POPUP_CLICK,{biToken:r.default.getBiToken(t),businessId:r.default.getInstanceId(t),referral_info:"editor_button"}),a.superApps.upgrade(i,!0,"edhtml_TOP_PANEL")},sendBookingsStartedFromAddPanelBI:function(){var e;e="Bookings_Add_Panel",d.default.report(t,P.BOOKINGS_GET_STARTED,{is_bookings_provisioned:r.default.isAppProvisioned(t),panel_name:e})},shouldExpandButton:I,openPagesPanel:function(){const{pageId:e}=t.dsRead.tpa.app.getFirstAppCompPageId(i);e?t.navigateAndOpenPagesPanel(e):t.openPagesPanel()},openBackOfficeInEditorFromDeepLink:function(e){let{state:t="",origin:i=""}=e;const n={onClose:E,state:t,origin:i};return a.superApps.openDashboardUrl(r.default.WIX_BOOKINGS_APP_DEF_ID,n,{})},saveAndRefreshApp:function(){t.panelManager.closePanelByName(p.default.SUPER_APPS.BOOKINGS_PANEL_NAME);const e=n.default.noop;t.saveManager.saveInBackground(()=>{E(),t.panelManager.openPanel(p.default.SUPER_APPS.BOOKINGS_PANEL_NAME)},e)}}}}.apply(t,n))||(e.exports=a)},9:function(e,t){e.exports=l}})}));
//# sourceMappingURL=wixBookings.min.js.map