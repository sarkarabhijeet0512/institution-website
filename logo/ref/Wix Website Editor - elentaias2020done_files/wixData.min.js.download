define("wixData",["tslib","lodash","util","react","prop-types","create-react-class","constants","stateManagement","wix-base-ui","baseUI","santa-editor-symbols","core","coreBi","experiment","panels","addPanel","platform","superAppMenuInfra"],(function(e,t,a,i,o,n,l,r,s,p,c,d,u,m,f,_,h,D){return function(e){var t={};function a(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,a),o.l=!0,o.exports}return a.m=e,a.c=t,a.d=function(e,t,i){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)a.d(i,o,function(t){return e[t]}.bind(null,o));return i},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=3079)}({0:function(t,a){t.exports=e},1:function(e,a){e.exports=t},10:function(e,t){e.exports=c},11:function(e,t){e.exports=d},12:function(e,t){e.exports=u},13:function(e,t){e.exports=m},172:function(e,t,a){var i;void 0===(i=function(e,t){"use strict";return"data_panel"}.apply(t,[a,t]))||(e.exports=i)},19:function(e,t){e.exports=f},2:function(e,t){e.exports=a},20:function(e,t){e.exports=_},26:function(e,t){e.exports=h},3:function(e,t){e.exports=i},3079:function(e,t,a){var i,o;i=[a,t,a(0),a(3080),a(3081),a(3082),a(3093)],void 0===(o=function(e,t,a,i,o,n,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i=a.__importDefault(i),o=a.__importDefault(o),n=a.__importDefault(n),l=a.__importDefault(l),t.dynamicPagesStartingPanel=o.default,t.panel=n.default,t.isDataModeOn=l.default,t.onPreviewReady=function(e){i.default.register(e)}}.apply(t,i))||(e.exports=o)},3080:function(e,t,a){var i,o;i=[a,t,a(0),a(1),a(6),a(40),a(13),a(7)],void 0===(o=function(e,t,a,i,o,n,l,r){"use strict";i=a.__importDefault(i),o=a.__importDefault(o),n=a.__importStar(n),l=a.__importDefault(l),r=a.__importDefault(r);const s=o.default.SUPER_APPS.WIX_DATA_PANEL_NAME,p=()=>({old:"SiteApp_WixData_Button_Hover_Caption",cms:"SiteApp_WixData_Button_Hover_Caption_CMS",dataManager:"SiteApp_WixData_Button_Hover_Caption"}[l.default.getValue("newWixDataProductName")||"old"]),c=e=>i.default.get(r.default.editorPlugins.appsStore.selectors.getAppStore(e.store.getState(),e.dsRead.platform.editorApps.DATA_BINDING.appDefId),"dataMode");return{register(e){((e,t)=>{let a=c(e);e.store.subscribe(()=>{const i=c(e);if(a!==i){const e=a;a=i,t(a,e)}})})(e,(t,a)=>{const i=!0===t&&!1===a,o=!0===t&&void 0===a||i&&e.developerMode.isEnabled(),r=i&&!e.developerMode.isEnabled();o&&(e=>{n.button.registerButton(e,"wixData",!0,s,p(),"","wix-data-panel","wixDataPanel",!1,{wixData:l.default.isOpen("se_wixData6thButtonExpanded")})})(e),r&&(e=>{n.button.onAppInstalled(e,"wixData",s,p(),"wix-data-panel","wixDataPanel",{wixData:l.default.isOpen("se_wixData6thButtonExpanded")})})(e)})}}}.apply(t,i))||(e.exports=o)},3081:function(e,t,a){var i,o;i=[a,t,a(0),a(2),a(12),a(4),a(3),a(19),a(8),a(10)],void 0===(o=function(e,t,a,i,o,n,l,r,s,p){"use strict";i=a.__importStar(i),o=a.__importStar(o),n=a.__importDefault(n),l=a.__importDefault(l),r=a.__importStar(r),s=a.__importDefault(s),p=a.__importStar(p);const c=(e,t,a)=>{let{editorAPI:i}=a;return i};class d extends l.default.Component{constructor(){super(...arguments),this.getContentItems=()=>["Heavy_Sites_Checkpoint2_Bullet1","Heavy_Sites_Checkpoint2_Bullet2","Heavy_Sites_Checkpoint2_Bullet3"],this.handleMainAction=()=>{this.props.sendBi(o.events.pages.pagesPanel.dynamic_pages_suggestion_action_click,{pages_count:this.props.staticPagesCount}),this.props.notifyDataBindingAppTooManyPages(),this.props.closePanel()},this.getHeaderBiHelpParams=()=>({learn_more:!1,origin:"DynamicPagesStartingPanel",panel_name:this.props.panelName}),this.getLearnMoreBiHelpParams=()=>({learn_more:!0,origin:"DynamicPagesStartingPanel",panel_name:this.props.panelName}),this.onHelp=e=>{this.props.openHelpCenter("e253951f-b0a3-4c88-aae5-2796eb72dc83",{},e)}}render(){return l.default.createElement(r.frames.focusPanelFrame,{automationId:this.props.panelName,panelName:this.props.panelName,shouldHideHeader:!0,className:"dynamic-pages-starting-panel"},l.default.createElement(s.default.Composites.PopupLargeSize,{className:"composite-full-height"},l.default.createElement(s.default.Composites.BigPanelHeaderWithIllustration,null,l.default.createElement(s.default.PanelHeaderCenteredText,{title:i.translate("Heavy_Sites_Checkpoint2_Title"),subtitle:i.translationUtil.translateTemplate("Heavy_Sites_Checkpoint2_Subtitle",{Page_Number:this.props.staticPagesCount}),titleType:"T16",shouldTranslate:!1,onHelp:this.onHelp.bind(this,this.getHeaderBiHelpParams()),onClose:this.props.closePanel}),l.default.createElement(s.default.PanelHeaderIllustration,null,l.default.createElement(p.symbol,{name:"dataModeIntro"}))),l.default.createElement(s.default.Composites.PanelContent,null,l.default.createElement(s.default.Composites.PromotionalList,null,l.default.createElement(s.default.PromotionalList,{items:this.getContentItems()}))),l.default.createElement(s.default.Composites.ActionSetVertical,null,l.default.createElement(s.default.Button,{onClick:this.handleMainAction,className:"primary"},l.default.createElement(s.default.TextLabel,{value:"Heavy_Sites_Checkpoint2_Start_Button"})),l.default.createElement("a",{onClick:this.onHelp.bind(this,this.getLearnMoreBiHelpParams())},i.translate("Heavy_Sites_Checkpoint2_Link")))))}}d.displayName="DynamicPagesStartingPanel",d.propTypes={sendBi:n.default.func.isRequired,closePanel:n.default.func.isRequired,openHelpCenter:n.default.func.isRequired,staticPagesCount:n.default.number.isRequired,notifyDataBindingAppTooManyPages:n.default.func.isRequired};return i.hoc.connect(i.hoc.STORES.EDITOR_API,void 0,(e,t)=>{const a=e(c);return{closePanel:()=>a.panelManager.closePanelByName(t.panelName),openHelpCenter:a.panelManager.openHelpCenter,sendBi:a.bi.event}})(d)}.apply(t,i))||(e.exports=o)},3082:function(e,t,a){var i,o;i=[a,t,a(0),a(2),a(5),a(3083),a(3),a(40)],void 0===(o=function(e,t,a,i,o,n,l,r){"use strict";return i=a.__importStar(i),o=a.__importDefault(o),n=a.__importDefault(n),l=a.__importDefault(l),r=a.__importStar(r),o.default({displayName:"WixDataPanel",mixins:[i.propTypesFilterMixin],getSuperApp:()=>n.default,render(){return l.default.createElement(r.superAppPanel,Object.assign({panelClass:"wix-data-panel",superApp:this.getSuperApp()},this.filteredProps()))}})}.apply(t,i))||(e.exports=o)},3083:function(e,t,a){var i,o;i=[a,t,a(0),a(13),a(6),a(3084),a(3091),a(3092)],void 0===(o=function(e,t,a,i,o,n,l,r){"use strict";i=a.__importDefault(i),o=a.__importDefault(o),n=a.__importDefault(n),l=a.__importDefault(l),r=a.__importDefault(r);const s=i.default.getValue("newWixDataProductName")||"old";return{id:"wixData",appDefId:"wixData",appName:"WixData",firstTimeTour:{templateFlow:[],manuallyInstalledFlow:[],promotionalFlow:[]},panel:{name:o.default.SUPER_APPS.WIX_DATA_PANEL_NAME,manage:{title:{old:"SiteApp_WixData_Menu_DataManager_Label",cms:"SiteApp_WixData_Menu_CMS_Label",dataManager:"SiteApp_WixData_Menu_DataManager_Label"}[s],helpId:"65fbf381-68c0-4470-a31c-d77cba1a5ca3",template:n.default},pages:{isHidden:!0},addElements:{isHidden:!0},learnMore:{title:"SiteApp_WixData_LearnMore_Tab_Heading",section1HeaderViewA:"SiteApp_WixData_LearnMore_Tab_HelpCenter",section2HeaderViewA:"SiteApp_WixData_LearnMore_Tab_Support",section3HeaderViewA:"SiteApp_WixData_LearnMore_Tab_Forum",data:r.default.helpData}},extraTabs:[{name:"Add",title:{old:"SiteApp_WixData_AddDataElements_Tab_Heading",cms:"SiteApp_WixData_Menu_AddCMSelements_Label",dataManager:"SiteApp_WixData_AddDataElements_Tab_Heading"}[s],helpId:"ee7a0695-2043-4414-b8cd-8a47aef73102",template:l.default,index:1}],isAppInstalled:()=>!0}}.apply(t,i))||(e.exports=o)},3084:function(e,t,a){var i,o;i=[a,t,a(0),a(11),a(4),a(5),a(26),a(2),a(172),a(796),a(3085),a(7),a(3),a(3086),a(797)],void 0===(o=function(e,t,a,i,o,n,l,r,s,p,c,d,u,m,f){"use strict";i=a.__importStar(i),o=a.__importDefault(o),n=a.__importDefault(n),l=a.__importStar(l),r=a.__importStar(r),s=a.__importDefault(s),p=a.__importDefault(p),c=a.__importDefault(c),d=a.__importDefault(d),u=a.__importDefault(u),m=a.__importDefault(m),f=a.__importDefault(f);const _=n.default({displayName:"CollectionsManager",propTypes:{subscribeToFileSystemUpdate:o.default.func.isRequired,subscribeToDynamicPageCreation:o.default.func.isRequired},mixins:[i.mixins.editorAPIMixin],componentDidMount(){this.props.loadCollections(),this.props.subscribeToFileSystemUpdate(()=>this.props.loadCollections()),this.props.subscribeToDynamicPageCreation(()=>{const{openPagesPanel:e}=this.getEditorAPI();e()})},onCreateNewCollectionClick(){const e=this.getEditorAPI(),{applicationId:t}=e.dsRead.platform.getAppDataByAppDefId(e.dsRead.platform.editorApps.DATA_BINDING.appDefId);e.dsActions.platform.notifyApplication(t,{eventType:l.constants.EVENTS.createCollectionButtonClicked,eventPayload:{origin:s.default}})},render(){return u.default.createElement(f.default,{isBlank:this.props.isBlank,isLoading:this.props.isLoading,hasError:this.props.hasError,hasCollections:this.props.hasCollections,loadCollections:this.props.loadCollections,emptyStateTitle:"SiteApp_WixData_DataManager_Tab_NoCollections_Title",emptyStateDescription:"SiteApp_WixData_DataManager_Tab_NoCollections_Text",emptyStateIcon:"collectionsManagerEmptyState"},u.default.createElement(m.default,{userCollections:this.props.userCollections,dbDriverSections:this.props.dbDriverSections,externalDbDriverSections:this.props.externalDbDriverSections,appSections:this.props.appSections}))}}),{isBlank:h,isLoading:D,hasError:g,getUserCollections:y,getDbDriverSections:S,getExternalDbDriverSections:x,getAppSections:C,hasCollections:b}=d.default.wixData.selectors,T=r.hoc.connect(r.hoc.STORES.STATE_ONLY,e=>{let{state:t}=e;return{isLoading:D(t),hasError:g(t),userCollections:y(t),dbDriverSections:S(t),externalDbDriverSections:x(t),appSections:C(t),hasCollections:b(t),isBlank:h(t)}},e=>({loadCollections:()=>e(d.default.wixData.actions.loadCollections())}))(_);return c.default(p.default(T))}.apply(t,i))||(e.exports=o)},3085:function(e,t,a){var i,o;i=[a,t,a(0),a(4),a(5),a(2),a(7),a(3)],void 0===(o=function(e,t,a,i,o,n,l,r){"use strict";i=a.__importDefault(i),o=a.__importDefault(o),n=a.__importStar(n),l=a.__importDefault(l),r=a.__importDefault(r);return e=>{const t=o.default({propTypes:{dynamicPageCreationTime:i.default.number},getInitialState(){return{dynamicPageCreationTime:this.props.dynamicPageCreationTime,dynamicPageCreationSubscribers:[]}},componentDidUpdate(){this.props.dynamicPageCreationTime!==this.state.dynamicPageCreationTime&&(this.setState({dynamicPageCreationTime:this.props.dynamicPageCreationTime}),this.state.dynamicPageCreationSubscribers.forEach(e=>{e()}))},dispalyName:"WithDynamicPageCreationHook",subscribeToDynamicPageCreation(e){this.setState({dynamicPageCreationSubscribers:[...this.state.dynamicPageCreationSubscribers,e]})},render(){return r.default.createElement(e,Object.assign({subscribeToDynamicPageCreation:this.subscribeToDynamicPageCreation},this.props))}});return n.hoc.connect(n.hoc.STORES.STATE_AND_DS,e=>{let{state:t,dsRead:a}=e;const i=a.platform.editorApps.DATA_BINDING.appDefId,{dynamicPageCreationTime:o}=l.default.appsStore.selectors.getAppStore(t,i)||{};return{dynamicPageCreationTime:o}})(t)}}.apply(t,i))||(e.exports=o)},3086:function(e,t,a){var i,o;i=[a,t,a(0),a(11),a(26),a(4),a(5),a(172),a(3),a(1),a(3087),a(9),a(8)],void 0===(o=function(e,t,a,i,o,n,l,r,s,p,c,d,u){"use strict";i=a.__importStar(i),o=a.__importStar(o),n=a.__importDefault(n),l=a.__importDefault(l),r=a.__importDefault(r),s=a.__importDefault(s),p=a.__importDefault(p),c=a.__importDefault(c),d=a.__importStar(d),u=a.__importDefault(u);const m=(e,t)=>e.map(e=>Object.assign({},e,{collectionIconName:t})),f=n.default.shape({name:n.default.string.isRequired,typeOfPermissions:n.default.string.isRequired,translationKeyForTypeOfPermissions:n.default.string.isRequired}),_=n.default.arrayOf(n.default.shape({name:n.default.string.isRequired,collections:n.default.arrayOf(f).isRequired})).isRequired;return l.default({displayName:"CollectionsList",propTypes:{userCollections:n.default.arrayOf(f).isRequired,dbDriverSections:_,externalDbDriverSections:_,appSections:_},mixins:[i.mixins.editorAPIMixin],getDbDriverSections(){return m(this.props.dbDriverSections,"dbDriverCollectionItemIcon")},getAppSections(){return m(this.props.appSections,"dbDriverCollectionItemIcon")},getExternalDbDriverSections(){return m(this.props.externalDbDriverSections,"externalDbDriverCollectionItemIcon")},onCreateNewCollectionClick(){const e=this.getEditorAPI(),{applicationId:t}=e.dsRead.platform.getAppDataByAppDefId(e.dsRead.platform.editorApps.DATA_BINDING.appDefId);e.dsActions.platform.notifyApplication(t,{eventType:o.constants.EVENTS.createCollectionButtonClicked,eventPayload:{origin:r.default}})},render(){return s.default.createElement("div",{className:"collections-list-wrapper"},s.default.createElement("div",{className:"collections-list"},s.default.createElement(u.default.CustomScroll,{heightRelativeToParent:"100%"},p.default.map(this.props.userCollections,e=>s.default.createElement(c.default,{key:e.id,collectionId:e.id,collectionName:e.name,typeOfPermissions:e.typeOfPermissions,translationKeyForTypeOfPermissions:e.translationKeyForTypeOfPermissions,iconName:"userCollectionItemIcon",isEditable:!0,aid:"collection-item"})),p.default.map(this.getExternalDbDriverSections().concat(this.getDbDriverSections()).concat(this.getAppSections()),e=>s.default.createElement("div",{key:e.name},s.default.createElement(u.default.SectionDivider,{className:"collection-section-header"},s.default.createElement(u.default.TextLabel,{shouldTranslate:!1,value:e.name,className:"collection-section-header-text"})),p.default.map(e.collections,t=>s.default.createElement(c.default,{key:t.id,collectionId:t.id,collectionName:t.name,typeOfPermissions:t.typeOfPermissions,translationKeyForTypeOfPermissions:t.translationKeyForTypeOfPermissions,iconName:e.collectionIconName,isEditable:!1,aid:"collection-item"})))))),s.default.createElement("div",{className:"button-container"},s.default.createElement(d.button,{label:"SiteApp_WixData_DataManager_Tab_NewCollection_Button",onClick:this.onCreateNewCollectionClick,aid:"add-new-collection-button"})))}})}.apply(t,i))||(e.exports=o)},3087:function(e,t,a){var i,o;i=[a,t,a(0),a(1),a(4),a(13),a(11),a(2),a(5),a(172),a(3),a(9),a(8),a(3088)],void 0===(o=function(e,t,a,i,o,n,l,r,s,p,c,d,u,m){"use strict";i=a.__importDefault(i),o=a.__importDefault(o),n=a.__importDefault(n),l=a.__importStar(l),r=a.__importStar(r),s=a.__importDefault(s),p=a.__importDefault(p),c=a.__importDefault(c),d=a.__importStar(d),u=a.__importDefault(u),m=a.__importDefault(m);const f={src:38,evid:825,fields:{collection_id:"string",collection_name:"string",collection_type:"string"}},_={src:38,evid:823,fields:{collection_id:"string",collection_name:"string",collection_type:"string",category:"string"}},h="addDynamicPageClicked",D="openCollectionPermissionsClicked";return s.default({displayName:"CollectionItem",propTypes:{collectionId:o.default.string.isRequired,collectionName:o.default.string.isRequired,typeOfPermissions:o.default.string.isRequired,translationKeyForTypeOfPermissions:o.default.string.isRequired,iconName:o.default.string.isRequired,isEditable:o.default.bool.isRequired},mixins:[l.mixins.editorAPIMixin,r.translationMixin],getStaticContextMenuActionTemplates(){return[{titleTranslationKey:n.default.isOpen("specs.wixCode.ContentifyDataTerminology")?"WixCode_TreeView_FileTree_QuickActions_Add_Dynamic_Page_CM":"WixCode_TreeView_FileTree_QuickActions_Add_Dynamic_Page",icon:"page_dynamic_icon",event:h},this.props.isEditable?{titleTranslationKey:"WixCode_TreeView_FileTree_QuickActions_Edit_Collection_Settings",icon:"editCollection",event:"editCollectionClicked"}:{titleTranslationKey:"WixCode_TreeView_FileTree_QuickActions_UpdatePermissions",icon:"contexMenuActionEditPermissions",event:D}]},getContextMenuActions(){const e=this.getEditorAPI(),{applicationId:t}=e.dsRead.platform.getAppDataByAppDefId(e.dsRead.platform.editorApps.DATA_BINDING.appDefId),a=i.default.map(this.getStaticContextMenuActionTemplates(),e=>{let{titleTranslationKey:a,icon:i,event:o}=e;return{title:this.translateIfNeeded(a),icon:i,event:o,applicationId:t}}),o=e.platform.collections.collectionsTree.getContextMenuActions();return a.concat(o)},handleContextMenuClick(e){e.stopPropagation(),this.getEditorAPI().bi.event(f,{collection_id:this.props.collectionId,collection_name:this.props.collectionName,collection_type:this.props.typeOfPermissions})},onContextMenuActionClick(e){let{event:t,applicationId:a}=e;const i=this.getEditorAPI();i.bi.event(_,{collection_id:this.props.collectionId,collection_name:this.props.collectionName,collection_type:this.props.typeOfPermissions,category:t});const o=[h,D].includes(t)?"collectionName":"collectionId";i.dsActions.platform.notifyApplication(a,{eventType:t,eventPayload:{[o]:this.props.collectionId,origin:p.default}})},openContentManager(){const e=this.getEditorAPI(),{applicationId:t}=e.dsRead.platform.getAppDataByAppDefId(e.dsRead.platform.editorApps.DATA_BINDING.appDefId);e.dsActions.platform.notifyApplication(t,{eventType:"databasePanelCollectionSelected",eventPayload:{collectionName:this.props.collectionId,origin:p.default}})},getPermissionLabel(){const e=this.translateIfNeeded(this.props.translationKeyForTypeOfPermissions);return this.translateTemplate("SiteApp_WixData_DataManager_Tab_Permissions_Label",{collectionType:e})},render(){return c.default.createElement("div",{"data-collection-id":this.props.collectionId,onMouseOver:()=>{this.setState({contextMenuShouldBeShown:!0})},onMouseLeave:()=>{this.contextMenuIsOpen||this.setState({contextMenuShouldBeShown:!1})},onClick:this.openContentManager,className:"collection-item"},c.default.createElement("div",{className:"collection-item-icon"},c.default.createElement(d.symbol,{name:this.props.iconName})),c.default.createElement("div",{className:"collection-info"},c.default.createElement(u.default.TextLabel,{type:"T05",shouldTranslate:!1,value:this.props.collectionName,className:"collection-name"}),c.default.createElement(u.default.TextLabel,{type:"T12",shouldTranslate:!1,value:this.getPermissionLabel(),className:"permissions-label"})),c.default.createElement("div",{onMouseEnter:()=>{this.mouseIsOverContextMenu=!0},onMouseUp:()=>{this.mouseIsOverContextMenu&&this.setState({contextMenuActions:this.getContextMenuActions()})},onClick:this.handleContextMenuClick,onMouseLeave:()=>{this.mouseIsOverContextMenu=!1},className:"context-menu"},i.default.get(this,"state.contextMenuShouldBeShown")?c.default.createElement(u.default.ContextMenu,{key:"contextMenu",onToggle:e=>{e||this.setState({contextMenuShouldBeShown:!1,contextMenuActions:[]}),this.contextMenuIsOpen=e},className:"flat"},c.default.createElement(u.default.ContextMenuContent,null,i.default.map(this.state.contextMenuActions,(e,t)=>c.default.createElement(u.default.ContextMenuAction,{key:"context-menu-action".concat(t),automationId:e.event,onClick:()=>{this.onContextMenuActionClick(e)},value:e.event},c.default.createElement(m.default,{symbolName:e.icon,label:e.title}))))):null))}})}.apply(t,i))||(e.exports=o)},3088:function(e,t,a){var i,o;i=[a,t,a(0),a(4),a(3),a(10)],void 0===(o=function(e,t,a,i,o,n){"use strict";i=a.__importDefault(i),o=a.__importDefault(o),n=a.__importStar(n);class l extends o.default.Component{render(){return o.default.createElement("div",{className:"wix-data-context-menu-item"},o.default.createElement("div",{className:"icon"},o.default.createElement(n.symbol,{name:this.props.symbolName})),o.default.createElement("span",{className:"label"},this.props.label))}}return l.displayName="ContextMenuItem",l.propTypes={symbolName:i.default.string.isRequired,label:i.default.string.isRequired},l}.apply(t,i))||(e.exports=o)},3089:function(e,t,a){var i,o;i=[a,t,a(0),a(11),a(26),a(4),a(2),a(5),a(172),a(3),a(10),a(8)],void 0===(o=function(e,t,a,i,o,n,l,r,s,p,c,d){"use strict";return i=a.__importStar(i),o=a.__importStar(o),n=a.__importDefault(n),l=a.__importStar(l),r=a.__importDefault(r),s=a.__importDefault(s),p=a.__importDefault(p),c=a.__importStar(c),d=a.__importDefault(d),r.default({displayName:"CollectionItem",propTypes:{title:n.default.string.isRequired,description:n.default.string.isRequired,icon:n.default.string.isRequired,onCreateNewCollectionClick:n.default.func.isRequired},mixins:[i.mixins.editorAPIMixin,l.translationMixin],onCreateNewCollectionClick(){const e=this.getEditorAPI(),{applicationId:t}=e.dsRead.platform.getAppDataByAppDefId(e.dsRead.platform.editorApps.DATA_BINDING.appDefId);e.dsActions.platform.notifyApplication(t,{eventType:o.constants.EVENTS.createCollectionButtonClicked,eventPayload:{origin:s.default}})},render(){return p.default.createElement("div",{className:"wix-data-collections-manager-empty-state"},p.default.createElement(c.symbol,{name:this.props.icon,className:"empty-state-symbol"}),p.default.createElement(d.default.RichText,{type:"T09",className:"title"},this.translateIfNeeded(this.props.title)),p.default.createElement(d.default.RichText,{type:"T07",className:"description light"},this.translateIfNeeded(this.props.description)),p.default.createElement("div",{className:"button-container"},p.default.createElement(d.default.Button,{onClick:this.onCreateNewCollectionClick,aid:"add-new-collection-button"},this.translateIfNeeded("SiteApp_WixData_DataManager_Tab_NewCollection_Button"))))}})}.apply(t,i))||(e.exports=o)},3090:function(e,t,a){var i,o;i=[a,t,a(0),a(4),a(2),a(5),a(3),a(10),a(8)],void 0===(o=function(e,t,a,i,o,n,l,r,s){"use strict";return i=a.__importDefault(i),o=a.__importStar(o),n=a.__importDefault(n),l=a.__importDefault(l),r=a.__importStar(r),s=a.__importDefault(s),n.default({displayName:"ErrorState",propTypes:{onRetryClick:i.default.func.isRequired},mixins:[o.translationMixin],render(){return l.default.createElement("div",{className:"wix-data-collections-manager-error-state"},l.default.createElement(r.symbol,{name:"collectionsManagerErrorState",className:"empty-state-symbol"}),l.default.createElement(s.default.RichText,{type:"T09",className:"title"},this.translateIfNeeded("SiteApp_WixData_DataManager_Tab_CollectionLoadError_Title")),l.default.createElement(s.default.RichText,{type:"T07",className:"description light"},this.translateIfNeeded("SiteApp_WixData_DataManager_Tab_CollectionLoadError_Text")),l.default.createElement("div",{className:"button-container"},l.default.createElement(s.default.Button,{aid:"retry-button",onClick:this.props.onRetryClick},this.translateIfNeeded("SiteApp_WixData_DataManager_Tab_CollectionLoadError_Button"))))}})}.apply(t,i))||(e.exports=o)},3091:function(e,t,a){var i,o;i=[a,t,a(0),a(1),a(11),a(2),a(5),a(796),a(7),a(20),a(172),a(3),a(797)],void 0===(o=function(e,t,a,i,o,n,l,r,s,p,c,d,u){"use strict";i=a.__importDefault(i),o=a.__importStar(o),n=a.__importStar(n),l=a.__importDefault(l),r=a.__importDefault(r),s=a.__importDefault(s),p=a.__importDefault(p),c=a.__importDefault(c),d=a.__importDefault(d),u=a.__importDefault(u);const m=l.default({displayName:"AddElementsPanel",mixins:[o.mixins.editorAPIMixin,n.translationMixin],componentDidMount(){this.props.loadCollections(),this.props.subscribeToFileSystemUpdate(()=>this.props.loadCollections())},getSections(){const{database:{presetsSection:e,dataBindingSection:t}}=p.default.sections.getSections();return[i.default.merge({},e,{id:"presetsSection",props:{items:[{origin:c.default}]}}),Object.assign({},t,{id:"dataBindingSection"})]},getCategoryViewProps(){return{onClickOverride:this.props.onClickItemOverride,changeStateOnInnerNavigationOpen:()=>{},firstTimeInfoBoxHeight:0,props:{class:"add-elements-panel-section"}}},render(){const e=this.getEditorAPI().addPanelInfra.categoryView;return d.default.createElement(u.default,{isBlank:this.props.isBlank,isLoading:this.props.isLoading,hasError:this.props.hasError,hasCollections:this.props.hasCollections,loadCollections:this.props.loadCollections,emptyStateTitle:"SiteApp_WixData_AddDataElements_Tab_NoCollections_Title",emptyStateDescription:"SiteApp_WixData_AddDataElements_Tab_NoCollections_Text",emptyStateIcon:"wixDataAddElementsEmptyState"},d.default.createElement(e,Object.assign({aid:"add-elements",key:"categoryView",origin:"vertical_button",items:this.getSections()},this.getCategoryViewProps())))}}),{isBlank:f,isLoading:_,hasError:h}=s.default.wixData.selectors,D=n.hoc.connect(n.hoc.STORES.STATE_ONLY,e=>{let{state:t}=e;return{isBlank:f(t),isLoading:_(t),hasError:h(t),hasCollections:()=>!0}},e=>({loadCollections:()=>e(s.default.wixData.actions.loadCollections())}))(m);return r.default(D)}.apply(t,i))||(e.exports=o)},3092:function(e,t,a){var i,o;i=[a,t,a(0),a(2)],void 0===(o=function(e,t,a,i){"use strict";return{helpData:{viewA:{helpCenterPopUp:{link:"0dfaa2f8-8a10-42a1-980a-929bb6aef19e",image:(i=a.__importStar(i)).media.getMediaUrl("superAppMenuInfra/TipsFromWixsBloogingPros.png")},supportForumsPopUp:{link:"https://support.wix.com/en/wix-data/database-collections",image:i.media.getMediaUrl("superAppMenuInfra/ViewTheBlogHelpCenter.png")},wixTipsBlog:{link:"https://www.wix.com/code/home/forum",image:i.media.getMediaUrl("superAppMenuInfra/OpenTheBlogSupportForum.png")}}}}}.apply(t,i))||(e.exports=o)},3093:function(e,t,a){var i,o;i=[a,t,a(0),a(1),a(7)],void 0===(o=function(e,t,a,i,o){"use strict";return i=a.__importDefault(i),o=a.__importDefault(o),e=>{const{appDefId:t}=e.dsRead.platform.editorApps.DATA_BINDING,a=e.store.getState();return i.default.get(o.default.editorPlugins.appsStore.selectors.getAppStore(a,t),"dataMode",!1)}}.apply(t,i))||(e.exports=o)},4:function(e,t){e.exports=o},40:function(e,t){e.exports=D},5:function(e,t){e.exports=n},6:function(e,t){e.exports=l},7:function(e,t){e.exports=r},796:function(e,t,a){var i,o;i=[a,t,a(0),a(4),a(5),a(2),a(7),a(3)],void 0===(o=function(e,t,a,i,o,n,l,r){"use strict";i=a.__importDefault(i),o=a.__importDefault(o),n=a.__importStar(n),l=a.__importDefault(l),r=a.__importDefault(r);return e=>{const t=o.default({propTypes:{fileSystemUpdateTime:i.default.number},getInitialState(){return{fileSystemUpdateTime:this.props.fileSystemUpdateTime,fileSystemUpdateSubscribers:[]}},componentDidUpdate(){this.props.fileSystemUpdateTime!==this.state.fileSystemUpdateTime&&(this.setState({fileSystemUpdateTime:this.props.fileSystemUpdateTime}),this.state.fileSystemUpdateSubscribers.forEach(e=>{e()}))},dispalyName:"WithFileSystemUpdateHook",subscribeToFileSystemUpdate(e){this.setState({fileSystemUpdateSubscribers:[...this.state.fileSystemUpdateSubscribers,e]})},render(){return r.default.createElement(e,Object.assign({subscribeToFileSystemUpdate:this.subscribeToFileSystemUpdate},this.props))}});return n.hoc.connect(n.hoc.STORES.STATE_AND_DS,e=>{let{state:t,dsRead:a}=e;const i=a.platform.editorApps.DATA_BINDING.appDefId,{fileSystemUpdateTime:o}=l.default.appsStore.selectors.getAppStore(t,i)||{};return{fileSystemUpdateTime:o}})(t)}}.apply(t,i))||(e.exports=o)},797:function(e,t,a){var i,o;i=[a,t,a(0),a(4),a(2),a(5),a(3),a(3089),a(3090),a(8)],void 0===(o=function(e,t,a,i,o,n,l,r,s,p){"use strict";return i=a.__importDefault(i),o=a.__importStar(o),n=a.__importDefault(n),l=a.__importDefault(l),r=a.__importDefault(r),s=a.__importDefault(s),p=a.__importDefault(p),n.default({displayName:"LoadCollectionsPlaceholder",propTypes:{isBlank:i.default.bool.isRequired,isLoading:i.default.bool.isRequired,hasError:i.default.bool.isRequired,hasCollections:i.default.bool.isRequired,loadCollections:i.default.func.isRequired,emptyStateTitle:i.default.string.isRequired,emptyStatDescription:i.default.string.isRequired,emptyStatIcon:i.default.string.isRequired},mixins:[o.translationMixin],render(){return this.props.isBlank?null:l.default.createElement("div",{key:"load-collections-placeholder",className:"collections-manager-panel"},this.props.isLoading?l.default.createElement("div",{key:"spinner",className:"spinner"},l.default.createElement(p.default.Composites.Preloader,{height:300},l.default.createElement(p.default.Preloader,{className:"medium"}),l.default.createElement(p.default.TextLabel,{type:"T02",value:"SiteApp_WixData_DataManager_Tab_Loading_Text"}))):null,this.props.isLoading?null:l.default.createElement("div",{key:"application-states-wrapper",className:"application-states-wrapper"},this.props.hasError?l.default.createElement(s.default,{key:"error-state",onRetryClick:this.props.loadCollections}):null,this.props.hasError?null:l.default.createElement("div",{key:"collectionsManager",className:"collections-manager"},this.props.hasCollections?l.default.createElement("div",{key:"load-collections-placeholder-children-container",className:"load-collections-placeholder-children-container"},this.props.children):null,this.props.hasCollections?null:l.default.createElement(r.default,{key:"emptyState",aid:"empty-state",title:this.props.emptyStateTitle,description:this.props.emptyStateDescription,icon:this.props.emptyStateIcon}))))}})}.apply(t,i))||(e.exports=o)},8:function(e,t){e.exports=s},9:function(e,t){e.exports=p}})}));
//# sourceMappingURL=wixData.min.js.map